/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={60:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<form class="register-form" data-form novalidate>\n    <div class="register-form__fields">\n        <div data-slot="name"></div>\n        <div data-slot="login"></div>\n        <div data-slot="birthdate"></div>\n        <div data-slot="gender"></div>\n        <div data-slot="password"></div>\n        <div data-slot="passwordRepeat"></div>\n    </div>\n    <div class="register-form__error" data-slot="error" aria-live="polite"></div>\n    <div class="register-form__actions" data-slot="submit"></div>\n</form>\n'},useData:!0})},81:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,u="function",c=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <img class="header__avatar header__avatar--image" src="'+c(typeof(i=null!=(i=s(n,"imageUrl")||(null!=t?s(t,"imageUrl"):t))?i:l)===u?i.call(a,{name:"imageUrl",hash:{},data:o,loc:{start:{line:3,column:63},end:{line:3,column:75}}}):i)+'" alt="'+c(typeof(i=null!=(i=s(n,"label")||(null!=t?s(t,"label"):t))?i:l)===u?i.call(a,{name:"label",hash:{},data:o,loc:{start:{line:3,column:82},end:{line:3,column:91}}}):i)+'" loading="lazy" decoding="async" />\n'},3:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <span class="header__avatar">'+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"label")||(null!=t?a(t,"label"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"label",hash:{},data:o,loc:{start:{line:5,column:37},end:{line:5,column:46}}}):i)+"</span>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<button type="button" class="header__avatar-btn" data-avatar-button>\n'+(null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"imageUrl"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:2,column:4},end:{line:6,column:11}}}))?i:"")+"</button>\n"},useData:!0})},139:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<div class="main-layout">\n    <header data-slot="header" class="main-layout__header"></header>\n\n    <div class="main-layout__container">\n        <aside data-slot="sidebar" class="main-layout__sidebar"></aside>\n        <main data-slot="main" class="main-layout__main"></main>\n    </div>\n\n    <div data-slot="modal" class="main-layout__modal-root"></div>\n\n    <div class="main-layout__loading" aria-hidden="true">\n        <div class="main-layout__spinner"></div>\n    </div>\n</div>\n'},useData:!0})},192:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".mail-item{display:grid;grid-template-columns:auto minmax(160px, 1fr) minmax(200px, 1.2fr) auto;align-items:center;column-gap:16px;padding:12px 16px;cursor:pointer;transition:background .12s ease;border-bottom:1px solid #d6e3f3;border-radius:12px}.mail-item__left{display:flex;justify-content:center;align-items:center;flex-direction:row;gap:10px;flex-shrink:0}.mail-item--unread .mail-item__status{background:#5163eb}.mail-item:hover{background:rgba(81,99,235,.12)}.mail-item__status{width:8px;height:8px;border-radius:50%;background:rgba(0,0,0,0);justify-self:center}.mail-item__avatar{width:36px;height:36px;border-radius:50%;object-fit:cover}.mail-item__avatar--placeholder{display:flex;align-items:center;justify-content:center;background:#e2e8f0;color:#5163eb;font-weight:600;text-transform:uppercase}.mail-item__from{min-width:0;font-weight:700;color:#1f2937;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mail-item__subject{align-self:center;font-weight:600;color:#1f2937;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:0}.mail-item__preview{align-self:center;color:#6b7280;font-size:16px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:0}.mail-item__time{align-self:center;font-size:12px;color:#94a3b8}","",{version:3,sources:["webpack://./src/shared/components/MailItem/MailItem.scss"],names:[],mappings:"AAAA,WAAW,YAAY,CAAC,uEAAuE,CAAC,kBAAkB,CAAC,eAAe,CAAC,iBAAiB,CAAC,cAAc,CAAC,+BAA+B,CAAC,+BAA+B,CAAC,kBAAkB,CAAC,iBAAiB,YAAY,CAAC,sBAAsB,CAAC,kBAAkB,CAAC,kBAAkB,CAAC,QAAQ,CAAC,aAAa,CAAC,sCAAsC,kBAAkB,CAAC,iBAAiB,8BAA8B,CAAC,mBAAmB,SAAS,CAAC,UAAU,CAAC,iBAAiB,CAAC,wBAAwB,CAAC,mBAAmB,CAAC,mBAAmB,UAAU,CAAC,WAAW,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,gCAAgC,YAAY,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,kBAAkB,CAAC,aAAa,CAAC,eAAe,CAAC,wBAAwB,CAAC,iBAAiB,WAAW,CAAC,eAAe,CAAC,aAAa,CAAC,kBAAkB,CAAC,eAAe,CAAC,sBAAsB,CAAC,oBAAoB,iBAAiB,CAAC,eAAe,CAAC,aAAa,CAAC,kBAAkB,CAAC,eAAe,CAAC,sBAAsB,CAAC,WAAW,CAAC,oBAAoB,iBAAiB,CAAC,aAAa,CAAC,cAAc,CAAC,kBAAkB,CAAC,eAAe,CAAC,sBAAsB,CAAC,WAAW,CAAC,iBAAiB,iBAAiB,CAAC,cAAc,CAAC,aAAa",sourcesContent:[".mail-item{display:grid;grid-template-columns:auto minmax(160px, 1fr) minmax(200px, 1.2fr) auto;align-items:center;column-gap:16px;padding:12px 16px;cursor:pointer;transition:background .12s ease;border-bottom:1px solid #d6e3f3;border-radius:12px}.mail-item__left{display:flex;justify-content:center;align-items:center;flex-direction:row;gap:10px;flex-shrink:0}.mail-item--unread .mail-item__status{background:#5163eb}.mail-item:hover{background:rgba(81,99,235,.12)}.mail-item__status{width:8px;height:8px;border-radius:50%;background:rgba(0,0,0,0);justify-self:center}.mail-item__avatar{width:36px;height:36px;border-radius:50%;object-fit:cover}.mail-item__avatar--placeholder{display:flex;align-items:center;justify-content:center;background:#e2e8f0;color:#5163eb;font-weight:600;text-transform:uppercase}.mail-item__from{min-width:0;font-weight:700;color:#1f2937;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mail-item__subject{align-self:center;font-weight:600;color:#1f2937;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:0}.mail-item__preview{align-self:center;color:#6b7280;font-size:16px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:0}.mail-item__time{align-self:center;font-size:12px;color:#94a3b8}"],sourceRoot:""}]);const l=a},218:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i),l=n(4417),u=n.n(l),c=new URL(n(2610),n.b),s=a()(o()),f=u()(c);s.push([e.id,`.auth-layout{background:url(${f});background-attachment:fixed;background-size:cover;background-position:center;background-repeat:no-repeat;min-height:100vh;display:flex;align-items:center;justify-content:center;font-family:"Nunito Sans",sans-serif;padding:12px}.auth-layout__panel{background-color:#fff;width:min(450px,100%);height:830px;border-radius:20px;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding:40px;padding-right:50px;box-sizing:border-box;padding-bottom:150px}.auth-layout__logo{display:flex;align-items:center;justify-content:center;font-weight:600;flex-direction:column;font-size:40px;color:#5163eb;text-decoration:none}.auth-layout__logo-icon{width:40px;height:40px;margin-right:12px}.auth-layout__logo-text{letter-spacing:.02em}.auth-layout__content{width:100%;flex:1;align-items:center;justify-content:center}`,"",{version:3,sources:["webpack://./src/app/components/AuthLayout/AuthLayout.scss"],names:[],mappings:"AAAA,aAAa,kDAAuD,CAAC,2BAA2B,CAAC,qBAAqB,CAAC,0BAA0B,CAAC,2BAA2B,CAAC,gBAAgB,CAAC,YAAY,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,oCAAoC,CAAC,YAAY,CAAC,oBAAoB,qBAAqB,CAAC,qBAAqB,CAAC,YAAY,CAAC,kBAAkB,CAAC,YAAY,CAAC,qBAAqB,CAAC,kBAAkB,CAAC,0BAA0B,CAAC,YAAY,CAAC,kBAAkB,CAAC,qBAAqB,CAAC,oBAAoB,CAAC,mBAAmB,YAAY,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,eAAe,CAAC,qBAAqB,CAAC,cAAc,CAAC,aAAa,CAAC,oBAAoB,CAAC,wBAAwB,UAAU,CAAC,WAAW,CAAC,iBAAiB,CAAC,wBAAwB,oBAAoB,CAAC,sBAAsB,UAAU,CAAC,MAAM,CAAC,kBAAkB,CAAC,sBAAsB",sourcesContent:['.auth-layout{background:url("../../../../public/img/background.jpg");background-attachment:fixed;background-size:cover;background-position:center;background-repeat:no-repeat;min-height:100vh;display:flex;align-items:center;justify-content:center;font-family:"Nunito Sans",sans-serif;padding:12px}.auth-layout__panel{background-color:#fff;width:min(450px,100%);height:830px;border-radius:20px;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding:40px;padding-right:50px;box-sizing:border-box;padding-bottom:150px}.auth-layout__logo{display:flex;align-items:center;justify-content:center;font-weight:600;flex-direction:column;font-size:40px;color:#5163eb;text-decoration:none}.auth-layout__logo-icon{width:40px;height:40px;margin-right:12px}.auth-layout__logo-text{letter-spacing:.02em}.auth-layout__content{width:100%;flex:1;align-items:center;justify-content:center}'],sourceRoot:""}]);const p=s},261:(e,t,n)=>{"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.__esModule=!0;var i=o(n(2871)),a=r(n(9613)),l=r(n(3769)),u=o(n(2849)),c=o(n(7624)),s=r(n(1148));function f(){var e=new i.HandlebarsEnvironment;return u.extend(e,i),e.SafeString=a.default,e.Exception=l.default,e.Utils=u,e.escapeExpression=u.escapeExpression,e.VM=c,e.template=function(t){return c.template(t,e)},e}var p=f();p.create=f,s.default(p),p.default=p,t.default=p,e.exports=t.default},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},566:(e,t,n)=>{"use strict";t.__esModule=!0;var r=n(2849),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=r.indexOf(o.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=o.lookupLevel(e),"undefined"!=typeof console&&o.lookupLevel(o.level)<=e){var t=o.methodMap[e];console[t]||(t="log");for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];console[t].apply(console,r)}}};t.default=o,e.exports=t.default},878:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".header__avatar-btn{background:rgba(0,0,0,0);border:none;cursor:pointer;padding:8px;border-radius:50%;transition:background .12s ease}.header__avatar{display:inline-flex;align-items:center;justify-content:center;font-size:16px;font-weight:600;width:50px;height:50px;border-radius:50%;background:#d9f0d9;color:#397639;text-transform:uppercase}.header__avatar--image{object-fit:cover}","",{version:3,sources:["webpack://./src/shared/components/AvatarButton/AvatarButton.scss"],names:[],mappings:"AAAA,oBAAoB,wBAAwB,CAAC,WAAW,CAAC,cAAc,CAAC,WAAW,CAAC,iBAAiB,CAAC,+BAA+B,CAAC,gBAAgB,mBAAmB,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,cAAc,CAAC,eAAe,CAAC,UAAU,CAAC,WAAW,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,aAAa,CAAC,wBAAwB,CAAC,uBAAuB,gBAAgB",sourcesContent:[".header__avatar-btn{background:rgba(0,0,0,0);border:none;cursor:pointer;padding:8px;border-radius:50%;transition:background .12s ease}.header__avatar{display:inline-flex;align-items:center;justify-content:center;font-size:16px;font-weight:600;width:50px;height:50px;border-radius:50%;background:#d9f0d9;color:#397639;text-transform:uppercase}.header__avatar--image{object-fit:cover}"],sourceRoot:""}]);const l=a},908:(e,t,n)=>{"use strict";t.__esModule=!0;var r,o=n(2849),i=(r=n(3769))&&r.__esModule?r:{default:r};t.default=function(e){e.registerHelper("with",function(e,t){if(2!=arguments.length)throw new i.default("#with requires exactly one argument");o.isFunction(e)&&(e=e.call(this));var n=t.fn;if(o.isEmpty(e))return t.inverse(this);var r=t.data;return t.data&&t.ids&&((r=o.createFrame(t.data)).contextPath=o.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:r,blockParams:o.blockParams([e],[r&&r.contextPath])})})},e.exports=t.default},1113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},1148:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e){"object"!=typeof globalThis&&(Object.prototype.__defineGetter__("__magic__",function(){return this}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__);var t=globalThis.Handlebars;e.noConflict=function(){return globalThis.Handlebars===e&&(globalThis.Handlebars=t),e}},e.exports=t.default},1255:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".profile-sidebar{display:flex;flex-direction:column;align-items:center;gap:18px;padding:28px 16px;width:100%;height:100%;box-sizing:border-box;color:#1f2544;text-align:center}.profile-sidebar__avatar{width:96px;height:96px;border-radius:50%;background:linear-gradient(160deg, rgba(81, 99, 235, 0.25), rgba(116, 197, 255, 0.35));display:flex;align-items:center;justify-content:center;overflow:hidden}.profile-sidebar__avatar span{font-size:36px;font-weight:700;color:#fff}.profile-sidebar__avatar img{width:100%;height:100%;object-fit:cover}.profile-sidebar__name{font-size:22px;font-weight:700;text-align:center}.profile-sidebar__email{font-size:14px;color:#5a6285;text-align:center}.profile-sidebar__tabs{width:100%;display:flex;flex-direction:column;gap:8px;list-style:none;padding:0;margin:12px 0 0;align-items:stretch}.profile-sidebar__back{margin-top:12px;width:100%;display:flex;justify-content:center}.profile-sidebar__back .ui-button{color:#5163eb;font-size:15px;gap:10px}.profile-sidebar__back .ui-button__icon img{width:18px;height:18px}","",{version:3,sources:["webpack://./src/pages/profile/components/ProfileSidebar/ProfileSidebar.scss"],names:[],mappings:"AAAA,iBAAiB,YAAY,CAAC,qBAAqB,CAAC,kBAAkB,CAAC,QAAQ,CAAC,iBAAiB,CAAC,UAAU,CAAC,WAAW,CAAC,qBAAqB,CAAC,aAAa,CAAC,iBAAiB,CAAC,yBAAyB,UAAU,CAAC,WAAW,CAAC,iBAAiB,CAAC,sFAAsF,CAAC,YAAY,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,eAAe,CAAC,8BAA8B,cAAc,CAAC,eAAe,CAAC,UAAU,CAAC,6BAA6B,UAAU,CAAC,WAAW,CAAC,gBAAgB,CAAC,uBAAuB,cAAc,CAAC,eAAe,CAAC,iBAAiB,CAAC,wBAAwB,cAAc,CAAC,aAAa,CAAC,iBAAiB,CAAC,uBAAuB,UAAU,CAAC,YAAY,CAAC,qBAAqB,CAAC,OAAO,CAAC,eAAe,CAAC,SAAS,CAAC,eAAe,CAAC,mBAAmB,CAAC,uBAAuB,eAAe,CAAC,UAAU,CAAC,YAAY,CAAC,sBAAsB,CAAC,kCAAkC,aAAa,CAAC,cAAc,CAAC,QAAQ,CAAC,4CAA4C,UAAU,CAAC,WAAW",sourcesContent:[".profile-sidebar{display:flex;flex-direction:column;align-items:center;gap:18px;padding:28px 16px;width:100%;height:100%;box-sizing:border-box;color:#1f2544;text-align:center}.profile-sidebar__avatar{width:96px;height:96px;border-radius:50%;background:linear-gradient(160deg, rgba(81, 99, 235, 0.25), rgba(116, 197, 255, 0.35));display:flex;align-items:center;justify-content:center;overflow:hidden}.profile-sidebar__avatar span{font-size:36px;font-weight:700;color:#fff}.profile-sidebar__avatar img{width:100%;height:100%;object-fit:cover}.profile-sidebar__name{font-size:22px;font-weight:700;text-align:center}.profile-sidebar__email{font-size:14px;color:#5a6285;text-align:center}.profile-sidebar__tabs{width:100%;display:flex;flex-direction:column;gap:8px;list-style:none;padding:0;margin:12px 0 0;align-items:stretch}.profile-sidebar__back{margin-top:12px;width:100%;display:flex;justify-content:center}.profile-sidebar__back .ui-button{color:#5163eb;font-size:15px;gap:10px}.profile-sidebar__back .ui-button__icon img{width:18px;height:18px}"],sourceRoot:""}]);const l=a},1258:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const l=a},1354:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(o," */");return[t].concat([i]).join("\n")}return[t].join("\n")}},2122:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<aside class="sidebar">\n    <button class="sidebar__compose" data-compose>Написать письмо</button>\n\n    <ul class="sidebar__folders" data-slot="folders"></ul>\n</aside>\n'},useData:!0})},2277:(e,t,n)=>{"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.registerDefaultHelpers=function(e){o.default(e),i.default(e),a.default(e),l.default(e),u.default(e),c.default(e),s.default(e)},t.moveHelperToHooks=function(e,t,n){e.helpers[t]&&(e.hooks[t]=e.helpers[t],n||delete e.helpers[t])};var o=r(n(6097)),i=r(n(6785)),a=r(n(4353)),l=r(n(2355)),u=r(n(5300)),c=r(n(7466)),s=r(n(908))},2288:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,'.input-field{position:relative;display:flex;flex-direction:column;font-family:"Nunito Sans",sans-serif;color:#000;padding-bottom:20px}.input-field__label{font-weight:600;margin-bottom:8px}.input-field__control{width:100%;font-size:16px;outline:none;transition:border-color .15s ease,box-shadow .15s ease;background:rgba(0,0,0,0);color:inherit}.input-field__control::placeholder{color:rgba(39,43,53,.6)}.input-field__hint{margin-top:8px;font-size:14px;color:#6b7280}.input-field__error{position:absolute;left:0;bottom:0;font-size:16px;color:#e65151;min-height:16px;line-height:1.2;transition:opacity .15s ease}.input-field--filled .input-field__control{border-radius:16px;border:1px solid rgba(81,99,235,.25);padding:16px 20px}.input-field--filled .input-field__control:focus{border-color:#5163eb}.input-field--underline{gap:6px;padding-bottom:18px}.input-field--underline .input-field__error{min-height:14px}.input-field--underline .input-field__label{font-size:14px;margin-bottom:4px}.input-field--underline .input-field__control{border:none;border-bottom:1px solid rgba(39,43,53,.15);border-radius:0;padding:14px 4px}.input-field--underline .input-field__control:focus{border-bottom-color:#5163eb;box-shadow:none}',"",{version:3,sources:["webpack://./src/shared/components/InputField/InputField.scss"],names:[],mappings:"AAAA,aAAa,iBAAiB,CAAC,YAAY,CAAC,qBAAqB,CAAC,oCAAoC,CAAC,UAAU,CAAC,mBAAmB,CAAC,oBAAoB,eAAe,CAAC,iBAAiB,CAAC,sBAAsB,UAAU,CAAC,cAAc,CAAC,YAAY,CAAC,sDAAsD,CAAC,wBAAwB,CAAC,aAAa,CAAC,mCAAmC,uBAAuB,CAAC,mBAAmB,cAAc,CAAC,cAAc,CAAC,aAAa,CAAC,oBAAoB,iBAAiB,CAAC,MAAM,CAAC,QAAQ,CAAC,cAAc,CAAC,aAAa,CAAC,eAAe,CAAC,eAAe,CAAC,4BAA4B,CAAC,2CAA2C,kBAAkB,CAAC,oCAAoC,CAAC,iBAAiB,CAAC,iDAAiD,oBAAoB,CAAC,wBAAwB,OAAO,CAAC,mBAAmB,CAAC,4CAA4C,eAAe,CAAC,4CAA4C,cAAc,CAAC,iBAAiB,CAAC,8CAA8C,WAAW,CAAC,0CAA0C,CAAC,eAAe,CAAC,gBAAgB,CAAC,oDAAoD,2BAA2B,CAAC,eAAe",sourcesContent:['.input-field{position:relative;display:flex;flex-direction:column;font-family:"Nunito Sans",sans-serif;color:#000;padding-bottom:20px}.input-field__label{font-weight:600;margin-bottom:8px}.input-field__control{width:100%;font-size:16px;outline:none;transition:border-color .15s ease,box-shadow .15s ease;background:rgba(0,0,0,0);color:inherit}.input-field__control::placeholder{color:rgba(39,43,53,.6)}.input-field__hint{margin-top:8px;font-size:14px;color:#6b7280}.input-field__error{position:absolute;left:0;bottom:0;font-size:16px;color:#e65151;min-height:16px;line-height:1.2;transition:opacity .15s ease}.input-field--filled .input-field__control{border-radius:16px;border:1px solid rgba(81,99,235,.25);padding:16px 20px}.input-field--filled .input-field__control:focus{border-color:#5163eb}.input-field--underline{gap:6px;padding-bottom:18px}.input-field--underline .input-field__error{min-height:14px}.input-field--underline .input-field__label{font-size:14px;margin-bottom:4px}.input-field--underline .input-field__control{border:none;border-bottom:1px solid rgba(39,43,53,.15);border-radius:0;padding:14px 4px}.input-field--underline .input-field__control:focus{border-bottom-color:#5163eb;box-shadow:none}'],sourceRoot:""}]);const l=a},2355:(e,t,n)=>{"use strict";t.__esModule=!0;var r,o=n(2849),i=(r=n(3769))&&r.__esModule?r:{default:r};t.default=function(e){e.registerHelper("if",function(e,t){if(2!=arguments.length)throw new i.default("#if requires exactly one argument");return o.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||o.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){if(2!=arguments.length)throw new i.default("#unless requires exactly one argument");return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},e.exports=t.default},2511:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return"profile-sidebar-tab--active"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a,l=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,c="function",s=e.escapeExpression,f=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="profile-sidebar-tab '+(null!=(i=f(n,"if").call(l,null!=t?f(t,"active"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:31},end:{line:1,column:79}}}))?i:"")+'" data-tab-id="'+s(typeof(a=null!=(a=f(n,"id")||(null!=t?f(t,"id"):t))?a:u)===c?a.call(l,{name:"id",hash:{},data:o,loc:{start:{line:1,column:94},end:{line:1,column:100}}}):a)+'">\n  <div class="profile-sidebar-tab__icon" data-icon></div>\n  <span class="profile-sidebar-tab__label">'+s(typeof(a=null!=(a=f(n,"label")||(null!=t?f(t,"label"):t))?a:u)===c?a.call(l,{name:"label",hash:{},data:o,loc:{start:{line:3,column:43},end:{line:3,column:52}}}):a)+"</span>\n</li>\n"},useData:!0})},2602:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,u="function",c=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'      <img src="'+c(typeof(i=null!=(i=s(n,"avatarUrl")||(null!=t?s(t,"avatarUrl"):t))?i:l)===u?i.call(a,{name:"avatarUrl",hash:{},data:o,loc:{start:{line:4,column:16},end:{line:4,column:29}}}):i)+'" alt="'+c(typeof(i=null!=(i=s(n,"name")||(null!=t?s(t,"name"):t))?i:l)===u?i.call(a,{name:"name",hash:{},data:o,loc:{start:{line:4,column:36},end:{line:4,column:44}}}):i)+'" loading="lazy" decoding="async" />\n'},3:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"      <span>"+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"initials")||(null!=t?a(t,"initials"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"initials",hash:{},data:o,loc:{start:{line:6,column:12},end:{line:6,column:24}}}):i)+"</span>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a,l=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,c="function",s=e.escapeExpression,f=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="profile-sidebar">\n  <div class="profile-sidebar__avatar">\n'+(null!=(i=f(n,"if").call(l,null!=t?f(t,"avatarUrl"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:3,column:4},end:{line:7,column:11}}}))?i:"")+'  </div>\n\n  <div class="profile-sidebar__name">'+s(typeof(a=null!=(a=f(n,"name")||(null!=t?f(t,"name"):t))?a:u)===c?a.call(l,{name:"name",hash:{},data:o,loc:{start:{line:10,column:37},end:{line:10,column:45}}}):a)+'</div>\n  <div class="profile-sidebar__email">'+s(typeof(a=null!=(a=f(n,"email")||(null!=t?f(t,"email"):t))?a:u)===c?a.call(l,{name:"email",hash:{},data:o,loc:{start:{line:11,column:38},end:{line:11,column:47}}}):a)+'</div>\n\n  <ul class="profile-sidebar__tabs" data-slot="tabs"></ul>\n\n  <div class="profile-sidebar__back" data-slot="back"></div>\n</div>\r\n'},useData:!0})},2610:(e,t,n)=>{"use strict";e.exports=n.p+"3119b2f9c702c8b5c60b.jpg"},2614:(e,t)=>{"use strict";t.__esModule=!0,t.wrapHelper=function(e,t){return"function"!=typeof e?e:function(){return arguments[arguments.length-1]=t(arguments[arguments.length-1]),e.apply(this,arguments)}}},2708:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,'.radio-group{border:none;padding:0;margin:0;display:flex;align-items:center;gap:12px;font-family:"Nunito Sans",sans-serif}.radio-group__label{font-weight:400;font-size:16px}.radio-group__options{padding-left:32px;display:flex;justify-content:center;align-items:center;gap:52px}.radio-group__option{display:inline-flex;align-items:center;gap:8px;font-size:16px}.radio-group__option input[type=radio]{accent-color:#5163eb}',"",{version:3,sources:["webpack://./src/shared/components/RadioGroup/RadioGroup.scss"],names:[],mappings:"AAAA,aAAa,WAAW,CAAC,SAAS,CAAC,QAAQ,CAAC,YAAY,CAAC,kBAAkB,CAAC,QAAQ,CAAC,oCAAoC,CAAC,oBAAoB,eAAe,CAAC,cAAc,CAAC,sBAAsB,iBAAiB,CAAC,YAAY,CAAC,sBAAsB,CAAC,kBAAkB,CAAC,QAAQ,CAAC,qBAAqB,mBAAmB,CAAC,kBAAkB,CAAC,OAAO,CAAC,cAAc,CAAC,uCAAuC,oBAAoB",sourcesContent:['.radio-group{border:none;padding:0;margin:0;display:flex;align-items:center;gap:12px;font-family:"Nunito Sans",sans-serif}.radio-group__label{font-weight:400;font-size:16px}.radio-group__options{padding-left:32px;display:flex;justify-content:center;align-items:center;gap:52px}.radio-group__option{display:inline-flex;align-items:center;gap:8px;font-size:16px}.radio-group__option input[type=radio]{accent-color:#5163eb}'],sourceRoot:""}]);const l=a},2849:(e,t)=>{"use strict";t.__esModule=!0,t.extend=a,t.indexOf=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},t.escapeExpression=function(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return o.test(e)?e.replace(r,i):e},t.isEmpty=function(e){return!e&&0!==e||!(!c(e)||0!==e.length)},t.createFrame=function(e){var t=a({},e);return t._parent=e,t},t.blockParams=function(e,t){return e.path=t,e},t.appendContextPath=function(e,t){return(e?e+".":"")+t};var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},r=/[&<>"'`=]/g,o=/[&<>"'`=]/;function i(e){return n[e]}function a(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}var l=Object.prototype.toString;t.toString=l;var u=function(e){return"function"==typeof e};u(/x/)&&(t.isFunction=u=function(e){return"function"==typeof e&&"[object Function]"===l.call(e)}),t.isFunction=u;var c=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===l.call(e)};t.isArray=c},2871:(e,t,n)=>{"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.HandlebarsEnvironment=f;var o=n(2849),i=r(n(3769)),a=n(2277),l=n(5940),u=r(n(566)),c=n(3865);t.VERSION="4.7.8",t.COMPILER_REVISION=8,t.LAST_COMPATIBLE_COMPILER_REVISION=7,t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};var s="[object Object]";function f(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},a.registerDefaultHelpers(this),l.registerDefaultDecorators(this)}f.prototype={constructor:f,logger:u.default,log:u.default.log,registerHelper:function(e,t){if(o.toString.call(e)===s){if(t)throw new i.default("Arg not supported with multiple helpers");o.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(o.toString.call(e)===s)o.extend(this.partials,e);else{if(void 0===t)throw new i.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(o.toString.call(e)===s){if(t)throw new i.default("Arg not supported with multiple decorators");o.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]},resetLoggedPropertyAccesses:function(){c.resetLoggedProperties()}};var p=u.default.log;t.log=p,t.createFrame=o.createFrame,t.logger=u.default},3245:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".register-form{display:flex;flex-direction:column;width:100%}.register-form__fields{display:flex;flex-direction:column;gap:16px;margin-bottom:16px}.register-form__fields>*{position:relative}.register-form__error{min-height:20px;margin-bottom:12px;color:var(--color-error, #d14343);font-size:14px;line-height:20px;visibility:hidden;opacity:0;transition:opacity .15s ease}.register-form__error--visible{visibility:visible;opacity:1}.register-form__actions{display:flex;flex-direction:column}.register-form__actions .ui-button{width:100%}","",{version:3,sources:["webpack://./src/pages/register/components/RegisterForm/RegisterForm.scss"],names:[],mappings:"AAAA,eAAe,YAAY,CAAC,qBAAqB,CAAC,UAAU,CAAC,uBAAuB,YAAY,CAAC,qBAAqB,CAAC,QAAQ,CAAC,kBAAkB,CAAC,yBAAyB,iBAAiB,CAAC,sBAAsB,eAAe,CAAC,kBAAkB,CAAC,iCAAiC,CAAC,cAAc,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,SAAS,CAAC,4BAA4B,CAAC,+BAA+B,kBAAkB,CAAC,SAAS,CAAC,wBAAwB,YAAY,CAAC,qBAAqB,CAAC,mCAAmC,UAAU",sourcesContent:[".register-form{display:flex;flex-direction:column;width:100%}.register-form__fields{display:flex;flex-direction:column;gap:16px;margin-bottom:16px}.register-form__fields>*{position:relative}.register-form__error{min-height:20px;margin-bottom:12px;color:var(--color-error, #d14343);font-size:14px;line-height:20px;visibility:hidden;opacity:0;transition:opacity .15s ease}.register-form__error--visible{visibility:visible;opacity:1}.register-form__actions{display:flex;flex-direction:column}.register-form__actions .ui-button{width:100%}"],sourceRoot:""}]);const l=a},3505:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return"sidebar-folder--active"},3:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="sidebar-folder__count">'+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"count")||(null!=t?a(t,"count"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"count",hash:{},data:o,loc:{start:{line:4,column:53},end:{line:4,column:62}}}):i)+"</span>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a,l=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,c="function",s=e.escapeExpression,f=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="sidebar-folder '+(null!=(i=f(n,"if").call(l,null!=t?f(t,"active"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:26},end:{line:1,column:69}}}))?i:"")+'" data-folder-id="'+s(typeof(a=null!=(a=f(n,"id")||(null!=t?f(t,"id"):t))?a:u)===c?a.call(l,{name:"id",hash:{},data:o,loc:{start:{line:1,column:87},end:{line:1,column:93}}}):a)+'">\r\n    <div class="sidebar-folder__icon"></div>\r\n    <span class="sidebar-folder__name">'+s(typeof(a=null!=(a=f(n,"name")||(null!=t?f(t,"name"):t))?a:u)===c?a.call(l,{name:"name",hash:{},data:o,loc:{start:{line:3,column:39},end:{line:3,column:47}}}):a)+"</span>\r\n    "+(null!=(i=f(n,"if").call(l,null!=t?f(t,"count"):t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:4,column:4},end:{line:4,column:76}}}))?i:"")+"\r\n</li>\r\n"},useData:!0})},3633:(e,t,n)=>{e.exports=n(261).default},3648:(e,t,n)=>{"use strict";e.exports=n.p+"b1ff7454b571ba49c561.png"},3714:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".profile-page{width:100%;height:100%;background:#f5f7ff;padding:24px;box-sizing:border-box}","",{version:3,sources:["webpack://./src/pages/profile/views/ProfilePage.scss"],names:[],mappings:"AAAA,cAAc,UAAU,CAAC,WAAW,CAAC,kBAAkB,CAAC,YAAY,CAAC,qBAAqB",sourcesContent:[".profile-page{width:100%;height:100%;background:#f5f7ff;padding:24px;box-sizing:border-box}"],sourceRoot:""}]);const l=a},3769:(e,t)=>{"use strict";t.__esModule=!0;var n=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function r(e,t){var o=t&&t.loc,i=void 0,a=void 0,l=void 0,u=void 0;o&&(i=o.start.line,a=o.end.line,l=o.start.column,u=o.end.column,e+=" - "+i+":"+l);for(var c=Error.prototype.constructor.call(this,e),s=0;s<n.length;s++)this[n[s]]=c[n[s]];Error.captureStackTrace&&Error.captureStackTrace(this,r);try{o&&(this.lineNumber=i,this.endLineNumber=a,Object.defineProperty?(Object.defineProperty(this,"column",{value:l,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:u,enumerable:!0})):(this.column=l,this.endColumn=u))}catch(e){}}r.prototype=new Error,t.default=r,e.exports=t.default},3823:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <span class="input-field__label">'+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"label")||(null!=t?a(t,"label"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"label",hash:{},data:o,loc:{start:{line:3,column:41},end:{line:3,column:50}}}):i)+"</span>\n"},3:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'autocomplete="'+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"autocomplete")||(null!=t?a(t,"autocomplete"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"autocomplete",hash:{},data:o,loc:{start:{line:11,column:42},end:{line:11,column:58}}}):i)+'" '},5:function(e,t,n,r,o){return"required"},7:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <span class="input-field__hint">'+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"hint")||(null!=t?a(t,"hint"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"hint",hash:{},data:o,loc:{start:{line:16,column:40},end:{line:16,column:48}}}):i)+"</span>\n"},9:function(e,t,n,r,o){return"hidden"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a,l=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,c="function",s=e.escapeExpression,f=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<label class="input-field input-field--'+s(typeof(a=null!=(a=f(n,"variant")||(null!=t?f(t,"variant"):t))?a:u)===c?a.call(l,{name:"variant",hash:{},data:o,loc:{start:{line:1,column:39},end:{line:1,column:50}}}):a)+'">\n'+(null!=(i=f(n,"if").call(l,null!=t?f(t,"label"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:2,column:4},end:{line:4,column:11}}}))?i:"")+'    <input\n        class="input-field__control"\n        type="'+s(typeof(a=null!=(a=f(n,"type")||(null!=t?f(t,"type"):t))?a:u)===c?a.call(l,{name:"type",hash:{},data:o,loc:{start:{line:7,column:14},end:{line:7,column:22}}}):a)+'"\n        name="'+s(typeof(a=null!=(a=f(n,"name")||(null!=t?f(t,"name"):t))?a:u)===c?a.call(l,{name:"name",hash:{},data:o,loc:{start:{line:8,column:14},end:{line:8,column:22}}}):a)+'"\n        placeholder="'+s(typeof(a=null!=(a=f(n,"placeholder")||(null!=t?f(t,"placeholder"):t))?a:u)===c?a.call(l,{name:"placeholder",hash:{},data:o,loc:{start:{line:9,column:21},end:{line:9,column:36}}}):a)+'"\n        value="'+s(typeof(a=null!=(a=f(n,"value")||(null!=t?f(t,"value"):t))?a:u)===c?a.call(l,{name:"value",hash:{},data:o,loc:{start:{line:10,column:15},end:{line:10,column:24}}}):a)+'"\n        '+(null!=(i=f(n,"if").call(l,null!=t?f(t,"autocomplete"):t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:11,column:8},end:{line:11,column:67}}}))?i:"")+"\n        "+(null!=(i=f(n,"if").call(l,null!=t?f(t,"required"):t,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o,loc:{start:{line:12,column:8},end:{line:12,column:39}}}))?i:"")+"\n        data-input\n    />\n"+(null!=(i=f(n,"if").call(l,null!=t?f(t,"hint"):t,{name:"if",hash:{},fn:e.program(7,o,0),inverse:e.noop,data:o,loc:{start:{line:15,column:4},end:{line:17,column:11}}}))?i:"")+'    <span class="input-field__error" data-error '+(null!=(i=f(n,"unless").call(l,null!=t?f(t,"error"):t,{name:"unless",hash:{},fn:e.program(9,o,0),inverse:e.noop,data:o,loc:{start:{line:18,column:48},end:{line:18,column:82}}}))?i:"")+">"+s(typeof(a=null!=(a=f(n,"error")||(null!=t?f(t,"error"):t))?a:u)===c?a.call(l,{name:"error",hash:{},data:o,loc:{start:{line:18,column:83},end:{line:18,column:92}}}):a)+"</span>\n</label>\n"},useData:!0})},3865:(e,t,n)=>{"use strict";t.__esModule=!0,t.createProtoAccessControl=function(e){var t=Object.create(null);t.constructor=!1,t.__defineGetter__=!1,t.__defineSetter__=!1,t.__lookupGetter__=!1;var n=Object.create(null);return n.__proto__=!1,{properties:{whitelist:o.createNewLookupObject(n,e.allowedProtoProperties),defaultValue:e.allowProtoPropertiesByDefault},methods:{whitelist:o.createNewLookupObject(t,e.allowedProtoMethods),defaultValue:e.allowProtoMethodsByDefault}}},t.resultIsAllowed=function(e,t,n){return function(e,t){return void 0!==e.whitelist[t]?!0===e.whitelist[t]:void 0!==e.defaultValue?e.defaultValue:(function(e){!0!==a[e]&&(a[e]=!0,i.default.log("error",'Handlebars: Access has been denied to resolve the property "'+e+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(t),!1)}("function"==typeof e?t.methods:t.properties,n)},t.resetLoggedProperties=function(){Object.keys(a).forEach(function(e){delete a[e]})};var r,o=n(9726),i=(r=n(566))&&r.__esModule?r:{default:r},a=Object.create(null)},3956:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".profile-sidebar-tab{display:flex;align-items:center;gap:12px;padding:10px 14px;border-radius:14px;cursor:pointer;transition:background .15s ease,color .15s ease;color:#1f2544;font-weight:600}.profile-sidebar-tab:hover{background:rgba(81,99,235,.08)}.profile-sidebar-tab--active{background:rgba(81,99,235,.14);color:#5163eb}.profile-sidebar-tab__icon{width:24px;height:24px;background-size:contain;background-repeat:no-repeat;background-position:center}.profile-sidebar-tab__label{flex:1}","",{version:3,sources:["webpack://./src/pages/profile/components/ProfileSidebar/components/ProfileSidebarTabItem/ProfileSidebarTabItem.scss"],names:[],mappings:"AAAA,qBAAqB,YAAY,CAAC,kBAAkB,CAAC,QAAQ,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,cAAc,CAAC,+CAA+C,CAAC,aAAa,CAAC,eAAe,CAAC,2BAA2B,8BAA8B,CAAC,6BAA6B,8BAA8B,CAAC,aAAa,CAAC,2BAA2B,UAAU,CAAC,WAAW,CAAC,uBAAuB,CAAC,2BAA2B,CAAC,0BAA0B,CAAC,4BAA4B,MAAM",sourcesContent:[".profile-sidebar-tab{display:flex;align-items:center;gap:12px;padding:10px 14px;border-radius:14px;cursor:pointer;transition:background .15s ease,color .15s ease;color:#1f2544;font-weight:600}.profile-sidebar-tab:hover{background:rgba(81,99,235,.08)}.profile-sidebar-tab--active{background:rgba(81,99,235,.14);color:#5163eb}.profile-sidebar-tab__icon{width:24px;height:24px;background-size:contain;background-repeat:no-repeat;background-position:center}.profile-sidebar-tab__label{flex:1}"],sourceRoot:""}]);const l=a},3957:e=>{e.exports=function(){return""}},4143:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".profile-form{display:flex;flex-direction:column;gap:32px;padding:32px 40px;background:#fff;border-radius:24px;box-shadow:0 18px 40px rgba(31,37,68,.08);color:#1f2544}.profile-form__title{margin:0;font-size:28px;font-weight:700}.profile-form__content{display:flex;gap:40px;align-items:flex-start;flex-wrap:wrap}.profile-form__avatar{width:180px;min-width:180px;display:flex;flex-direction:column;align-items:center;gap:16px}.profile-form__avatar>span,.profile-form__avatar>img{width:160px;height:160px;border-radius:50%;background:linear-gradient(170deg, rgba(81, 99, 235, 0.28), rgba(116, 197, 255, 0.4));display:flex;align-items:center;justify-content:center;font-size:52px;font-weight:700;color:#fff;object-fit:cover}.profile-form__upload{display:flex;justify-content:center;width:100%}.profile-form__upload .ui-button{font-size:15px;color:#5163eb}.profile-form__fields{flex:1;display:flex;flex-direction:column;gap:18px;max-width:420px;width:100%}.profile-form__field .ui-input{width:100%}.profile-form__field--half .ui-input{max-width:220px}.profile-form__actions{display:flex;gap:16px;justify-content:flex-start;margin-top:12px}.profile-form__actions .ui-button{min-width:160px}@media(max-width: 900px){.profile-form__content{flex-direction:column;align-items:stretch}.profile-form__avatar{align-self:center}.profile-form__actions{justify-content:center;flex-wrap:wrap}}","",{version:3,sources:["webpack://./src/pages/profile/components/ProfileForm/ProfileForm.scss"],names:[],mappings:"AAAA,cAAc,YAAY,CAAC,qBAAqB,CAAC,QAAQ,CAAC,iBAAiB,CAAC,eAAe,CAAC,kBAAkB,CAAC,yCAAyC,CAAC,aAAa,CAAC,qBAAqB,QAAQ,CAAC,cAAc,CAAC,eAAe,CAAC,uBAAuB,YAAY,CAAC,QAAQ,CAAC,sBAAsB,CAAC,cAAc,CAAC,sBAAsB,WAAW,CAAC,eAAe,CAAC,YAAY,CAAC,qBAAqB,CAAC,kBAAkB,CAAC,QAAQ,CAAC,qDAAqD,WAAW,CAAC,YAAY,CAAC,iBAAiB,CAAC,qFAAqF,CAAC,YAAY,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,cAAc,CAAC,eAAe,CAAC,UAAU,CAAC,gBAAgB,CAAC,sBAAsB,YAAY,CAAC,sBAAsB,CAAC,UAAU,CAAC,iCAAiC,cAAc,CAAC,aAAa,CAAC,sBAAsB,MAAM,CAAC,YAAY,CAAC,qBAAqB,CAAC,QAAQ,CAAC,eAAe,CAAC,UAAU,CAAC,+BAA+B,UAAU,CAAC,qCAAqC,eAAe,CAAC,uBAAuB,YAAY,CAAC,QAAQ,CAAC,0BAA0B,CAAC,eAAe,CAAC,kCAAkC,eAAe,CAAC,yBAAyB,uBAAuB,qBAAqB,CAAC,mBAAmB,CAAC,sBAAsB,iBAAiB,CAAC,uBAAuB,sBAAsB,CAAC,cAAc,CAAC",sourcesContent:[".profile-form{display:flex;flex-direction:column;gap:32px;padding:32px 40px;background:#fff;border-radius:24px;box-shadow:0 18px 40px rgba(31,37,68,.08);color:#1f2544}.profile-form__title{margin:0;font-size:28px;font-weight:700}.profile-form__content{display:flex;gap:40px;align-items:flex-start;flex-wrap:wrap}.profile-form__avatar{width:180px;min-width:180px;display:flex;flex-direction:column;align-items:center;gap:16px}.profile-form__avatar>span,.profile-form__avatar>img{width:160px;height:160px;border-radius:50%;background:linear-gradient(170deg, rgba(81, 99, 235, 0.28), rgba(116, 197, 255, 0.4));display:flex;align-items:center;justify-content:center;font-size:52px;font-weight:700;color:#fff;object-fit:cover}.profile-form__upload{display:flex;justify-content:center;width:100%}.profile-form__upload .ui-button{font-size:15px;color:#5163eb}.profile-form__fields{flex:1;display:flex;flex-direction:column;gap:18px;max-width:420px;width:100%}.profile-form__field .ui-input{width:100%}.profile-form__field--half .ui-input{max-width:220px}.profile-form__actions{display:flex;gap:16px;justify-content:flex-start;margin-top:12px}.profile-form__actions .ui-button{min-width:160px}@media(max-width: 900px){.profile-form__content{flex-direction:column;align-items:stretch}.profile-form__avatar{align-self:center}.profile-form__actions{justify-content:center;flex-wrap:wrap}}"],sourceRoot:""}]);const l=a},4190:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".sidebar-folder{display:flex;align-items:center;padding:10px 12px;border-radius:10px;cursor:pointer;transition:background .12s ease;gap:12px}.sidebar-folder:hover{background:rgba(81,99,235,.08)}.sidebar-folder--active{background:rgba(81,99,235,.16);font-weight:600}.sidebar-folder__icon{width:24px;height:24px;background-size:cover;background-repeat:no-repeat}.sidebar-folder__name{flex:1 1 auto}.sidebar-folder__count{background:rgba(81,99,235,.1);padding:2px 10px;border-radius:12px;font-size:12px;color:#5163eb}","",{version:3,sources:["webpack://./src/shared/components/SidebarFolderItem/SidebarFolderItem.scss"],names:[],mappings:"AAAA,gBAAgB,YAAY,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,cAAc,CAAC,+BAA+B,CAAC,QAAQ,CAAC,sBAAsB,8BAA8B,CAAC,wBAAwB,8BAA8B,CAAC,eAAe,CAAC,sBAAsB,UAAU,CAAC,WAAW,CAAC,qBAAqB,CAAC,2BAA2B,CAAC,sBAAsB,aAAa,CAAC,uBAAuB,6BAA6B,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,cAAc,CAAC,aAAa",sourcesContent:[".sidebar-folder{display:flex;align-items:center;padding:10px 12px;border-radius:10px;cursor:pointer;transition:background .12s ease;gap:12px}.sidebar-folder:hover{background:rgba(81,99,235,.08)}.sidebar-folder--active{background:rgba(81,99,235,.16);font-weight:600}.sidebar-folder__icon{width:24px;height:24px;background-size:cover;background-repeat:no-repeat}.sidebar-folder__name{flex:1 1 auto}.sidebar-folder__count{background:rgba(81,99,235,.1);padding:2px 10px;border-radius:12px;font-size:12px;color:#5163eb}"],sourceRoot:""}]);const l=a},4353:(e,t,n)=>{"use strict";t.__esModule=!0;var r,o=(r=n(3769))&&r.__esModule?r:{default:r};t.default=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new o.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t.default},4417:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},5056:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},5072:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],l=0;l<e.length;l++){var u=e[l],c=r.base?u[0]+r.base:u[0],s=i[c]||0,f="".concat(c," ").concat(s);i[c]=s+1;var p=n(f),d={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==p)t[p].references++,t[p].updater(d);else{var A=o(d,r);r.byIndex=l,t.splice(l,0,{identifier:f,updater:A,references:1})}a.push(f)}return a}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var l=n(i[a]);t[l].references--}for(var u=r(e,o),c=0;c<i.length;c++){var s=n(i[c]);0===t[s].references&&(t[s].updater(),t.splice(s,1))}i=u}}},5240:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,'.main-layout{min-height:100vh;display:flex;flex-direction:column;background:#eff2f7;font-family:"Nunito Sans",sans-serif}.main-layout__header{height:80px;display:flex;align-items:top;padding:0 20px}.main-layout__container{display:flex;flex:1;overflow:hidden;padding-right:16px}.main-layout__sidebar{width:var(--main-layout-sidebar-width, 240px);padding:0 16px;box-sizing:border-box}.main-layout__main{flex:1;padding:20px;overflow-y:auto;background-color:#fff;border-top-left-radius:20px;border-top-right-radius:20px}.main-layout__main--no-bg{background-color:rgba(0,0,0,0);border-radius:0}.main-layout__main--transition{opacity:1;transform:translateY(0);animation:main-layout-fade-in .3s ease}.main-layout__modal-root{position:fixed;inset:0;pointer-events:none}.main-layout__modal-root--active{pointer-events:auto}.main-layout__loading{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(239,242,247,.6);backdrop-filter:blur(2px);opacity:0;pointer-events:none;transition:opacity .18s ease;z-index:200}.main-layout__loading--active{opacity:1;pointer-events:auto}.main-layout__spinner{width:48px;height:48px;border-radius:50%;border:4px solid rgba(81,99,235,.2);border-top-color:#5163eb;animation:main-layout-spinner .8s linear infinite}.sidebar__compose{display:block;width:100%;margin-bottom:12px}@keyframes main-layout-fade-in{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}@keyframes main-layout-spinner{from{transform:rotate(0)}to{transform:rotate(360deg)}}',"",{version:3,sources:["webpack://./src/app/components/MainLayout/MainLayout.scss"],names:[],mappings:"AAAA,aAAa,gBAAgB,CAAC,YAAY,CAAC,qBAAqB,CAAC,kBAAkB,CAAC,oCAAoC,CAAC,qBAAqB,WAAW,CAAC,YAAY,CAAC,eAAe,CAAC,cAAc,CAAC,wBAAwB,YAAY,CAAC,MAAM,CAAC,eAAe,CAAC,kBAAkB,CAAC,sBAAsB,6CAA6C,CAAC,cAAc,CAAC,qBAAqB,CAAC,mBAAmB,MAAM,CAAC,YAAY,CAAC,eAAe,CAAC,qBAAqB,CAAC,2BAA2B,CAAC,4BAA4B,CAAC,0BAA0B,8BAA8B,CAAC,eAAe,CAAC,+BAA+B,SAAS,CAAC,uBAAuB,CAAC,sCAAsC,CAAC,yBAAyB,cAAc,CAAC,OAAO,CAAC,mBAAmB,CAAC,iCAAiC,mBAAmB,CAAC,sBAAsB,cAAc,CAAC,OAAO,CAAC,YAAY,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,+BAA+B,CAAC,yBAAyB,CAAC,SAAS,CAAC,mBAAmB,CAAC,4BAA4B,CAAC,WAAW,CAAC,8BAA8B,SAAS,CAAC,mBAAmB,CAAC,sBAAsB,UAAU,CAAC,WAAW,CAAC,iBAAiB,CAAC,mCAAmC,CAAC,wBAAwB,CAAC,iDAAiD,CAAC,kBAAkB,aAAa,CAAC,UAAU,CAAC,kBAAkB,CAAC,+BAA+B,KAAK,SAAS,CAAC,0BAA0B,CAAC,GAAG,SAAS,CAAC,uBAAuB,CAAC,CAAC,+BAA+B,KAAK,mBAAmB,CAAC,GAAG,wBAAwB,CAAC",sourcesContent:['.main-layout{min-height:100vh;display:flex;flex-direction:column;background:#eff2f7;font-family:"Nunito Sans",sans-serif}.main-layout__header{height:80px;display:flex;align-items:top;padding:0 20px}.main-layout__container{display:flex;flex:1;overflow:hidden;padding-right:16px}.main-layout__sidebar{width:var(--main-layout-sidebar-width, 240px);padding:0 16px;box-sizing:border-box}.main-layout__main{flex:1;padding:20px;overflow-y:auto;background-color:#fff;border-top-left-radius:20px;border-top-right-radius:20px}.main-layout__main--no-bg{background-color:rgba(0,0,0,0);border-radius:0}.main-layout__main--transition{opacity:1;transform:translateY(0);animation:main-layout-fade-in .3s ease}.main-layout__modal-root{position:fixed;inset:0;pointer-events:none}.main-layout__modal-root--active{pointer-events:auto}.main-layout__loading{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(239,242,247,.6);backdrop-filter:blur(2px);opacity:0;pointer-events:none;transition:opacity .18s ease;z-index:200}.main-layout__loading--active{opacity:1;pointer-events:auto}.main-layout__spinner{width:48px;height:48px;border-radius:50%;border:4px solid rgba(81,99,235,.2);border-top-color:#5163eb;animation:main-layout-spinner .8s linear infinite}.sidebar__compose{display:block;width:100%;margin-bottom:12px}@keyframes main-layout-fade-in{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}@keyframes main-layout-spinner{from{transform:rotate(0)}to{transform:rotate(360deg)}}'],sourceRoot:""}]);const l=a},5300:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("log",function(){for(var t=[void 0],n=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)t.push(arguments[r]);var o=1;null!=n.hash.level?o=n.hash.level:n.data&&null!=n.data.level&&(o=n.data.level),t[0]=o,e.log.apply(e,t)})},e.exports=t.default},5342:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<div class="header">\n    <div class="header__left">\n        <div class="header__logo" data-logo>\n            <img src="/img/logo.svg" alt="flintmail" class="header__logo-icon"/>\n            <span class="header__logo-text">flintmail</span>\n        </div>\n    </div>\n\n    <div class="header__center"></div>\n\n    <div class="header__right">\n        <div data-slot="search"></div>\n        <div data-slot="avatar"></div>\n        <div class="header__avatar-menu" role="menu" aria-hidden="true" data-slot="menu"></div>\n    </div>\n</div>\n'},useData:!0})},5462:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i),l=n(4417),u=n.n(l),c=new URL(n(3648),n.b),s=a()(o()),f=u()(c);s.push([e.id,`.header__search{position:relative;flex:0 0 auto;width:518px;height:48px;display:flex;align-items:center;background:#e2e7f0;border-radius:12px;padding:0 16px 0 44px;box-sizing:border-box;background-image:url(${f});background-repeat:no-repeat;background-position:16px center}.header__search-input{width:100%;height:100%;border:none;background:rgba(0,0,0,0);font-size:16px;outline:none;margin-left:8px}.header__search-input::placeholder{color:rgba(39,43,53,.6)}`,"",{version:3,sources:["webpack://./src/shared/components/SearchInput/SearchInput.scss"],names:[],mappings:"AAAA,gBAAgB,iBAAiB,CAAC,aAAa,CAAC,WAAW,CAAC,WAAW,CAAC,YAAY,CAAC,kBAAkB,CAAC,kBAAkB,CAAC,kBAAkB,CAAC,qBAAqB,CAAC,qBAAqB,CAAC,wDAAgE,CAAC,2BAA2B,CAAC,+BAA+B,CAAC,sBAAsB,UAAU,CAAC,WAAW,CAAC,WAAW,CAAC,wBAAwB,CAAC,cAAc,CAAC,YAAY,CAAC,eAAe,CAAC,mCAAmC,uBAAuB",sourcesContent:['.header__search{position:relative;flex:0 0 auto;width:518px;height:48px;display:flex;align-items:center;background:#e2e7f0;border-radius:12px;padding:0 16px 0 44px;box-sizing:border-box;background-image:url("../../../../public/img/search-normal.png");background-repeat:no-repeat;background-position:16px center}.header__search-input{width:100%;height:100%;border:none;background:rgba(0,0,0,0);font-size:16px;outline:none;margin-left:8px}.header__search-input::placeholder{color:rgba(39,43,53,.6)}'],sourceRoot:""}]);const p=s},5860:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,'.ui-button{display:inline-flex;align-items:center;justify-content:center;gap:8px;font-family:"Nunito Sans",sans-serif;font-weight:600;font-size:16px;padding:14px 20px;border-radius:20px;border:none;cursor:pointer;transition:box-shadow .15s ease,transform .15s ease;min-width:140px;text-decoration:none}.ui-button--primary{background:#5163eb;color:#fff;border:2px solid #5163eb;border-radius:10px}.ui-button--primary:hover:not(:disabled){background:#4959d5;border:2px solid #4959d5}.ui-button--secondary{background:rgba(0,0,0,0);color:#5163eb;border:2px solid #5163eb;border-radius:10px}.ui-button--secondary:hover:not(:disabled){background:rgba(81,99,235,.05)}.ui-button--link{padding:0;min-width:auto;background:rgba(0,0,0,0);color:#000;border:none;box-shadow:none;font-size:16px;font-weight:600;gap:6px}.ui-button--link:hover:not(:disabled){color:#5163eb}.ui-button:disabled{opacity:.6;cursor:default;box-shadow:none}.ui-button--block{width:100%}.ui-button__icon{display:inline-flex;align-items:center;font-size:16px}',"",{version:3,sources:["webpack://./src/shared/components/Button/Button.scss"],names:[],mappings:"AAAA,WAAW,mBAAmB,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,OAAO,CAAC,oCAAoC,CAAC,eAAe,CAAC,cAAc,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,WAAW,CAAC,cAAc,CAAC,mDAAmD,CAAC,eAAe,CAAC,oBAAoB,CAAC,oBAAoB,kBAAkB,CAAC,UAAU,CAAC,wBAAwB,CAAC,kBAAkB,CAAC,yCAAyC,kBAAkB,CAAC,wBAAwB,CAAC,sBAAsB,wBAAwB,CAAC,aAAa,CAAC,wBAAwB,CAAC,kBAAkB,CAAC,2CAA2C,8BAA8B,CAAC,iBAAiB,SAAS,CAAC,cAAc,CAAC,wBAAwB,CAAC,UAAU,CAAC,WAAW,CAAC,eAAe,CAAC,cAAc,CAAC,eAAe,CAAC,OAAO,CAAC,sCAAsC,aAAa,CAAC,oBAAoB,UAAU,CAAC,cAAc,CAAC,eAAe,CAAC,kBAAkB,UAAU,CAAC,iBAAiB,mBAAmB,CAAC,kBAAkB,CAAC,cAAc",sourcesContent:['.ui-button{display:inline-flex;align-items:center;justify-content:center;gap:8px;font-family:"Nunito Sans",sans-serif;font-weight:600;font-size:16px;padding:14px 20px;border-radius:20px;border:none;cursor:pointer;transition:box-shadow .15s ease,transform .15s ease;min-width:140px;text-decoration:none}.ui-button--primary{background:#5163eb;color:#fff;border:2px solid #5163eb;border-radius:10px}.ui-button--primary:hover:not(:disabled){background:#4959d5;border:2px solid #4959d5}.ui-button--secondary{background:rgba(0,0,0,0);color:#5163eb;border:2px solid #5163eb;border-radius:10px}.ui-button--secondary:hover:not(:disabled){background:rgba(81,99,235,.05)}.ui-button--link{padding:0;min-width:auto;background:rgba(0,0,0,0);color:#000;border:none;box-shadow:none;font-size:16px;font-weight:600;gap:6px}.ui-button--link:hover:not(:disabled){color:#5163eb}.ui-button:disabled{opacity:.6;cursor:default;box-shadow:none}.ui-button--block{width:100%}.ui-button__icon{display:inline-flex;align-items:center;font-size:16px}'],sourceRoot:""}]);const l=a},5940:(e,t,n)=>{"use strict";t.__esModule=!0,t.registerDefaultDecorators=function(e){o.default(e)};var r,o=(r=n(7430))&&r.__esModule?r:{default:r}},6097:(e,t,n)=>{"use strict";t.__esModule=!0;var r=n(2849);t.default=function(e){e.registerHelper("blockHelperMissing",function(t,n){var o=n.inverse,i=n.fn;if(!0===t)return i(this);if(!1===t||null==t)return o(this);if(r.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):o(this);if(n.data&&n.ids){var a=r.createFrame(n.data);a.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:a}}return i(t,n)})},e.exports=t.default},6212:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".compose-overlay{position:fixed;inset:0;background:rgba(7,16,41,.35);display:flex;align-items:center;justify-content:center;padding:24px;z-index:1000}.compose-modal{position:relative;width:min(900px,100%);background:#fff;border-radius:12px;box-shadow:0 24px 60px rgba(20,28,60,.18);padding:32px 32px 16px;display:flex;flex-direction:column;gap:24px}.compose-modal__close{position:absolute;top:20px;right:20px;width:32px;height:32px;border:none;background:rgba(0,0,0,0);display:flex;align-items:center;justify-content:center;padding:0;cursor:pointer;transition:opacity .2s ease}.compose-modal__close:hover{opacity:.7}.compose-modal,.compose-modal *{box-sizing:border-box}.compose-modal__close img{width:20px;height:20px}.compose-modal__body{display:flex;flex-direction:column;gap:24px}.compose-modal__recipient{display:flex;gap:20px;align-items:flex-start}.compose-modal__avatar{flex-shrink:0;width:48px;height:48px;border-radius:50%;background:#e5ecff;display:flex;align-items:center;justify-content:center;overflow:hidden}.compose-modal__avatar-image{width:100%;height:100%;object-fit:cover}.compose-modal__avatar-fallback{font-size:18px;font-weight:600;color:#2d3c66}.compose-modal__inputs{display:flex;flex-direction:column;gap:16px}.compose-modal__inputs-text{display:flex;align-items:center;gap:12px;font-size:16px;color:#000}.compose-modal__label{font-weight:600;white-space:nowrap}.compose-modal__input{flex:1 1 360px;min-width:260px;border:none;border-bottom:1px solid #dbe1f1;padding:12px 4px;font-size:16px;color:#1f2544;outline:none;transition:border-color .2s ease}.compose-modal__error{width:100%;font-size:12px;color:#e53935;min-height:16px;margin-top:4px;visibility:hidden}.compose-modal__error--visible{visibility:visible}.compose-modal__actions{display:flex;gap:16px;flex-wrap:wrap;margin-left:68px}.compose-modal__action-slot{display:inline-flex;margin-right:32px}@media(max-width: 600px){.compose-modal__actions{margin-left:0}}.compose-modal__textarea{width:calc(100% + 64px);min-height:350px;max-height:min(600px,60vh);border:none;border-top:1px solid #dbe1f1;border-bottom:1px solid #dbe1f1;border-radius:0;padding:32px 32px;font-size:16px;color:#1f2544;background:#fff;outline:none;transition:border-color .2s ease;margin:0 -32px;margin-bottom:-8px;line-height:1.5;overflow-y:auto;resize:vertical}.compose-modal__textarea::placeholder{color:#8f96ad}.compose-modal__footer{display:flex;justify-content:flex-end}.compose-modal__send-slot{display:inline-flex;width:137px;height:40px;border-radius:10px}","",{version:3,sources:["webpack://./src/pages/inbox/components/ComposeModal/ComposeModal.scss"],names:[],mappings:"AAAA,iBAAiB,cAAc,CAAC,OAAO,CAAC,4BAA4B,CAAC,YAAY,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,YAAY,CAAC,YAAY,CAAC,eAAe,iBAAiB,CAAC,qBAAqB,CAAC,eAAe,CAAC,kBAAkB,CAAC,yCAAyC,CAAC,sBAAsB,CAAC,YAAY,CAAC,qBAAqB,CAAC,QAAQ,CAAC,sBAAsB,iBAAiB,CAAC,QAAQ,CAAC,UAAU,CAAC,UAAU,CAAC,WAAW,CAAC,WAAW,CAAC,wBAAwB,CAAC,YAAY,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,SAAS,CAAC,cAAc,CAAC,2BAA2B,CAAC,4BAA4B,UAAU,CAAC,gCAAgC,qBAAqB,CAAC,0BAA0B,UAAU,CAAC,WAAW,CAAC,qBAAqB,YAAY,CAAC,qBAAqB,CAAC,QAAQ,CAAC,0BAA0B,YAAY,CAAC,QAAQ,CAAC,sBAAsB,CAAC,uBAAuB,aAAa,CAAC,UAAU,CAAC,WAAW,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,YAAY,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,eAAe,CAAC,6BAA6B,UAAU,CAAC,WAAW,CAAC,gBAAgB,CAAC,gCAAgC,cAAc,CAAC,eAAe,CAAC,aAAa,CAAC,uBAAuB,YAAY,CAAC,qBAAqB,CAAC,QAAQ,CAAC,4BAA4B,YAAY,CAAC,kBAAkB,CAAC,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,sBAAsB,eAAe,CAAC,kBAAkB,CAAC,sBAAsB,cAAc,CAAC,eAAe,CAAC,WAAW,CAAC,+BAA+B,CAAC,gBAAgB,CAAC,cAAc,CAAC,aAAa,CAAC,YAAY,CAAC,gCAAgC,CAAC,sBAAsB,UAAU,CAAC,cAAc,CAAC,aAAa,CAAC,eAAe,CAAC,cAAc,CAAC,iBAAiB,CAAC,+BAA+B,kBAAkB,CAAC,wBAAwB,YAAY,CAAC,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,4BAA4B,mBAAmB,CAAC,iBAAiB,CAAC,yBAAyB,wBAAwB,aAAa,CAAC,CAAC,yBAAyB,uBAAuB,CAAC,gBAAgB,CAAC,0BAA0B,CAAC,WAAW,CAAC,4BAA4B,CAAC,+BAA+B,CAAC,eAAe,CAAC,iBAAiB,CAAC,cAAc,CAAC,aAAa,CAAC,eAAe,CAAC,YAAY,CAAC,gCAAgC,CAAC,cAAc,CAAC,kBAAkB,CAAC,eAAe,CAAC,eAAe,CAAC,eAAe,CAAC,sCAAsC,aAAa,CAAC,uBAAuB,YAAY,CAAC,wBAAwB,CAAC,0BAA0B,mBAAmB,CAAC,WAAW,CAAC,WAAW,CAAC,kBAAkB",sourcesContent:[".compose-overlay{position:fixed;inset:0;background:rgba(7,16,41,.35);display:flex;align-items:center;justify-content:center;padding:24px;z-index:1000}.compose-modal{position:relative;width:min(900px,100%);background:#fff;border-radius:12px;box-shadow:0 24px 60px rgba(20,28,60,.18);padding:32px 32px 16px;display:flex;flex-direction:column;gap:24px}.compose-modal__close{position:absolute;top:20px;right:20px;width:32px;height:32px;border:none;background:rgba(0,0,0,0);display:flex;align-items:center;justify-content:center;padding:0;cursor:pointer;transition:opacity .2s ease}.compose-modal__close:hover{opacity:.7}.compose-modal,.compose-modal *{box-sizing:border-box}.compose-modal__close img{width:20px;height:20px}.compose-modal__body{display:flex;flex-direction:column;gap:24px}.compose-modal__recipient{display:flex;gap:20px;align-items:flex-start}.compose-modal__avatar{flex-shrink:0;width:48px;height:48px;border-radius:50%;background:#e5ecff;display:flex;align-items:center;justify-content:center;overflow:hidden}.compose-modal__avatar-image{width:100%;height:100%;object-fit:cover}.compose-modal__avatar-fallback{font-size:18px;font-weight:600;color:#2d3c66}.compose-modal__inputs{display:flex;flex-direction:column;gap:16px}.compose-modal__inputs-text{display:flex;align-items:center;gap:12px;font-size:16px;color:#000}.compose-modal__label{font-weight:600;white-space:nowrap}.compose-modal__input{flex:1 1 360px;min-width:260px;border:none;border-bottom:1px solid #dbe1f1;padding:12px 4px;font-size:16px;color:#1f2544;outline:none;transition:border-color .2s ease}.compose-modal__error{width:100%;font-size:12px;color:#e53935;min-height:16px;margin-top:4px;visibility:hidden}.compose-modal__error--visible{visibility:visible}.compose-modal__actions{display:flex;gap:16px;flex-wrap:wrap;margin-left:68px}.compose-modal__action-slot{display:inline-flex;margin-right:32px}@media(max-width: 600px){.compose-modal__actions{margin-left:0}}.compose-modal__textarea{width:calc(100% + 64px);min-height:350px;max-height:min(600px,60vh);border:none;border-top:1px solid #dbe1f1;border-bottom:1px solid #dbe1f1;border-radius:0;padding:32px 32px;font-size:16px;color:#1f2544;background:#fff;outline:none;transition:border-color .2s ease;margin:0 -32px;margin-bottom:-8px;line-height:1.5;overflow-y:auto;resize:vertical}.compose-modal__textarea::placeholder{color:#8f96ad}.compose-modal__footer{display:flex;justify-content:flex-end}.compose-modal__send-slot{display:inline-flex;width:137px;height:40px;border-radius:10px}"],sourceRoot:""}]);const l=a},6265:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<div class="auth-layout">\n    <div class="auth-layout__panel">\n        <a class="auth-layout__logo" data-slot="logo" href="#">\n            <img alt="Flintmail" class="auth-layout__logo-icon" src="/img/logo.svg" />\n            <span class="auth-layout__logo-text">flintmail</span>\n        </a>\n        <div class="auth-layout__content" data-slot="content"></div>\n    </div>\n</div>\n'},useData:!0})},6271:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<div class="compose-overlay" role="dialog" aria-modal="true">\r\n  <div class="compose-modal">\r\n    <button class="compose-modal__close" data-action="close" aria-label="Закрыть окно">\r\n      <img src="/img/close-modal.svg" alt="" aria-hidden="true" />\r\n    </button>\r\n\r\n    <div class="compose-modal__body">\r\n      <div class="compose-modal__recipient">\r\n\r\n        <div class="compose-modal__inputs">\r\n          <div class="compose-modal__inputs-text">\r\n            Кому: <input class="compose-modal__input" type="text" data-field="to" />\r\n          </div>\r\n          <div class="compose-modal__inputs-text">\r\n            Тема: <input class="compose-modal__input" type="text" data-field="subject" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="compose-modal__actions">\r\n        <div class="compose-modal__action-slot" data-slot="attach"></div>\r\n        <div class="compose-modal__action-slot" data-slot="draft"></div>\r\n      </div>\r\n      <textarea class="compose-modal__textarea" placeholder="Текст письма" data-field="body"></textarea>\r\n      <div class="compose-modal__footer">\r\n        <div class="compose-modal__send-slot" data-slot="send"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n'},useData:!0})},6314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var l=0;l<this.length;l++){var u=this[l][0];null!=u&&(a[u]=!0)}for(var c=0;c<e.length;c++){var s=[].concat(e[c]);r&&a[s[0]]||(void 0!==i&&(void 0===s[5]||(s[1]="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {").concat(s[1],"}")),s[5]=i),n&&(s[2]?(s[1]="@media ".concat(s[2]," {").concat(s[1],"}"),s[2]=n):s[2]=n),o&&(s[4]?(s[1]="@supports (".concat(s[4],") {").concat(s[1],"}"),s[4]=o):s[4]="".concat(o)),t.push(s))}},t}},6562:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".auth-page{display:flex;flex-direction:column;align-items:stretch;text-align:left;width:100%;height:100%}.auth-page__title{font-size:40px;font-weight:600;margin-bottom:40px;color:#1f2937;text-align:center;margin-top:32px}.auth-page__form{display:flex;flex-direction:column;gap:32px;flex:1}.auth-page__actions{margin-top:24px;display:flex;flex-direction:column;gap:8px}.auth-page__actions .ui-button{width:100%}","",{version:3,sources:["webpack://./src/pages/auth/views/AuthPage.scss"],names:[],mappings:"AAAA,WAAW,YAAY,CAAC,qBAAqB,CAAC,mBAAmB,CAAC,eAAe,CAAC,UAAU,CAAC,WAAW,CAAC,kBAAkB,cAAc,CAAC,eAAe,CAAC,kBAAkB,CAAC,aAAa,CAAC,iBAAiB,CAAC,eAAe,CAAC,iBAAiB,YAAY,CAAC,qBAAqB,CAAC,QAAQ,CAAC,MAAM,CAAC,oBAAoB,eAAe,CAAC,YAAY,CAAC,qBAAqB,CAAC,OAAO,CAAC,+BAA+B,UAAU",sourcesContent:[".auth-page{display:flex;flex-direction:column;align-items:stretch;text-align:left;width:100%;height:100%}.auth-page__title{font-size:40px;font-weight:600;margin-bottom:40px;color:#1f2937;text-align:center;margin-top:32px}.auth-page__form{display:flex;flex-direction:column;gap:32px;flex:1}.auth-page__actions{margin-top:24px;display:flex;flex-direction:column;gap:8px}.auth-page__actions .ui-button{width:100%}"],sourceRoot:""}]);const l=a},6594:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".mail-view{display:flex;flex-direction:column;gap:24px;color:#1f2544;padding:8px}.mail-view__toolbar{display:flex;align-items:center;flex-wrap:wrap;gap:12px;margin-bottom:8px}.mail-view__toolbar-slot{display:inline-flex;align-items:center}.mail-view__toolbar-slot .ui-button{display:inline-flex;align-items:center;gap:8px;font-size:16px;font-weight:600;color:#000;padding:0}.mail-view__toolbar-slot .ui-button--link{text-decoration:none}.mail-view__toolbar-slot .ui-button__icon img{width:24px;height:24px}.mail-view__toolbar-slot--icon .ui-button__icon img{width:24px;height:24px;margin-right:32px}.mail-view__toolbar-slot--icon .ui-button{gap:0}.mail-view__subject{margin:0;font-size:20px;font-weight:600;line-height:1.5;color:#1b2140}.mail-view__summary{display:flex;gap:16px;align-items:flex-start}.mail-view__avatar{flex-shrink:0;width:48px;height:48px;border-radius:50%;background:#e5ecff;display:flex;align-items:center;justify-content:center;font-size:18px;font-weight:600;color:#2d3c66;overflow:hidden}.mail-view__avatar img{width:100%;height:100%;object-fit:cover}.mail-view__details{display:flex;flex-direction:column;gap:8px;width:100%}.mail-view__details-row{display:flex;align-items:center;gap:12px;flex-wrap:wrap;margin-bottom:-8px;line-height:1.5}.mail-view__from{font-weight:600;font-size:16px}.mail-view__email{font-size:16px;color:#6d7595}.mail-view__time{margin-left:auto;font-size:14px;color:#6d7595}.mail-view__label{font-size:16px;color:#6d7595}.mail-view__recipient{font-size:16px;color:#6d7595}.mail-view__body{padding-top:32px;border-top:1px solid #e4e7f3;font-size:16px;line-height:1.5;color:#242a48}.mail-view__body p{margin:0 0 16px}@media(max-width: 640px){.mail-view__toolbar{gap:8px}.mail-view__toolbar-slot .ui-button{font-size:16px}.mail-view__time{width:100%;margin-left:0;text-align:left}}","",{version:3,sources:["webpack://./src/pages/inbox/components/MailView/MailView.scss"],names:[],mappings:"AAAA,WAAW,YAAY,CAAC,qBAAqB,CAAC,QAAQ,CAAC,aAAa,CAAC,WAAW,CAAC,oBAAoB,YAAY,CAAC,kBAAkB,CAAC,cAAc,CAAC,QAAQ,CAAC,iBAAiB,CAAC,yBAAyB,mBAAmB,CAAC,kBAAkB,CAAC,oCAAoC,mBAAmB,CAAC,kBAAkB,CAAC,OAAO,CAAC,cAAc,CAAC,eAAe,CAAC,UAAU,CAAC,SAAS,CAAC,0CAA0C,oBAAoB,CAAC,8CAA8C,UAAU,CAAC,WAAW,CAAC,oDAAoD,UAAU,CAAC,WAAW,CAAC,iBAAiB,CAAC,0CAA0C,KAAK,CAAC,oBAAoB,QAAQ,CAAC,cAAc,CAAC,eAAe,CAAC,eAAe,CAAC,aAAa,CAAC,oBAAoB,YAAY,CAAC,QAAQ,CAAC,sBAAsB,CAAC,mBAAmB,aAAa,CAAC,UAAU,CAAC,WAAW,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,YAAY,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,cAAc,CAAC,eAAe,CAAC,aAAa,CAAC,eAAe,CAAC,uBAAuB,UAAU,CAAC,WAAW,CAAC,gBAAgB,CAAC,oBAAoB,YAAY,CAAC,qBAAqB,CAAC,OAAO,CAAC,UAAU,CAAC,wBAAwB,YAAY,CAAC,kBAAkB,CAAC,QAAQ,CAAC,cAAc,CAAC,kBAAkB,CAAC,eAAe,CAAC,iBAAiB,eAAe,CAAC,cAAc,CAAC,kBAAkB,cAAc,CAAC,aAAa,CAAC,iBAAiB,gBAAgB,CAAC,cAAc,CAAC,aAAa,CAAC,kBAAkB,cAAc,CAAC,aAAa,CAAC,sBAAsB,cAAc,CAAC,aAAa,CAAC,iBAAiB,gBAAgB,CAAC,4BAA4B,CAAC,cAAc,CAAC,eAAe,CAAC,aAAa,CAAC,mBAAmB,eAAe,CAAC,yBAAyB,oBAAoB,OAAO,CAAC,oCAAoC,cAAc,CAAC,iBAAiB,UAAU,CAAC,aAAa,CAAC,eAAe,CAAC",sourcesContent:[".mail-view{display:flex;flex-direction:column;gap:24px;color:#1f2544;padding:8px}.mail-view__toolbar{display:flex;align-items:center;flex-wrap:wrap;gap:12px;margin-bottom:8px}.mail-view__toolbar-slot{display:inline-flex;align-items:center}.mail-view__toolbar-slot .ui-button{display:inline-flex;align-items:center;gap:8px;font-size:16px;font-weight:600;color:#000;padding:0}.mail-view__toolbar-slot .ui-button--link{text-decoration:none}.mail-view__toolbar-slot .ui-button__icon img{width:24px;height:24px}.mail-view__toolbar-slot--icon .ui-button__icon img{width:24px;height:24px;margin-right:32px}.mail-view__toolbar-slot--icon .ui-button{gap:0}.mail-view__subject{margin:0;font-size:20px;font-weight:600;line-height:1.5;color:#1b2140}.mail-view__summary{display:flex;gap:16px;align-items:flex-start}.mail-view__avatar{flex-shrink:0;width:48px;height:48px;border-radius:50%;background:#e5ecff;display:flex;align-items:center;justify-content:center;font-size:18px;font-weight:600;color:#2d3c66;overflow:hidden}.mail-view__avatar img{width:100%;height:100%;object-fit:cover}.mail-view__details{display:flex;flex-direction:column;gap:8px;width:100%}.mail-view__details-row{display:flex;align-items:center;gap:12px;flex-wrap:wrap;margin-bottom:-8px;line-height:1.5}.mail-view__from{font-weight:600;font-size:16px}.mail-view__email{font-size:16px;color:#6d7595}.mail-view__time{margin-left:auto;font-size:14px;color:#6d7595}.mail-view__label{font-size:16px;color:#6d7595}.mail-view__recipient{font-size:16px;color:#6d7595}.mail-view__body{padding-top:32px;border-top:1px solid #e4e7f3;font-size:16px;line-height:1.5;color:#242a48}.mail-view__body p{margin:0 0 16px}@media(max-width: 640px){.mail-view__toolbar{gap:8px}.mail-view__toolbar-slot .ui-button{font-size:16px}.mail-view__time{width:100%;margin-left:0;text-align:left}}"],sourceRoot:""}]);const l=a},6785:(e,t,n)=>{"use strict";t.__esModule=!0;var r,o=n(2849),i=(r=n(3769))&&r.__esModule?r:{default:r};t.default=function(e){e.registerHelper("each",function(e,t){if(!t)throw new i.default("Must pass iterator to #each");var n,r=t.fn,a=t.inverse,l=0,u="",c=void 0,s=void 0;function f(t,n,i){c&&(c.key=t,c.index=n,c.first=0===n,c.last=!!i,s&&(c.contextPath=s+t)),u+=r(e[t],{data:c,blockParams:o.blockParams([e[t],t],[s+t,null])})}if(t.data&&t.ids&&(s=o.appendContextPath(t.data.contextPath,t.ids[0])+"."),o.isFunction(e)&&(e=e.call(this)),t.data&&(c=o.createFrame(t.data)),e&&"object"==typeof e)if(o.isArray(e))for(var p=e.length;l<p;l++)l in e&&f(l,l,l===e.length-1);else if("function"==typeof Symbol&&e[Symbol.iterator]){for(var d=[],A=e[Symbol.iterator](),h=A.next();!h.done;h=A.next())d.push(h.value);for(p=(e=d).length;l<p;l++)f(l,l,l===e.length-1)}else n=void 0,Object.keys(e).forEach(function(e){void 0!==n&&f(n,l-1),n=e,l++}),void 0!==n&&f(n,l-1,!0);return 0===l&&(u=a(this)),u})},e.exports=t.default},7135:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".mail-list{display:flex;flex-direction:column;gap:16px}.mail-list__header{display:flex;align-items:center;justify-content:space-between}.mail-list__title{font-weight:700;font-size:18px;color:#1f2937}.mail-list__items{display:flex;flex-direction:column;gap:8px}.mail-list__empty{display:flex;align-items:center;justify-content:center;min-height:200px;color:#6b7280;font-size:16px;text-align:center}","",{version:3,sources:["webpack://./src/shared/widgets/MailList/MailList.scss"],names:[],mappings:"AAAA,WAAW,YAAY,CAAC,qBAAqB,CAAC,QAAQ,CAAC,mBAAmB,YAAY,CAAC,kBAAkB,CAAC,6BAA6B,CAAC,kBAAkB,eAAe,CAAC,cAAc,CAAC,aAAa,CAAC,kBAAkB,YAAY,CAAC,qBAAqB,CAAC,OAAO,CAAC,kBAAkB,YAAY,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,gBAAgB,CAAC,aAAa,CAAC,cAAc,CAAC,iBAAiB",sourcesContent:[".mail-list{display:flex;flex-direction:column;gap:16px}.mail-list__header{display:flex;align-items:center;justify-content:space-between}.mail-list__title{font-weight:700;font-size:18px;color:#1f2937}.mail-list__items{display:flex;flex-direction:column;gap:8px}.mail-list__empty{display:flex;align-items:center;justify-content:center;min-height:200px;color:#6b7280;font-size:16px;text-align:center}"],sourceRoot:""}]);const l=a},7430:(e,t,n)=>{"use strict";t.__esModule=!0;var r=n(2849);t.default=function(e){e.registerDecorator("inline",function(e,t,n,o){var i=e;return t.partials||(t.partials={},i=function(o,i){var a=n.partials;n.partials=r.extend({},a,t.partials);var l=e(o,i);return n.partials=a,l}),t.partials[o.args[0]]=o.fn,i})},e.exports=t.default},7466:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("lookup",function(e,t,n){return e?n.lookupProperty(e,t):e})},e.exports=t.default},7624:(e,t,n)=>{"use strict";t.__esModule=!0,t.checkRevision=function(e){var t=e&&e[0]||1,n=a.COMPILER_REVISION;if(!(t>=a.LAST_COMPATIBLE_COMPILER_REVISION&&t<=a.COMPILER_REVISION)){if(t<a.LAST_COMPATIBLE_COMPILER_REVISION){var r=a.REVISION_CHANGES[n],o=a.REVISION_CHANGES[t];throw new i.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+o+").")}throw new i.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}},t.template=function(e,t){if(!t)throw new i.default("No environment passed to template");if(!e||!e.main)throw new i.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var n=e.compiler&&7===e.compiler[0],r={strict:function(e,t,n){if(!e||!(t in e))throw new i.default('"'+t+'" not defined in '+e,{loc:n});return r.lookupProperty(e,t)},lookupProperty:function(e,t){var n=e[t];return null==n||Object.prototype.hasOwnProperty.call(e,t)||c.resultIsAllowed(n,r.protoAccessControl,t)?n:void 0},lookup:function(e,t){for(var n=e.length,o=0;o<n;o++)if(null!=(e[o]&&r.lookupProperty(e[o],t)))return e[o][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:o.escapeExpression,invokePartial:function(n,r,a){a.hash&&(r=o.extend({},r,a.hash),a.ids&&(a.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,r,a);var l=o.extend({},a,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),u=t.VM.invokePartial.call(this,n,r,l);if(null==u&&t.compile&&(a.partials[a.name]=t.compile(n,e.compilerOptions,t),u=a.partials[a.name](r,l)),null!=u){if(a.indent){for(var c=u.split("\n"),s=0,f=c.length;s<f&&(c[s]||s+1!==f);s++)c[s]=a.indent+c[s];u=c.join("\n")}return u}throw new i.default("The partial "+a.name+" could not be compiled when running in runtime-only mode")},fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,r,o){var i=this.programs[e],a=this.fn(e);return t||o||r||n?i=s(this,e,a,t,n,r,o):i||(i=this.programs[e]=s(this,e,a)),i},data:function(e,t){for(;e&&t--;)e=e._parent;return e},mergeIfNeeded:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=o.extend({},t,e)),n},nullContext:Object.seal({}),noop:t.VM.noop,compilerInfo:e.compiler};function f(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=n.data;f._setup(n),!n.partial&&e.useData&&(o=function(e,t){return t&&"root"in t||((t=t?a.createFrame(t):{}).root=e),t}(t,o));var i=void 0,l=e.useBlockParams?[]:void 0;function u(t){return""+e.main(r,t,r.helpers,r.partials,o,l,i)}return e.useDepths&&(i=n.depths?t!=n.depths[0]?[t].concat(n.depths):n.depths:[t]),(u=p(e.main,u,r,n.depths||[],o,l))(t,n)}return f.isTop=!0,f._setup=function(i){if(i.partial)r.protoAccessControl=i.protoAccessControl,r.helpers=i.helpers,r.partials=i.partials,r.decorators=i.decorators,r.hooks=i.hooks;else{var a=o.extend({},t.helpers,i.helpers);!function(e,t){Object.keys(e).forEach(function(n){var r=e[n];e[n]=function(e,t){var n=t.lookupProperty;return u.wrapHelper(e,function(e){return o.extend({lookupProperty:n},e)})}(r,t)})}(a,r),r.helpers=a,e.usePartial&&(r.partials=r.mergeIfNeeded(i.partials,t.partials)),(e.usePartial||e.useDecorators)&&(r.decorators=o.extend({},t.decorators,i.decorators)),r.hooks={},r.protoAccessControl=c.createProtoAccessControl(i);var s=i.allowCallsToHelperMissing||n;l.moveHelperToHooks(r,"helperMissing",s),l.moveHelperToHooks(r,"blockHelperMissing",s)}},f._child=function(t,n,o,a){if(e.useBlockParams&&!o)throw new i.default("must pass block params");if(e.useDepths&&!a)throw new i.default("must pass parent depths");return s(r,t,e[t],n,0,o,a)},f},t.wrapProgram=s,t.resolvePartial=function(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],e},t.invokePartial=function(e,t,n){var r=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var l=void 0;if(n.fn&&n.fn!==f&&function(){n.data=a.createFrame(n.data);var e=n.fn;l=n.data["partial-block"]=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=a.createFrame(n.data),n.data["partial-block"]=r,e(t,n)},e.partials&&(n.partials=o.extend({},n.partials,e.partials))}(),void 0===e&&l&&(e=l),void 0===e)throw new i.default("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)},t.noop=f;var r,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2849)),i=(r=n(3769))&&r.__esModule?r:{default:r},a=n(2871),l=n(2277),u=n(2614),c=n(3865);function s(e,t,n,r,o,i,a){function l(t){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],l=a;return!a||t==a[0]||t===e.nullContext&&null===a[0]||(l=[t].concat(a)),n(e,t,e.helpers,e.partials,o.data||r,i&&[o.blockParams].concat(i),l)}return(l=p(n,l,e,a,r,i)).program=t,l.depth=a?a.length:0,l.blockParams=o||0,l}function f(){return""}function p(e,t,n,r,i,a){if(e.decorator){var l={};t=e.decorator(t,l,n,r&&r[0],i,a,r),o.extend(t,l)}return t}},7659:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},7825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},7867:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({1:function(e,t,n,r,o,i,a){var l,u,c=e.escapeExpression,s=null!=t?t:e.nullContext||{},f=e.hooks.helperMissing,p="function",d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <label class="radio-group__option">\r\n                <input\r\n                    type="radio"\r\n                    name="'+c(e.lambda(null!=a[1]?d(a[1],"name"):a[1],t))+'"\r\n                    value="'+c(typeof(u=null!=(u=d(n,"value")||(null!=t?d(t,"value"):t))?u:f)===p?u.call(s,{name:"value",hash:{},data:o,loc:{start:{line:9,column:27},end:{line:9,column:36}}}):u)+'"\r\n                    '+(null!=(l=d(n,"if").call(s,null!=t?d(t,"checked"):t,{name:"if",hash:{},fn:e.program(2,o,0,i,a),inverse:e.noop,data:o,loc:{start:{line:10,column:20},end:{line:10,column:49}}}))?l:"")+'\r\n                    data-value="'+c(typeof(u=null!=(u=d(n,"value")||(null!=t?d(t,"value"):t))?u:f)===p?u.call(s,{name:"value",hash:{},data:o,loc:{start:{line:11,column:32},end:{line:11,column:41}}}):u)+'"\r\n                />\r\n                <span>'+c(typeof(u=null!=(u=d(n,"label")||(null!=t?d(t,"label"):t))?u:f)===p?u.call(s,{name:"label",hash:{},data:o,loc:{start:{line:13,column:22},end:{line:13,column:31}}}):u)+"</span>\r\n            </label>\r\n"},2:function(e,t,n,r,o){return"checked"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o,i,a){var l,u,c=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<fieldset class="radio-group">\r\n    <div class="radio-group__options">\r\n        <legend class="radio-group__label">'+e.escapeExpression("function"==typeof(u=null!=(u=s(n,"label")||(null!=t?s(t,"label"):t))?u:e.hooks.helperMissing)?u.call(c,{name:"label",hash:{},data:o,loc:{start:{line:3,column:43},end:{line:3,column:52}}}):u)+"</legend>\r\n"+(null!=(l=s(n,"each").call(c,null!=t?s(t,"options"):t,{name:"each",hash:{},fn:e.program(1,o,0,i,a),inverse:e.noop,data:o,loc:{start:{line:4,column:8},end:{line:15,column:17}}}))?l:"")+"    </div>\r\n</fieldset>\r\n"},useData:!0,useDepths:!0})},8200:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".register-page{display:flex;flex-direction:column;align-items:stretch;text-align:center;height:100%}.register-page__title{font-size:40px;font-weight:600;color:#000;text-align:center}.register-page__form{display:flex;flex-direction:column;flex:1}.register-page__actions{margin-top:8px;display:flex;flex-direction:column}.register-page__actions .ui-button{width:100%}","",{version:3,sources:["webpack://./src/pages/register/views/RegisterPage.scss"],names:[],mappings:"AAAA,eAAe,YAAY,CAAC,qBAAqB,CAAC,mBAAmB,CAAC,iBAAiB,CAAC,WAAW,CAAC,sBAAsB,cAAc,CAAC,eAAe,CAAC,UAAU,CAAC,iBAAiB,CAAC,qBAAqB,YAAY,CAAC,qBAAqB,CAAC,MAAM,CAAC,wBAAwB,cAAc,CAAC,YAAY,CAAC,qBAAqB,CAAC,mCAAmC,UAAU",sourcesContent:[".register-page{display:flex;flex-direction:column;align-items:stretch;text-align:center;height:100%}.register-page__title{font-size:40px;font-weight:600;color:#000;text-align:center}.register-page__form{display:flex;flex-direction:column;flex:1}.register-page__actions{margin-top:8px;display:flex;flex-direction:column}.register-page__actions .ui-button{width:100%}"],sourceRoot:""}]);const l=a},8238:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<section class="mail-list">\n    <div class="mail-list__items"></div>\n</section>\n'},useData:!0})},8299:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return" ui-button--block"},3:function(e,t,n,r,o){return"disabled"},5:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'aria-label="'+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"ariaLabel")||(null!=t?a(t,"ariaLabel"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"ariaLabel",hash:{},data:o,loc:{start:{line:5,column:33},end:{line:5,column:46}}}):i)+'"'},7:function(e,t,n,r,o){var i,a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <span class="ui-button__icon">'+(null!=(i="function"==typeof(a=null!=(a=l(n,"icon")||(null!=t?l(t,"icon"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"icon",hash:{},data:o,loc:{start:{line:8,column:38},end:{line:8,column:48}}}):a)?i:"")+"</span>\n"},9:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <span class="ui-button__label">'+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"label")||(null!=t?a(t,"label"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"label",hash:{},data:o,loc:{start:{line:11,column:39},end:{line:11,column:48}}}):i)+"</span>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a,l=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,c="function",s=e.escapeExpression,f=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<button\n    class="ui-button ui-button--'+s(typeof(a=null!=(a=f(n,"variant")||(null!=t?f(t,"variant"):t))?a:u)===c?a.call(l,{name:"variant",hash:{},data:o,loc:{start:{line:2,column:32},end:{line:2,column:43}}}):a)+(null!=(i=f(n,"if").call(l,null!=t?f(t,"fullWidth"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:2,column:43},end:{line:2,column:84}}}))?i:"")+'"\n    type="'+s(typeof(a=null!=(a=f(n,"type")||(null!=t?f(t,"type"):t))?a:u)===c?a.call(l,{name:"type",hash:{},data:o,loc:{start:{line:3,column:10},end:{line:3,column:18}}}):a)+'"\n    '+(null!=(i=f(n,"if").call(l,null!=t?f(t,"disabled"):t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:4,column:4},end:{line:4,column:35}}}))?i:"")+"\n    "+(null!=(i=f(n,"if").call(l,null!=t?f(t,"ariaLabel"):t,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o,loc:{start:{line:5,column:4},end:{line:5,column:54}}}))?i:"")+"\n>\n"+(null!=(i=f(n,"if").call(l,null!=t?f(t,"icon"):t,{name:"if",hash:{},fn:e.program(7,o,0),inverse:e.noop,data:o,loc:{start:{line:7,column:4},end:{line:9,column:11}}}))?i:"")+(null!=(i=f(n,"if").call(l,null!=t?f(t,"label"):t,{name:"if",hash:{},fn:e.program(9,o,0),inverse:e.noop,data:o,loc:{start:{line:10,column:4},end:{line:12,column:11}}}))?i:"")+"</button>\n"},useData:!0})},8441:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".avatar-menu{display:flex;flex-direction:column;padding-top:8px;padding-bottom:8px;width:191px;height:137px;gap:4px}.avatar-menu__item{padding-left:12px}.avatar-menu .ui-button{width:100%;justify-content:flex-start;gap:12px;padding:10px;border-radius:10px;font-size:16px;color:#1f2544}.avatar-menu .ui-button:hover:not(:disabled){background:rgba(81,99,235,.08);text-decoration:none}.avatar-menu .ui-button__icon img{width:24px;height:24px}","",{version:3,sources:["webpack://./src/shared/widgets/AvatarMenu/AvatarMenu.scss"],names:[],mappings:"AAAA,aAAa,YAAY,CAAC,qBAAqB,CAAC,eAAe,CAAC,kBAAkB,CAAC,WAAW,CAAC,YAAY,CAAC,OAAO,CAAC,mBAAmB,iBAAiB,CAAC,wBAAwB,UAAU,CAAC,0BAA0B,CAAC,QAAQ,CAAC,YAAY,CAAC,kBAAkB,CAAC,cAAc,CAAC,aAAa,CAAC,6CAA6C,8BAA8B,CAAC,oBAAoB,CAAC,kCAAkC,UAAU,CAAC,WAAW",sourcesContent:[".avatar-menu{display:flex;flex-direction:column;padding-top:8px;padding-bottom:8px;width:191px;height:137px;gap:4px}.avatar-menu__item{padding-left:12px}.avatar-menu .ui-button{width:100%;justify-content:flex-start;gap:12px;padding:10px;border-radius:10px;font-size:16px;color:#1f2544}.avatar-menu .ui-button:hover:not(:disabled){background:rgba(81,99,235,.08);text-decoration:none}.avatar-menu .ui-button__icon img{width:24px;height:24px}"],sourceRoot:""}]);const l=a},8542:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".auth-form{display:flex;flex-direction:column;gap:12px;width:100%}.auth-form__fields{display:flex;flex-direction:column;gap:32px;margin-top:32px}.auth-form__error{min-height:20px;color:var(--color-error, #d14343);font-size:14px;line-height:20px;margin-top:-12px;margin-bottom:32px;visibility:hidden;opacity:0;transition:opacity .15s ease}.auth-form__error--visible{visibility:visible;opacity:1}.auth-form__forgot{align-self:flex-start;font-size:14px;color:#5163eb;font-weight:600;text-decoration:none;transition:color .15s ease;margin-top:8px;margin-bottom:40px}.auth-form__forgot:hover{color:#3242b0}.auth-form__actions{display:flex;flex-direction:column;gap:8px;margin-bottom:-16px}.auth-form__actions .ui-button{width:100%}.auth-form__field{position:relative}","",{version:3,sources:["webpack://./src/pages/auth/components/AuthForm/AuthForm.scss"],names:[],mappings:"AAAA,WAAW,YAAY,CAAC,qBAAqB,CAAC,QAAQ,CAAC,UAAU,CAAC,mBAAmB,YAAY,CAAC,qBAAqB,CAAC,QAAQ,CAAC,eAAe,CAAC,kBAAkB,eAAe,CAAC,iCAAiC,CAAC,cAAc,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,SAAS,CAAC,4BAA4B,CAAC,2BAA2B,kBAAkB,CAAC,SAAS,CAAC,mBAAmB,qBAAqB,CAAC,cAAc,CAAC,aAAa,CAAC,eAAe,CAAC,oBAAoB,CAAC,0BAA0B,CAAC,cAAc,CAAC,kBAAkB,CAAC,yBAAyB,aAAa,CAAC,oBAAoB,YAAY,CAAC,qBAAqB,CAAC,OAAO,CAAC,mBAAmB,CAAC,+BAA+B,UAAU,CAAC,kBAAkB,iBAAiB",sourcesContent:[".auth-form{display:flex;flex-direction:column;gap:12px;width:100%}.auth-form__fields{display:flex;flex-direction:column;gap:32px;margin-top:32px}.auth-form__error{min-height:20px;color:var(--color-error, #d14343);font-size:14px;line-height:20px;margin-top:-12px;margin-bottom:32px;visibility:hidden;opacity:0;transition:opacity .15s ease}.auth-form__error--visible{visibility:visible;opacity:1}.auth-form__forgot{align-self:flex-start;font-size:14px;color:#5163eb;font-weight:600;text-decoration:none;transition:color .15s ease;margin-top:8px;margin-bottom:40px}.auth-form__forgot:hover{color:#3242b0}.auth-form__actions{display:flex;flex-direction:column;gap:8px;margin-bottom:-16px}.auth-form__actions .ui-button{width:100%}.auth-form__field{position:relative}"],sourceRoot:""}]);const l=a},8561:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,u="function",c=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="header__search"><input class="header__search-input" type="text" placeholder="'+c(typeof(i=null!=(i=s(n,"placeholder")||(null!=t?s(t,"placeholder"):t))?i:l)===u?i.call(a,{name:"placeholder",hash:{},data:o,loc:{start:{line:1,column:89},end:{line:1,column:104}}}):i)+'" value="'+c(typeof(i=null!=(i=s(n,"value")||(null!=t?s(t,"value"):t))?i:l)===u?i.call(a,{name:"value",hash:{},data:o,loc:{start:{line:1,column:113},end:{line:1,column:122}}}):i)+'" data-input/></div>\r\n'},useData:!0})},9166:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,u="function",c=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <img src="'+c(typeof(i=null!=(i=s(n,"avatarUrl")||(null!=t?s(t,"avatarUrl"):t))?i:l)===u?i.call(a,{name:"avatarUrl",hash:{},data:o,loc:{start:{line:17,column:18},end:{line:17,column:31}}}):i)+'" alt="'+c(typeof(i=null!=(i=s(n,"from")||(null!=t?s(t,"from"):t))?i:l)===u?i.call(a,{name:"from",hash:{},data:o,loc:{start:{line:17,column:38},end:{line:17,column:46}}}):i)+'" loading="lazy" decoding="async" />\n'},3:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        <span>"+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"initials")||(null!=t?a(t,"initials"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"initials",hash:{},data:o,loc:{start:{line:19,column:14},end:{line:19,column:26}}}):i)+"</span>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a,l=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,c="function",s=e.escapeExpression,f=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="mail-view">\r\n  <div class="mail-view__toolbar">\r\n    <div class="mail-view__toolbar-slot mail-view__toolbar-slot--icon" data-slot="back"></div>\r\n    <div class="mail-view__toolbar-slot" data-slot="reply"></div>\r\n    <div class="mail-view__toolbar-slot" data-slot="forward"></div>\r\n    <div class="mail-view__toolbar-slot" data-slot="folder"></div>\r\n    <div class="mail-view__toolbar-slot" data-slot="delete"></div>\r\n    <div class="mail-view__toolbar-slot" data-slot="spam"></div>\r\n    \r\n  </div>\r\n\r\n  <h1 class="mail-view__subject">'+s(typeof(a=null!=(a=f(n,"subject")||(null!=t?f(t,"subject"):t))?a:u)===c?a.call(l,{name:"subject",hash:{},data:o,loc:{start:{line:12,column:33},end:{line:12,column:44}}}):a)+'</h1>\r\n\r\n  <div class="mail-view__summary">\r\n    <div class="mail-view__avatar">\r\n'+(null!=(i=f(n,"if").call(l,null!=t?f(t,"avatarUrl"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:16,column:6},end:{line:20,column:13}}}))?i:"")+'    </div>\r\n\r\n    <div class="mail-view__details">\r\n      <div class="mail-view__details-row">\r\n        <span class="mail-view__from">'+s(typeof(a=null!=(a=f(n,"from")||(null!=t?f(t,"from"):t))?a:u)===c?a.call(l,{name:"from",hash:{},data:o,loc:{start:{line:25,column:38},end:{line:25,column:46}}}):a)+'</span>\r\n        <span class="mail-view__email">'+s(typeof(a=null!=(a=f(n,"fromEmail")||(null!=t?f(t,"fromEmail"):t))?a:u)===c?a.call(l,{name:"fromEmail",hash:{},data:o,loc:{start:{line:26,column:39},end:{line:26,column:52}}}):a)+'</span>\r\n      </div>\r\n      <div class="mail-view__details-row">\r\n        <span class="mail-view__label">Кому:</span>\r\n        <span class="mail-view__recipient">'+s(typeof(a=null!=(a=f(n,"recipient")||(null!=t?f(t,"recipient"):t))?a:u)===c?a.call(l,{name:"recipient",hash:{},data:o,loc:{start:{line:30,column:43},end:{line:30,column:56}}}):a)+'</span>\r\n        <span class="mail-view__time">'+s(typeof(a=null!=(a=f(n,"time")||(null!=t?f(t,"time"):t))?a:u)===c?a.call(l,{name:"time",hash:{},data:o,loc:{start:{line:31,column:38},end:{line:31,column:46}}}):a)+'</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="mail-view__body">'+(null!=(i=typeof(a=null!=(a=f(n,"body")||(null!=t?f(t,"body"):t))?a:u)===c?a.call(l,{name:"body",hash:{},data:o,loc:{start:{line:36,column:31},end:{line:36,column:41}}}):a)?i:"")+"</div>\r\n</div>\r\n"},useData:!0})},9204:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<div class="avatar-menu">\r\n  <div class="avatar-menu__item" data-slot="profile"></div>\r\n  <div class="avatar-menu__item" data-slot="settings"></div>\r\n  <div class="avatar-menu__item" data-slot="logout"></div>\r\n</div>\r\n'},useData:!0})},9309:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<form class="auth-form" data-form novalidate>\n    <div class="auth-form__fields">\n        <div class="auth-form__field" data-slot="login"></div>\n        <div class="auth-form__field" data-slot="password"></div>\n    </div>\n    <div class="auth-form__error" data-slot="error" aria-live="polite"></div>\n    <a href="#" class="auth-form__forgot" data-action="forgot">'+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"forgotPasswordText")||(null!=t?a(t,"forgotPasswordText"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"forgotPasswordText",hash:{},data:o,loc:{start:{line:7,column:63},end:{line:7,column:85}}}):i)+'</a>\n    <div class="auth-form__actions" data-slot="submit"></div>\n</form>\n'},useData:!0})},9407:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return"mail-item--unread"},3:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,u="function",c=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <img\n              src="'+c(typeof(i=null!=(i=s(n,"avatarUrl")||(null!=t?s(t,"avatarUrl"):t))?i:l)===u?i.call(a,{name:"avatarUrl",hash:{},data:o,loc:{start:{line:6,column:19},end:{line:6,column:32}}}):i)+'"\n              alt="'+c(typeof(i=null!=(i=s(n,"from")||(null!=t?s(t,"from"):t))?i:l)===u?i.call(a,{name:"from",hash:{},data:o,loc:{start:{line:7,column:19},end:{line:7,column:27}}}):i)+'"\n              class="mail-item__avatar mail-item__avatar-image"\n              loading="lazy"\n              decoding="async"\n            />\n'},5:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <div class="mail-item__avatar mail-item__avatar--placeholder">'+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"initials")||(null!=t?a(t,"initials"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"initials",hash:{},data:o,loc:{start:{line:13,column:74},end:{line:13,column:86}}}):i)+"</div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a,l=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,c="function",s=e.escapeExpression,f=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<article class="mail-item '+(null!=(i=f(n,"unless").call(l,null!=t?f(t,"isRead"):t,{name:"unless",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:26},end:{line:1,column:72}}}))?i:"")+'" data-mail-id="'+s(typeof(a=null!=(a=f(n,"id")||(null!=t?f(t,"id"):t))?a:u)===c?a.call(l,{name:"id",hash:{},data:o,loc:{start:{line:1,column:88},end:{line:1,column:94}}}):a)+'">\n    <div class="mail-item__left">\n        <div class="mail-item__status" aria-hidden="true"></div>\n'+(null!=(i=f(n,"if").call(l,null!=t?f(t,"avatarUrl"):t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.program(5,o,0),data:o,loc:{start:{line:4,column:8},end:{line:14,column:15}}}))?i:"")+'        <span class="mail-item__from" title="'+s(typeof(a=null!=(a=f(n,"from")||(null!=t?f(t,"from"):t))?a:u)===c?a.call(l,{name:"from",hash:{},data:o,loc:{start:{line:15,column:45},end:{line:15,column:53}}}):a)+'">'+s(typeof(a=null!=(a=f(n,"from")||(null!=t?f(t,"from"):t))?a:u)===c?a.call(l,{name:"from",hash:{},data:o,loc:{start:{line:15,column:55},end:{line:15,column:63}}}):a)+'</span>\n    </div>\n\n    <span class="mail-item__subject" title="'+s(typeof(a=null!=(a=f(n,"subject")||(null!=t?f(t,"subject"):t))?a:u)===c?a.call(l,{name:"subject",hash:{},data:o,loc:{start:{line:18,column:44},end:{line:18,column:55}}}):a)+'">'+s(typeof(a=null!=(a=f(n,"subject")||(null!=t?f(t,"subject"):t))?a:u)===c?a.call(l,{name:"subject",hash:{},data:o,loc:{start:{line:18,column:57},end:{line:18,column:68}}}):a)+'</span>\n    <span class="mail-item__preview" title="'+s(typeof(a=null!=(a=f(n,"preview")||(null!=t?f(t,"preview"):t))?a:u)===c?a.call(l,{name:"preview",hash:{},data:o,loc:{start:{line:19,column:44},end:{line:19,column:55}}}):a)+'">'+s(typeof(a=null!=(a=f(n,"preview")||(null!=t?f(t,"preview"):t))?a:u)===c?a.call(l,{name:"preview",hash:{},data:o,loc:{start:{line:19,column:57},end:{line:19,column:68}}}):a)+'</span>\n    <time class="mail-item__time">'+s(typeof(a=null!=(a=f(n,"time")||(null!=t?f(t,"time"):t))?a:u)===c?a.call(l,{name:"time",hash:{},data:o,loc:{start:{line:20,column:34},end:{line:20,column:42}}}):a)+"</time>\n</article>\n"},useData:!0})},9613:(e,t)=>{"use strict";function n(e){this.string=e}t.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},t.default=n,e.exports=t.default},9683:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".sidebar{display:flex;flex-direction:column;gap:8px}.sidebar__compose{padding:10px 10px;border-radius:12px;background:#fff;color:#5163eb;border:2px solid #5163eb;font-weight:600;cursor:pointer;transition:box-shadow .15s ease,transform .15s ease}.sidebar__folders{list-style:none;margin:0;padding:0;overflow-y:auto;display:flex;flex-direction:column;gap:8px}","",{version:3,sources:["webpack://./src/shared/widgets/Sidebar/Sidebar.scss"],names:[],mappings:"AAAA,SAAS,YAAY,CAAC,qBAAqB,CAAC,OAAO,CAAC,kBAAkB,iBAAiB,CAAC,kBAAkB,CAAC,eAAe,CAAC,aAAa,CAAC,wBAAwB,CAAC,eAAe,CAAC,cAAc,CAAC,mDAAmD,CAAC,kBAAkB,eAAe,CAAC,QAAQ,CAAC,SAAS,CAAC,eAAe,CAAC,YAAY,CAAC,qBAAqB,CAAC,OAAO",sourcesContent:[".sidebar{display:flex;flex-direction:column;gap:8px}.sidebar__compose{padding:10px 10px;border-radius:12px;background:#fff;color:#5163eb;border:2px solid #5163eb;font-weight:600;cursor:pointer;transition:box-shadow .15s ease,transform .15s ease}.sidebar__folders{list-style:none;margin:0;padding:0;overflow-y:auto;display:flex;flex-direction:column;gap:8px}"],sourceRoot:""}]);const l=a},9726:(e,t,n)=>{"use strict";t.__esModule=!0,t.createNewLookupObject=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.extend.apply(void 0,[Object.create(null)].concat(t))};var r=n(2849)},9783:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".header{display:flex;align-items:center;width:100%}.header__logo{display:inline-flex;align-items:center;gap:10px;font-weight:600;text-transform:none;color:#5163eb}.header__logo-icon{width:32px;height:32px}.header__logo-text{font-size:40px;line-height:1}.header__center{flex:1 1 auto;display:flex;align-items:center;justify-content:flex-start;margin-left:24px}.header__right{position:relative;display:flex;gap:16px;align-items:center}.header__avatar-menu{position:absolute;right:0;top:calc(100% + 12px);display:none;min-width:200px;background:#fff;box-shadow:0 10px 32px rgba(17,24,56,.18);border-radius:16px;z-index:1000;pointer-events:auto;padding:6px 4px;border:1px solid rgba(81,99,235,.1)}.header__avatar-menu.open{display:block}","",{version:3,sources:["webpack://./src/shared/widgets/Header/Header.scss"],names:[],mappings:"AAAA,QAAQ,YAAY,CAAC,kBAAkB,CAAC,UAAU,CAAC,cAAc,mBAAmB,CAAC,kBAAkB,CAAC,QAAQ,CAAC,eAAe,CAAC,mBAAmB,CAAC,aAAa,CAAC,mBAAmB,UAAU,CAAC,WAAW,CAAC,mBAAmB,cAAc,CAAC,aAAa,CAAC,gBAAgB,aAAa,CAAC,YAAY,CAAC,kBAAkB,CAAC,0BAA0B,CAAC,gBAAgB,CAAC,eAAe,iBAAiB,CAAC,YAAY,CAAC,QAAQ,CAAC,kBAAkB,CAAC,qBAAqB,iBAAiB,CAAC,OAAO,CAAC,qBAAqB,CAAC,YAAY,CAAC,eAAe,CAAC,eAAe,CAAC,yCAAyC,CAAC,kBAAkB,CAAC,YAAY,CAAC,mBAAmB,CAAC,eAAe,CAAC,mCAAmC,CAAC,0BAA0B,aAAa",sourcesContent:[".header{display:flex;align-items:center;width:100%}.header__logo{display:inline-flex;align-items:center;gap:10px;font-weight:600;text-transform:none;color:#5163eb}.header__logo-icon{width:32px;height:32px}.header__logo-text{font-size:40px;line-height:1}.header__center{flex:1 1 auto;display:flex;align-items:center;justify-content:flex-start;margin-left:24px}.header__right{position:relative;display:flex;gap:16px;align-items:center}.header__avatar-menu{position:absolute;right:0;top:calc(100% + 12px);display:none;min-width:200px;background:#fff;box-shadow:0 10px 32px rgba(17,24,56,.18);border-radius:16px;z-index:1000;pointer-events:auto;padding:6px 4px;border:1px solid rgba(81,99,235,.1)}.header__avatar-menu.open{display:block}"],sourceRoot:""}]);const l=a},9882:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,u="function",c=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <img src="'+c(typeof(i=null!=(i=s(n,"avatarUrl")||(null!=t?s(t,"avatarUrl"):t))?i:l)===u?i.call(a,{name:"avatarUrl",hash:{},data:o,loc:{start:{line:7,column:18},end:{line:7,column:31}}}):i)+'" alt="'+c(typeof(i=null!=(i=s(n,"fullName")||(null!=t?s(t,"fullName"):t))?i:l)===u?i.call(a,{name:"fullName",hash:{},data:o,loc:{start:{line:7,column:38},end:{line:7,column:50}}}):i)+'" loading="lazy" decoding="async" />\n'},3:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        <span>"+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"initials")||(null!=t?a(t,"initials"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"initials",hash:{},data:o,loc:{start:{line:9,column:14},end:{line:9,column:26}}}):i)+"</span>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="profile-form">\n  <h1 class="profile-form__title">Профиль</h1>\n\n  <div class="profile-form__content">\n    <div class="profile-form__avatar">\n'+(null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"avatarUrl"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:6,column:6},end:{line:10,column:13}}}))?i:"")+'      <div class="profile-form__upload" data-slot="upload"></div>\n    </div>\n\n    <div class="profile-form__fields">\n      <div class="profile-form__field" data-slot="firstName"></div>\n      <div class="profile-form__field" data-slot="lastName"></div>\n      <div class="profile-form__field" data-slot="middleName"></div>\n      <div class="profile-form__field profile-form__field--half" data-slot="birthDate"></div>\n      <div class="profile-form__field profile-form__field--half" data-slot="gender"></div>\n\n      <div class="profile-form__actions">\n        <div data-slot="save"></div>\n        <div data-slot="cancel"></div>\n      </div>\n    </div>\n  </div>\n</div>\n'},useData:!0})}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.p="/",n.b="undefined"!=typeof document&&document.baseURI||self.location.href,n.nc=void 0,(()=>{"use strict";var e=["parseJson","headers","body","skipAuthRefresh"];function t(){var e,n,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.toStringTag||"@@toStringTag";function l(t,o,i,a){var l=o&&o.prototype instanceof c?o:c,s=Object.create(l.prototype);return r(s,"_invoke",function(t,r,o){var i,a,l,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,a=0,l=e,p.n=n,u}};function d(t,r){for(a=t,l=r,n=0;!f&&c&&!o&&n<s.length;n++){var o,i=s[n],d=p.p,A=i[2];t>3?(o=A===r)&&(l=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=t<2&&d<i[1])?(a=0,p.v=r,p.n=i[1]):d<A&&(o=t<3||i[0]>r||r>A)&&(i[4]=t,i[5]=r,p.n=A,a=0))}if(o||t>1)return u;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),a=s,l=A;(n=a<2?e:l)||!f;){i||(a?a<3?(a>1&&(p.n=-1),d(a,l)):p.n=l:p.v=l);try{if(c=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,l)))throw TypeError("iterator result is not an object");if(!n.done)return n;l=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((n=(f=p.n<0)?l:t.call(r,p))!==u)break}catch(t){i=e,a=1,l=t}finally{c=1}}return{value:n,done:f}}}(t,i,a),!0),s}var u={};function c(){}function s(){}function f(){}n=Object.getPrototypeOf;var p=[][i]?n(n([][i]())):(r(n={},i,function(){return this}),n),d=f.prototype=c.prototype=Object.create(p);function A(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,r(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=f,r(d,"constructor",f),r(f,"constructor",s),s.displayName="GeneratorFunction",r(f,a,"GeneratorFunction"),r(d),r(d,a,"Generator"),r(d,i,function(){return this}),r(d,"toString",function(){return"[object Generator]"}),(t=function(){return{w:l,m:A}})()}function r(e,t,n,o){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}r=function(e,t,n,o){function a(t,n){r(e,t,function(e){return this._invoke(t,n,e)})}t?i?i(e,t,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},r(e,t,n,o)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){f(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function u(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,l,"next",e)}function l(e){u(i,r,o,a,l,"throw",e)}a(void 0)})}}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function f(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}var d=function(){return n=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"refreshPromise",null),this.baseUrl=t},r=[{key:"request",value:(p=c(t().m(function n(r){var o,u,c,s,f,p,d,A,h,m,y,v,b,g,C,w,_,x,O,j,B,k,P=arguments;return t().w(function(t){for(;;)switch(t.p=t.n){case 0:return u=(o=P.length>1&&void 0!==P[1]?P[1]:{}).parseJson,c=void 0===u||u,s=o.headers,f=void 0===s?{}:s,p=o.body,d=o.skipAuthRefresh,A=void 0!==d&&d,h=l(o,e),m="string"==typeof h.method?h.method.toUpperCase():"GET",y="".concat(this.baseUrl).concat(r),v="undefined"!=typeof performance&&"function"==typeof performance.now?performance.now():Date.now(),b=!(void 0===p||"object"!==a(p)||p instanceof FormData||p instanceof Blob||p instanceof ArrayBuffer),g=b&&p&&"object"===a(p)?Object.keys(p):p,console.info("[api] request",{method:m,url:y,bodyKeys:Array.isArray(g)?g:void 0,hasBody:void 0!==p,bodyType:void 0===p?"none":b?"json":a(p)}),C=i(i({},b?{"Content-Type":"application/json"}:{}),f),w=void 0===p?void 0:b?JSON.stringify(p):p,t.p=1,t.n=2,fetch(y,i({credentials:"include",headers:C,body:w},h));case 2:if(_=t.v,!(B=401===_.status&&!A&&this.shouldAttemptRefresh(r))){t.n=4;break}return t.n=3,this.tryRefreshTokens();case 3:B=t.v;case 4:if(!B){t.n=5;break}return t.a(2,this.request(r,i(i({},o),{},{skipAuthRefresh:!0})));case 5:if(x="undefined"!=typeof performance&&"function"==typeof performance.now?performance.now():Date.now(),O=Math.round(x-v),console.info("[api] response",{method:m,url:y,status:_.status,durationMs:O}),_.ok){t.n=7;break}return t.n=6,_.text();case 6:throw j=t.v,new Error(j||"Request failed with status ".concat(_.status));case 7:if(c&&204!==_.status){t.n=8;break}return t.a(2,void 0);case 8:return t.n=9,_.json();case 9:return t.a(2,t.v);case 10:throw t.p=10,k=t.v,console.error("[api] error",{method:m,url:y,error:k}),k;case 11:return t.a(2)}},n,this,[[1,10]])})),function(e){return p.apply(this,arguments)})},{key:"shouldAttemptRefresh",value:function(e){return!(e.startsWith("/auth/login")||e.startsWith("/auth/signup")||e.startsWith("/auth/refresh")||e.startsWith("/auth/logout"))}},{key:"tryRefreshTokens",value:(u=c(t().m(function e(){var n=this;return t().w(function(e){for(;;)if(0===e.n)return this.refreshPromise||(this.refreshPromise=this.performRefresh().catch(function(e){return console.error("[api] refresh error",e),!1}).finally(function(){n.refreshPromise=null})),e.a(2,this.refreshPromise)},e,this)})),function(){return u.apply(this,arguments)})},{key:"performRefresh",value:(o=c(t().m(function e(){var n,r;return t().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,fetch("".concat(this.baseUrl,"/auth/refresh"),{method:"POST",credentials:"include"});case 1:if((n=e.v).ok){e.n=2;break}return console.warn("[api] token refresh failed",{status:n.status}),e.a(2,!1);case 2:return console.info("[api] token refresh success"),e.a(2,!0);case 3:return e.p=3,r=e.v,console.error("[api] token refresh network error",r),e.a(2,!1)}},e,this,[[0,3]])})),function(){return o.apply(this,arguments)})}],r&&s(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,u,p}(),A=new d("undefined"!=typeof window&&"string"==typeof window.__API_BASE_URL__?window.__API_BASE_URL__:"http://localhost:5000");function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function y(e){if(!e)return"";var t=h(e.split("-"),3),n=t[0],r=t[1],o=t[2];return n&&r&&o?"".concat(o,".").concat(r,".").concat(n):e.trim()}function v(e){var t=e.trim(),n=t.indexOf("@");return-1===n?t:t.slice(0,n).trim()}function b(e){if(!e)return"";var t=e.trim();if(!t)return"";if(t.includes("T"))return t.slice(0,10);var n=t.split(".");if(3===n.length){var r=h(n,3),o=r[0],i=r[1],a=r[2],l=o.padStart(2,"0"),u=i.padStart(2,"0");return"".concat(a.padStart(4,"0"),"-").concat(u,"-").concat(l)}var c=t.split("-");return 3===c.length&&4===c[0].length?t.slice(0,10):t}function g(e){if(!e)return"";var t=e.trim();if(!t)return"";var n=new Date(t);if(!Number.isNaN(n.getTime())){var r=n.getHours().toString().padStart(2,"0"),o=n.getMinutes().toString().padStart(2,"0"),i=n.getDate().toString().padStart(2,"0"),a=(n.getMonth()+1).toString().padStart(2,"0"),l=n.getFullYear().toString().padStart(4,"0");return"".concat(r,":").concat(o," ").concat(i,".").concat(a,".").concat(l)}for(var u=0,c=[" ","T"];u<c.length;u++){var s=c[u],f=t.split(s);if(!(f.length<2)){var p=h(f,2),d=p[0],A=p[1],m=b(d);if(m){var y=h(m.split("-"),3),v=y[0],g=y[1],C=void 0===g?"":g,w=y[2],_=void 0===w?"":w,x=_&&C&&v?"".concat(_,".").concat(C,".").concat(v):m.replace(/-/g,"."),O=A.split(":");if(O.length>=2){var j=O[0].padStart(2,"0").slice(-2),B=O[1].padStart(2,"0").slice(-2);return"".concat(j,":").concat(B," ").concat(x)}}}}return t}var C="Введите логин",w="Некорректный формат почты",_="Введите пароль",x="Пароль должен быть не короче 6 символов",O="Пароль содержит недопустимые символы",j="Введите имя",B="Имя содержит недопустимые символы",k="Дата рождения должна быть в прошлом",P="A-Za-z",S="А-Яа-я",E=/^[^\s@]+@[^\s@]+\.[^\s@]+$/i,T=/^[A-Za-z0-9@._+-]+$/,F=new RegExp("^[A-Za-z0-9._-]+$"),R=new RegExp("^[".concat(P).concat(S,"\\s'-]+$")),I=new RegExp("^[".concat(P).concat(S,"0-9!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>/?~\\s]+$")),M=new RegExp("^[".concat(P).concat(S,"\\s'-]*$"));function U(e){var t=[],n=e.name.trim(),r=e.login.trim(),o=e.birthdate.trim(),i=e.password.trim(),a=e.passwordRepeat.trim();return n?n.length<2?t.push({field:"name",message:"Имя слишком короткое"}):R.test(n)||t.push({field:"name",message:B}):t.push({field:"name",message:j}),r?E.test(r)&&T.test(r)||t.push({field:"login",message:w}):t.push({field:"login",message:C}),o?D(o)||t.push({field:"birthdate",message:k}):t.push({field:"birthdate",message:"Укажите дату рождения"}),i?i.length<6?t.push({field:"password",message:x}):I.test(i)||t.push({field:"password",message:O}):t.push({field:"password",message:_}),a?i&&i!==a&&t.push({field:"passwordRepeat",message:"Пароли не совпадают"}):t.push({field:"passwordRepeat",message:"Повторите пароль"}),t}function N(e){var t=[],n=e.firstName.trim(),r=e.lastName.trim(),o=e.middleName.trim(),i=e.birthDate.trim();return n?M.test(n)||t.push({field:"firstName",message:B}):t.push({field:"firstName",message:j}),r?M.test(r)||t.push({field:"lastName",message:"Фамилия содержит недопустимые символы"}):t.push({field:"lastName",message:"Введите фамилию"}),o&&!M.test(o)&&t.push({field:"middleName",message:"Отчество содержит недопустимые символы"}),i&&!D(i)&&t.push({field:"birthDate",message:k}),t}function D(e){var t=Date.parse(e);return!Number.isNaN(t)&&new Date(t)<=new Date}function G(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return q(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(q(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,q(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,q(f,"constructor",c),q(c,"constructor",u),u.displayName="GeneratorFunction",q(c,o,"GeneratorFunction"),q(f),q(f,o,"Generator"),q(f,r,function(){return this}),q(f,"toString",function(){return"[object Generator]"}),(G=function(){return{w:i,m:p}})()}function q(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}q=function(e,t,n,r){function i(t,n){q(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},q(e,t,n,r)}function L(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function Y(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){L(i,r,o,a,l,"next",e)}function l(e){L(i,r,o,a,l,"throw",e)}a(void 0)})}}var W="/user/profile",z=/^https?:\/\//i;function V(e){if(!e)return null;if(z.test(e))return e;var t=e.startsWith("/")?e:"/".concat(e),n="";if("undefined"!=typeof window&&"string"==typeof window.__API_BASE_URL__)n=window.__API_BASE_URL__;else{var r=A;"string"==typeof r.baseUrl&&(n=r.baseUrl)}return"".concat(n).concat(t)}function H(e){var t,n,r,o,i,a,l,u=null!==(t=null===(n=e.name)||void 0===n?void 0:n.trim())&&void 0!==t?t:"",c=null!==(r=null===(o=e.surname)||void 0===o?void 0:o.trim())&&void 0!==r?r:"",s=null!==(i=null===(a=e.patronymic)||void 0===a?void 0:a.trim())&&void 0!==i?i:"",f=[u,c,s].filter(Boolean),p=f.length>0?f.join(" "):e.username,d=e.username.includes("@")?e.username:"".concat(e.username).concat("@flintmail.ru"),A=null===(l=e.gender)||void 0===l?void 0:l.toLowerCase(),h="male"===A||"female"===A?A:void 0;return{username:e.username,email:d,fullName:p,firstName:u,lastName:c,middleName:s,gender:null!=h?h:"",birthday:b(e.date_of_birth),avatarUrl:V(e.avatar_path),createdAt:e.created_at}}function Q(){return $.apply(this,arguments)}function $(){return($=Y(G().m(function e(){var t;return G().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,A.request(W);case 1:return t=e.v,e.a(2,H(t.body))}},e)}))).apply(this,arguments)}function K(e){return J.apply(this,arguments)}function J(){return(J=Y(G().m(function e(t){var n,r,o,i;return G().w(function(e){for(;;)switch(e.n){case 0:return(o=new FormData).append("avatar",t),e.n=1,A.request("/user/upload/avatar",{method:"POST",body:o});case 1:return i=e.v,e.a(2,null!==(n=null!==(r=V(i.body.avatar_path))&&void 0!==r?r:i.body.avatar_path)&&void 0!==n?n:"")}},e)}))).apply(this,arguments)}function Z(e){return X.apply(this,arguments)}function X(){return(X=Y(G().m(function e(t){var n,r,o,i,a,l,u,c,s;return G().w(function(e){for(;;)switch(e.n){case 0:return c={name:null!==(n=null===(r=t.firstName)||void 0===r?void 0:r.trim())&&void 0!==n?n:"",surname:null!==(o=null===(i=t.lastName)||void 0===i?void 0:i.trim())&&void 0!==o?o:"",patronymic:null!==(a=null===(l=t.middleName)||void 0===l?void 0:l.trim())&&void 0!==a?a:"",gender:null!==(u=t.gender)&&void 0!==u?u:"",date_of_birth:t.birthday?y(t.birthday):""},e.n=1,A.request(W,{method:"PUT",body:c});case 1:return s=e.v,e.a(2,H(s.body))}},e)}))).apply(this,arguments)}function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return ne(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(ne(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,ne(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,ne(f,"constructor",c),ne(c,"constructor",u),u.displayName="GeneratorFunction",ne(c,o,"GeneratorFunction"),ne(f),ne(f,o,"Generator"),ne(f,r,function(){return this}),ne(f,"toString",function(){return"[object Generator]"}),(te=function(){return{w:i,m:p}})()}function ne(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}ne=function(e,t,n,r){function i(t,n){ne(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},ne(e,t,n,r)}function re(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ae(r.key),r)}}function ie(e,t,n){return(t=ae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e){var t=function(e){if("object"!=ee(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ee(t)?t:t+""}var le=new(function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ie(this,"status","unknown"),ie(this,"checkPromise",null)},t=[{key:"getStatus",value:function(){return this.status}},{key:"setAuthenticated",value:function(e){this.status=e?"authenticated":"unauthenticated"}},{key:"markUnknown",value:function(){this.status="unknown"}},{key:"ensureAuthenticated",value:(n=te().m(function e(){var t=this;return te().w(function(e){for(;;)switch(e.n){case 0:if("authenticated"!==this.status){e.n=1;break}return e.a(2,!0);case 1:if("unauthenticated"!==this.status){e.n=2;break}return e.a(2,!1);case 2:return this.checkPromise||(this.checkPromise=Q().then(function(){return t.status="authenticated",!0}).catch(function(){return t.status="unauthenticated",!1}).finally(function(){t.checkPromise=null})),e.a(2,this.checkPromise)}},e,this)}),r=function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function a(e){re(i,r,o,a,l,"next",e)}function l(e){re(i,r,o,a,l,"throw",e)}a(void 0)})},function(){return r.apply(this,arguments)})}],t&&oe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r}());function ue(e){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(e)}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function se(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return fe(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(fe(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,fe(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,fe(f,"constructor",c),fe(c,"constructor",u),u.displayName="GeneratorFunction",fe(c,o,"GeneratorFunction"),fe(f),fe(f,o,"Generator"),fe(f,r,function(){return this}),fe(f,"toString",function(){return"[object Generator]"}),(se=function(){return{w:i,m:p}})()}function fe(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}fe=function(e,t,n,r){function i(t,n){fe(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},fe(e,t,n,r)}function pe(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function de(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){pe(i,r,o,a,l,"next",e)}function l(e){pe(i,r,o,a,l,"throw",e)}a(void 0)})}}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,me(r.key),r)}}function he(e,t,n){return(t=me(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function me(e){var t=function(e){if("object"!=ue(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ue(t)?t:t+""}var ye=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),he(this,"routes",[]),he(this,"layouts",new Map),this.attachPopstate()}return t=e,n=[{key:"addRoute",value:function(e){this.routes.push(e)}},{key:"onNavigate",value:function(e){this.onNavigateCallback=e}},{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.pathname||"/auth",t=e&&"/"!==e?e:"/auth";this.navigate(t,{replace:!0}).then()}},{key:"navigate",value:(i=de(se().m(function e(t){var n,r,o,i,a,l,u,c,s=arguments;return se().w(function(e){for(;;)switch(e.n){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:{},r=this.normalizePath(t),!(o=this.findRoute(r))||!this.onNavigateCallback){e.n=3;break}return i=o.config,a=o.params,e.n=1,this.ensureRouteAccess(i,r,n);case 1:if(e.v){e.n=2;break}return e.a(2);case 2:return l=this.getOrCreateLayout(i),n.skipHistory||(n.replace?window.history.replaceState({},"",r):window.history.pushState({},"",r)),this.onNavigateCallback({path:r,layout:l,params:a,config:i}),e.a(2);case 3:return u=le.getStatus(),c="authenticated"===u?"/inbox":"/auth",console.warn("Router: route not found, redirecting to ".concat(c)),e.n=4,this.navigate(c,{replace:!0,skipHistory:n.skipHistory});case 4:return e.a(2)}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"getQueryParams",value:function(){return new URLSearchParams(window.location.search)}},{key:"getOrCreateLayout",value:function(e){var t=this.layouts.get(e.layoutKey);if(t)return t;var n=e.createLayout();return this.layouts.set(e.layoutKey,n),n}},{key:"findRoute",value:function(e){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ce(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ce(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(this.routes);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=this.matchRoute(e,r.path);if(o)return{config:r,params:o}}}catch(e){n.e(e)}finally{n.f()}return null}},{key:"matchRoute",value:function(e,t){var n=this.compilePath(t),r=n.regex,o=n.paramNames,i=e.match(r);if(!i)return null;var a={};return o.forEach(function(e,t){var n=i[t+1];void 0!==n&&(a[e]=n)}),a}},{key:"compilePath",value:function(e){if("/"===e)return{regex:/^\/$/,paramNames:[]};var t=e.split("/").filter(Boolean),n=[],r="";return t.forEach(function(e){if(e.startsWith(":")){var t=e.endsWith("?"),o=e.replace(/^:/,"").replace(/\?$/,"");n.push(o),r+=t?"(?:/([^/]+))?":"/([^/]+)"}else r+="/"+e.replace(/[.*+?^${}()|[\\]\\]/g,"\\$&")}),{regex:new RegExp("^".concat(r,"$")),paramNames:n}}},{key:"attachPopstate",value:function(){var e=this;window.addEventListener("popstate",function(){e.navigate(window.location.pathname,{skipHistory:!0})})}},{key:"normalizePath",value:function(e){if(!e)return"/";var t=e.includes("http://")||e.includes("https://")?new URL(e).pathname:e;return t.length>1&&t.endsWith("/")?t.slice(0,-1):t}},{key:"ensureRouteAccess",value:(o=de(se().m(function e(t,n,r){var o,i,a,l,u,c;return se().w(function(e){for(;;)switch(e.n){case 0:if(a=null!==(o=t.requiresAuth)&&void 0!==o&&o,l=null!==(i=t.guestOnly)&&void 0!==i&&i,a||l){e.n=1;break}return e.a(2,!0);case 1:if("unknown"!==(u=le.getStatus())){e.n=3;break}return e.n=2,le.ensureAuthenticated();case 2:c=e.v,e.n=4;break;case 3:c="authenticated"===u;case 4:if(!a||c){e.n=6;break}if("/auth"===n){e.n=5;break}return e.n=5,this.navigate("/auth",{replace:!0});case 5:return e.a(2,!1);case 6:if(!l||!c){e.n=8;break}if("/inbox"===n){e.n=7;break}return e.n=7,this.navigate("/inbox",{replace:!0});case 7:return e.a(2,!1);case 8:return e.a(2,!0)}},e,this)})),function(e,t,n){return o.apply(this,arguments)})}],r=[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}],n&&Ae(t.prototype,n),r&&Ae(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r,o,i}();function ve(e){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(e)}function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach(function(t){ke(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ce(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return we(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?we(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _e(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return xe(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(xe(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,xe(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,xe(f,"constructor",c),xe(c,"constructor",u),u.displayName="GeneratorFunction",xe(c,o,"GeneratorFunction"),xe(f),xe(f,o,"Generator"),xe(f,r,function(){return this}),xe(f,"toString",function(){return"[object Generator]"}),(_e=function(){return{w:i,m:p}})()}function xe(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}xe=function(e,t,n,r){function i(t,n){xe(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},xe(e,t,n,r)}function Oe(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function je(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Oe(i,r,o,a,l,"next",e)}function l(e){Oe(i,r,o,a,l,"throw",e)}a(void 0)})}}function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pe(r.key),r)}}function ke(e,t,n){return(t=Pe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pe(e){var t=function(e){if("object"!=ve(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ve(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ve(t)?t:t+""}he(ye,"instance",null);var Se=function(){return e=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ke(this,"children",[]),ke(this,"element",null),this.props=t},t=[{key:"afterRender",value:function(){}},{key:"createElement",value:function(e){var t=document.createElement("div");t.innerHTML=e.trim();var n=t.firstElementChild;if(!n)throw new Error("Failed to parse HTML string into HTMLElement");return n}},{key:"render",value:function(){var e=this.children.map(function(e){return e.render()}),t=this.renderTemplate();this.element=this.createElement(t);var n=this.element.querySelector('[data-slot="children"]')||this.element;e.forEach(function(e){return n.appendChild(e)});try{this.afterRender()}catch(e){}return this.element}},{key:"mount",value:(r=je(_e().m(function e(t){return _e().w(function(e){for(;;)switch(e.n){case 0:t&&this.element&&t.appendChild(this.element);case 1:return e.a(2)}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"unmount",value:(n=je(_e().m(function e(){var t,n,r,o;return _e().w(function(e){for(;;)switch(e.p=e.n){case 0:this.element&&(this.element.remove(),this.element=null),t=Ce(this.children),e.p=1,t.s();case 2:if((n=t.n()).done){e.n=4;break}return r=n.value,e.n=3,r.unmount();case 3:e.n=2;break;case 4:e.n=6;break;case 5:e.p=5,o=e.v,t.e(o);case 6:return e.p=6,t.f(),e.f(6);case 7:return e.a(2)}},e,this,[[1,5,6,7]])})),function(){return n.apply(this,arguments)})},{key:"addChild",value:function(e){this.children.push(e)}},{key:"setProps",value:function(e){var t=this;if(this.props=ge(ge({},this.props),e),this.element){var n=this.element.parentElement;this.unmount().then(function(){var e=t.render();n&&(n.appendChild(e),t.mount().then(function(){}))})}}},{key:"getElement",value:function(){return this.element}}],t&&Be(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r}();function Ee(e){return Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ee(e)}function Te(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return Fe(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Fe(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Fe(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,Fe(f,"constructor",c),Fe(c,"constructor",u),u.displayName="GeneratorFunction",Fe(c,o,"GeneratorFunction"),Fe(f),Fe(f,o,"Generator"),Fe(f,r,function(){return this}),Fe(f,"toString",function(){return"[object Generator]"}),(Te=function(){return{w:i,m:p}})()}function Fe(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Fe=function(e,t,n,r){function i(t,n){Fe(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Fe(e,t,n,r)}function Re(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function Ie(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Re(i,r,o,a,l,"next",e)}function l(e){Re(i,r,o,a,l,"throw",e)}a(void 0)})}}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ye(r.key),r)}}function Ue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ue=function(){return!!e})()}function Ne(e,t,n,r){var o=De(Ge(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function De(){return De="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Ge(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},De.apply(null,arguments)}function Ge(e){return Ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ge(e)}function qe(e,t){return qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qe(e,t)}function Le(e,t,n){return(t=Ye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ye(e){var t=function(e){if("object"!=Ee(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ee(t)?t:t+""}var We=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Le(e=function(e,t,n){return t=Ge(t),function(e,t){if(t&&("object"==Ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ue()?Reflect.construct(t,n||[],Ge(e).constructor):t.apply(e,n))}(this,t),"router",ye.getInstance()),Le(e,"layout",null),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qe(e,t)}(t,e),n=t,r=[{key:"setLayout",value:function(e){this.layout=e}},{key:"update",value:(u=Ie(Te().m(function e(t){return Te().w(function(e){for(;;)if(0===e.n)return e.a(2)},e)})),function(e){return u.apply(this,arguments)})},{key:"renderWithLayout",value:(l=Ie(Te().m(function e(t){var n,r,o,i=arguments;return Te().w(function(e){for(;;)switch(e.n){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],this.layout=t,r=this.getSlotContent(),!n||!t.getElement()){e.n=2;break}return e.n=1,t.fillSlots(r);case 1:o=t.getElement(),e.n=3;break;case 2:o=t.render(r);case 3:return this.element=o,e.a(2,o)}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"render",value:function(){if(!this.layout)return this.element=this.createElement("<div>Page content not wrapped in layout</div>"),this.element;var e=this.layout.render(this.getSlotContent());return this.element=e,e}},{key:"updateSlot",value:(a=Ie(Te().m(function e(t,n){return Te().w(function(e){for(;;)switch(e.n){case 0:if(!this.layout){e.n=2;break}return e.n=1,this.layout.updateSlot(t,n);case 1:e.n=3;break;case 2:console.warn("No layout set for page");case 3:return e.a(2)}},e,this)})),function(e,t){return a.apply(this,arguments)})},{key:"init",value:function(){}},{key:"mount",value:(i=Ie(Te().m(function e(n){var r,o=arguments;return Te().w(function(e){for(;;)switch(e.n){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:{},!this.layout){e.n=2;break}if(r.skipAppend){e.n=1;break}return e.n=1,this.layout.mount(n);case 1:this.element=this.layout.getElement(),e.n=3;break;case 2:if(r.skipAppend){e.n=3;break}return e.n=3,Ne(t,"mount",this,3)([n]);case 3:try{this.init()}catch(e){}case 4:return e.a(2)}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"unmount",value:(o=Ie(Te().m(function e(){return Te().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Ne(t,"unmount",this,3)([]);case 1:return e.a(2)}},e,this)})),function(){return o.apply(this,arguments)})}],r&&Me(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i,a,l,u}(Se),ze=n(9309),Ve=n.n(ze),He=n(5072),Qe=n.n(He),$e=n(7825),Ke=n.n($e),Je=n(7659),Ze=n.n(Je),Xe=n(5056),et=n.n(Xe),tt=n(540),nt=n.n(tt),rt=n(1113),ot=n.n(rt),it=n(8542),at={};at.styleTagTransform=ot(),at.setAttributes=et(),at.insert=Ze().bind(null,"head"),at.domAPI=Ke(),at.insertStyleElement=nt(),Qe()(it.A,at),it.A&&it.A.locals&&it.A.locals;var lt=n(3823),ut=n.n(lt),ct=n(2288),st={};function ft(e){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ft(e)}function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach(function(t){At(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function At(e,t,n){return(t=mt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mt(r.key),r)}}function mt(e){var t=function(e){if("object"!=ft(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ft(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ft(t)?t:t+""}function yt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(yt=function(){return!!e})()}function vt(e){return vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vt(e)}function bt(e,t){return bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bt(e,t)}st.styleTagTransform=ot(),st.setAttributes=et(),st.insert=Ze().bind(null,"head"),st.domAPI=Ke(),st.insertStyleElement=nt(),Qe()(ct.A,st),ct.A&&ct.A.locals&&ct.A.locals;var gt=function(e){function t(e){var n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=vt(t),function(e,t){if(t&&("object"==ft(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,yt()?Reflect.construct(t,n||[],vt(e).constructor):t.apply(e,n))}(this,t,[dt(dt({},e),{},{type:null!==(n=e.type)&&void 0!==n?n:"text",variant:null!==(r=e.variant)&&void 0!==r?r:"filled"})])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bt(e,t)}(t,e),n=t,(r=[{key:"renderTemplate",value:function(){var e,t,n;return ut()({label:this.props.label,name:this.props.name,type:null!==(e=this.props.type)&&void 0!==e?e:"text",placeholder:this.props.placeholder,value:null!==(t=this.props.value)&&void 0!==t?t:"",error:this.props.error,required:this.props.required,autocomplete:this.props.autocomplete,variant:null!==(n=this.props.variant)&&void 0!==n?n:"filled"})}},{key:"afterRender",value:function(){var e,t=this,n=null===(e=this.element)||void 0===e?void 0:e.querySelector("[data-input]");n&&n.addEventListener("input",function(){var e,r;null===(e=(r=t.props).onInput)||void 0===e||e.call(r,n.value)})}},{key:"setValue",value:function(e){var t,n=null===(t=this.element)||void 0===t?void 0:t.querySelector("[data-input]");n&&(n.value=e),this.setProps({value:e})}},{key:"getValue",value:function(){var e,t,n,r=null===(e=this.element)||void 0===e?void 0:e.querySelector("[data-input]");return null!==(t=null!==(n=null==r?void 0:r.value)&&void 0!==n?n:this.props.value)&&void 0!==t?t:""}},{key:"setError",value:function(e){this.props=dt(dt({},this.props),{},{error:null!=e?e:void 0});var t=this.element;if(t){var n=t.querySelector("[data-error]");n&&(e&&e.trim()?(n.textContent=e,n.hidden=!1):(n.textContent="",n.hidden=!0))}}}])&&ht(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Se),Ct=n(8299),wt=n.n(Ct),_t=n(5860),xt={};function Ot(e){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ot(e)}function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(n),!0).forEach(function(t){kt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function kt(e,t,n){return(t=St(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,St(r.key),r)}}function St(e){var t=function(e){if("object"!=Ot(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ot(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ot(t)?t:t+""}function Et(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Et=function(){return!!e})()}function Tt(e){return Tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Tt(e)}function Ft(e,t){return Ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ft(e,t)}xt.styleTagTransform=ot(),xt.setAttributes=et(),xt.insert=Ze().bind(null,"head"),xt.domAPI=Ke(),xt.insertStyleElement=nt(),Qe()(_t.A,xt),_t.A&&_t.A.locals&&_t.A.locals;var Rt=function(e){function t(e){var n,r,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=Tt(t),function(e,t){if(t&&("object"==Ot(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Et()?Reflect.construct(t,n||[],Tt(e).constructor):t.apply(e,n))}(this,t,[Bt(Bt({},e),{},{type:null!==(n=e.type)&&void 0!==n?n:"button",variant:null!==(r=e.variant)&&void 0!==r?r:"primary",fullWidth:null!==(o=e.fullWidth)&&void 0!==o&&o,label:null!==(i=e.label)&&void 0!==i?i:""})])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ft(e,t)}(t,e),n=t,(r=[{key:"renderTemplate",value:function(){var e,t,n;return wt()({label:null!==(e=this.props.label)&&void 0!==e?e:"",type:null!==(t=this.props.type)&&void 0!==t?t:"button",variant:null!==(n=this.props.variant)&&void 0!==n?n:"primary",disabled:this.props.disabled,icon:this.props.icon,fullWidth:this.props.fullWidth,ariaLabel:this.props.ariaLabel})}},{key:"afterRender",value:function(){var e=this,t=this.element;t&&(this.props.disabled&&t.setAttribute("disabled","disabled"),t.addEventListener("click",function(t){var n,r;e.props.disabled?t.preventDefault():null===(n=(r=e.props).onClick)||void 0===n||n.call(r,t)}))}}])&&Pt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Se);function It(e){return It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},It(e)}function Mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qt(r.key),r)}}function Ut(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ut=function(){return!!e})()}function Nt(e){return Nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nt(e)}function Dt(e,t){return Dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dt(e,t)}function Gt(e,t,n){return(t=qt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qt(e){var t=function(e){if("object"!=It(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=It(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==It(t)?t:t+""}var Lt=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Gt(e=function(e,t,n){return t=Nt(t),function(e,t){if(t&&("object"==It(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ut()?Reflect.construct(t,n||[],Nt(e).constructor):t.apply(e,n))}(this,t,[n]),"errorContainer",null),Gt(e,"generalError",null),e.loginField=new gt({name:"login",placeholder:"Логин или email",autocomplete:"username",required:!0,variant:"underline",onInput:function(){return e.clearFieldError("login")}}),e.passwordField=new gt({name:"password",type:"password",placeholder:"Пароль",autocomplete:"current-password",required:!0,variant:"underline",onInput:function(){return e.clearFieldError("password")}}),e.submitButton=new Rt({type:"submit",label:"Войти",variant:"primary",fullWidth:!0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dt(e,t)}(t,e),n=t,(r=[{key:"renderTemplate",value:function(){return Ve()({forgotPasswordText:"Забыли пароль?"})}},{key:"afterRender",value:function(){var e,t,n,r,o,i=this,a=null===(e=this.element)||void 0===e?void 0:e.querySelector('[data-slot="login"]'),l=null===(t=this.element)||void 0===t?void 0:t.querySelector('[data-slot="password"]'),u=null===(n=this.element)||void 0===n?void 0:n.querySelector('[data-slot="submit"]'),c=this.element;a&&(this.loginField.render(),this.loginField.mount(a).then()),l&&(this.passwordField.render(),this.passwordField.mount(l).then()),u&&(this.submitButton.render(),this.submitButton.mount(u).then());var s=null===(r=this.element)||void 0===r?void 0:r.querySelector('[data-action="forgot"]');null==s||s.addEventListener("click",function(e){var t,n;e.preventDefault(),null===(t=(n=i.props).onForgotPassword)||void 0===t||t.call(n)}),null==c||c.addEventListener("submit",function(e){e.preventDefault();var t,n,r={login:i.loginField.getValue(),password:i.passwordField.getValue()},o=function(e){var t,n=[],r=e.login.trim(),o=e.password.trim();return r?(t=r,!!F.test(t)||!!E.test(t)&&T.test(t)||n.push({field:"login",message:w})):n.push({field:"login",message:C}),o?o.length<6?n.push({field:"password",message:x}):I.test(o)||n.push({field:"password",message:O}):n.push({field:"password",message:_}),n}(r);i.applyErrors(o),0===o.length&&(null===(t=(n=i.props).onSubmit)||void 0===t||t.call(n,r))}),this.errorContainer=null===(o=this.element)||void 0===o?void 0:o.querySelector('[data-slot="error"]'),this.updateGeneralError()}},{key:"applyErrors",value:function(e){var t,n;this.setFormError(null);var r=new Map;e.forEach(function(e){return r.set(e.field,e.message)}),this.setFieldError("login",null!==(t=r.get("login"))&&void 0!==t?t:null),this.setFieldError("password",null!==(n=r.get("password"))&&void 0!==n?n:null),0===e.length&&this.setFormError(null)}},{key:"clearErrors",value:function(){this.setFieldError("login",null),this.setFieldError("password",null),this.setFormError(null)}},{key:"setFormError",value:function(e){this.generalError=(null==e?void 0:e.trim())||null,this.updateGeneralError()}},{key:"setFieldError",value:function(e,t){"login"===e?this.loginField.setError(t):"password"===e&&this.passwordField.setError(t)}},{key:"clearFieldError",value:function(e){this.setFieldError(e,null)}},{key:"updateGeneralError",value:function(){if(this.errorContainer){var e=this.generalError;this.errorContainer.textContent=null!=e?e:"",this.errorContainer.classList.toggle("auth-form__error--visible",Boolean(e))}}}])&&Mt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Se);function Yt(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return Wt(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Wt(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Wt(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,Wt(f,"constructor",c),Wt(c,"constructor",u),u.displayName="GeneratorFunction",Wt(c,o,"GeneratorFunction"),Wt(f),Wt(f,o,"Generator"),Wt(f,r,function(){return this}),Wt(f,"toString",function(){return"[object Generator]"}),(Yt=function(){return{w:i,m:p}})()}function Wt(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Wt=function(e,t,n,r){function i(t,n){Wt(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Wt(e,t,n,r)}function zt(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function Vt(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){zt(i,r,o,a,l,"next",e)}function l(e){zt(i,r,o,a,l,"throw",e)}a(void 0)})}}function Ht(e){return Qt.apply(this,arguments)}function Qt(){return(Qt=Vt(Yt().m(function e(t){return Yt().w(function(e){for(;;)if(0===e.n)return e.a(2,A.request("/auth/login",{method:"POST",body:t,skipAuthRefresh:!0}))},e)}))).apply(this,arguments)}function $t(){return Kt.apply(this,arguments)}function Kt(){return(Kt=Vt(Yt().m(function e(){return Yt().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,A.request("/auth/logout",{method:"POST",skipAuthRefresh:!0});case 1:return e.a(2)}},e)}))).apply(this,arguments)}var Jt=n(6562),Zt={};function Xt(e){return Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xt(e)}function en(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return tn(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(tn(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,tn(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,tn(f,"constructor",c),tn(c,"constructor",u),u.displayName="GeneratorFunction",tn(c,o,"GeneratorFunction"),tn(f),tn(f,o,"Generator"),tn(f,r,function(){return this}),tn(f,"toString",function(){return"[object Generator]"}),(en=function(){return{w:i,m:p}})()}function tn(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}tn=function(e,t,n,r){function i(t,n){tn(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},tn(e,t,n,r)}function nn(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,on(r.key),r)}}function on(e){var t=function(e){if("object"!=Xt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Xt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Xt(t)?t:t+""}function an(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(an=function(){return!!e})()}function ln(e){return ln=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ln(e)}function un(e,t){return un=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},un(e,t)}Zt.styleTagTransform=ot(),Zt.setAttributes=et(),Zt.insert=Ze().bind(null,"head"),Zt.domAPI=Ke(),Zt.insertStyleElement=nt(),Qe()(Jt.A,Zt),Jt.A&&Jt.A.locals&&Jt.A.locals;var cn=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=ln(t),function(e,t){if(t&&("object"==Xt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,an()?Reflect.construct(t,n||[],ln(e).constructor):t.apply(e,n))}(this,t)).form=new Lt({onSubmit:function(t){return e.handleSubmit(t)},onForgotPassword:function(){return e.handleForgotPassword()}}),e.registerButton=new Rt({variant:"secondary",label:"Зарегистрироваться",onClick:function(){return e.router.navigate("/register")},fullWidth:!0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&un(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){return'<div class="auth-page"></div>'}},{key:"getSlotContent",value:function(){var e=document.createElement("div");e.className="auth-page";var t=document.createElement("h1");t.className="auth-page__title",t.textContent="Войти в почту",e.appendChild(t);var n=document.createElement("div");n.className="auth-page__form",this.form.render(),this.form.mount(n).then(),e.appendChild(n);var r=document.createElement("div");return r.className="auth-page__actions",this.registerButton.render(),this.registerButton.mount(r).then(),e.appendChild(r),{content:e}}},{key:"handleSubmit",value:(o=en().m(function e(t){var n,r;return en().w(function(e){for(;;)switch(e.p=e.n){case 0:return this.form.clearErrors(),this.form.setFormError(null),e.p=1,e.n=2,Ht(t);case 2:le.setAuthenticated(!0),this.router.navigate("/inbox"),e.n=4;break;case 3:e.p=3,r=e.v,le.setAuthenticated(!1),n=this.extractErrorMessage(r),this.form.setFormError(n),console.error("Failed to login",r);case 4:return e.a(2)}},e,this,[[1,3]])}),i=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=o.apply(e,t);function a(e){nn(i,n,r,a,l,"next",e)}function l(e){nn(i,n,r,a,l,"throw",e)}a(void 0)})},function(e){return i.apply(this,arguments)})},{key:"handleForgotPassword",value:function(){console.log("Reset password flow is not implemented yet.")}},{key:"extractErrorMessage",value:function(e){if(e instanceof Error){var t,n=null===(t=e.message)||void 0===t?void 0:t.trim();if(n){try{var r=JSON.parse(n);if("string"==typeof(null==r?void 0:r.message)&&r.message.trim().length>0)return r.message.trim()}catch(e){}return n}}return"Не удалось выполнить вход. Проверьте данные и попробуйте снова."}}],r&&rn(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i}(We),sn=n(60),fn=n.n(sn),pn=n(3245),dn={};dn.styleTagTransform=ot(),dn.setAttributes=et(),dn.insert=Ze().bind(null,"head"),dn.domAPI=Ke(),dn.insertStyleElement=nt(),Qe()(pn.A,dn),pn.A&&pn.A.locals&&pn.A.locals;var An=n(7867),hn=n.n(An),mn=n(2708),yn={};function vn(e){return vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vn(e)}function bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bn(Object(n),!0).forEach(function(t){Cn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Cn(e,t,n){return(t=_n(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_n(r.key),r)}}function _n(e){var t=function(e){if("object"!=vn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=vn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==vn(t)?t:t+""}function xn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(xn=function(){return!!e})()}function On(e){return On=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},On(e)}function jn(e,t){return jn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jn(e,t)}yn.styleTagTransform=ot(),yn.setAttributes=et(),yn.insert=Ze().bind(null,"head"),yn.domAPI=Ke(),yn.insertStyleElement=nt(),Qe()(mn.A,yn),mn.A&&mn.A.locals&&mn.A.locals;var Bn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=On(t),function(e,t){if(t&&("object"==vn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xn()?Reflect.construct(t,n||[],On(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jn(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){var e=this.props,t=e.name,n=e.label,r=e.options,o=e.value;return hn()({name:t,label:n,options:r.map(function(e){return gn(gn({},e),{},{checked:e.value===o})})})}},{key:"afterRender",value:function(){var e,t,n=this;Array.from(null!==(e=null===(t=this.element)||void 0===t?void 0:t.querySelectorAll('input[type="radio"]'))&&void 0!==e?e:[]).forEach(function(e){e.addEventListener("change",function(){var t,r;e.checked&&(null===(t=(r=n.props).onChange)||void 0===t||t.call(r,e.value))})})}},{key:"getValue",value:function(){var e,t,n=null===(e=this.element)||void 0===e?void 0:e.querySelector('input[type="radio"]:checked');return null!==(t=null==n?void 0:n.value)&&void 0!==t?t:this.props.value}},{key:"setValue",value:function(e){var t,n;this.props=gn(gn({},this.props),{},{value:e}),Array.from(null!==(t=null===(n=this.element)||void 0===n?void 0:n.querySelectorAll('input[type="radio"]'))&&void 0!==t?t:[]).forEach(function(t){t.checked=void 0!==e&&t.value===e})}}],r&&wn(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Se);function kn(e){return kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kn(e)}function Pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rn(r.key),r)}}function Sn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Sn=function(){return!!e})()}function En(e){return En=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},En(e)}function Tn(e,t){return Tn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Tn(e,t)}function Fn(e,t,n){return(t=Rn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rn(e){var t=function(e){if("object"!=kn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=kn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==kn(t)?t:t+""}var In=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Fn(e=function(e,t,n){return t=En(t),function(e,t){if(t&&("object"==kn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Sn()?Reflect.construct(t,n||[],En(e).constructor):t.apply(e,n))}(this,t,[n]),"errorContainer",null),Fn(e,"generalError",null),e.nameField=new gt({name:"name",placeholder:"Имя",autocomplete:"name",required:!0,variant:"underline",onInput:function(){return e.clearFieldError("name")}}),e.loginField=new gt({name:"login",placeholder:"login@flintmail.ru",required:!0,variant:"underline",onInput:function(){return e.clearFieldError("login")}}),e.birthdateField=new gt({name:"birthdate",type:"date",variant:"underline",onInput:function(){return e.clearFieldError("birthdate")}}),e.genderGroup=new Bn({name:"gender",label:"Пол",options:[{label:"Мужской",value:"male"},{label:"Женский",value:"female"}]}),e.passwordField=new gt({name:"password",type:"password",placeholder:"Пароль",required:!0,autocomplete:"new-password",variant:"underline",onInput:function(){return e.clearFieldError("password")}}),e.passwordRepeatField=new gt({name:"passwordRepeat",type:"password",placeholder:"Повторите пароль",required:!0,autocomplete:"new-password",variant:"underline",onInput:function(){return e.clearFieldError("passwordRepeat")}}),e.submitButton=new Rt({type:"submit",label:"Зарегистрироваться",variant:"primary",fullWidth:!0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tn(e,t)}(t,e),n=t,(r=[{key:"renderTemplate",value:function(){return fn()({})}},{key:"afterRender",value:function(){var e,t=this,n=function(e,n){var r,o=null===(r=t.element)||void 0===r?void 0:r.querySelector('[data-slot="'.concat(e,'"]'));o&&(n.render(),n.mount(o).then())};n("name",this.nameField),n("login",this.loginField),n("birthdate",this.birthdateField),n("gender",this.genderGroup),n("password",this.passwordField),n("passwordRepeat",this.passwordRepeatField),n("submit",this.submitButton);var r=this.element;null==r||r.addEventListener("submit",function(e){var n,r;e.preventDefault();var o={name:t.nameField.getValue(),login:t.loginField.getValue(),birthdate:t.birthdateField.getValue(),gender:t.genderGroup.getValue(),password:t.passwordField.getValue(),passwordRepeat:t.passwordRepeatField.getValue()};null===(n=(r=t.props).onSubmit)||void 0===n||n.call(r,o)}),this.errorContainer=null===(e=this.element)||void 0===e?void 0:e.querySelector('[data-slot="error"]'),this.updateGeneralError()}},{key:"applyErrors",value:function(e){var t,n,r,o,i;this.setFormError(null);var a=new Map;e.forEach(function(e){return a.set(e.field,e.message)}),this.setFieldError("name",null!==(t=a.get("name"))&&void 0!==t?t:null),this.setFieldError("login",null!==(n=a.get("login"))&&void 0!==n?n:null),this.setFieldError("birthdate",null!==(r=a.get("birthdate"))&&void 0!==r?r:null),this.setFieldError("password",null!==(o=a.get("password"))&&void 0!==o?o:null),this.setFieldError("passwordRepeat",null!==(i=a.get("passwordRepeat"))&&void 0!==i?i:null),0===e.length&&this.setFormError(null)}},{key:"clearErrors",value:function(){this.setFieldError("name",null),this.setFieldError("login",null),this.setFieldError("birthdate",null),this.setFieldError("password",null),this.setFieldError("passwordRepeat",null),this.setFormError(null)}},{key:"setFormError",value:function(e){this.generalError=(null==e?void 0:e.trim())||null,this.updateGeneralError()}},{key:"setFieldError",value:function(e,t){switch(e){case"name":this.nameField.setError(t);break;case"login":this.loginField.setError(t);break;case"birthdate":this.birthdateField.setError(t);break;case"password":this.passwordField.setError(t);break;case"passwordRepeat":this.passwordRepeatField.setError(t)}}},{key:"clearFieldError",value:function(e){this.setFieldError(e,null)}},{key:"updateGeneralError",value:function(){if(this.errorContainer){var e=this.generalError;this.errorContainer.textContent=null!=e?e:"",this.errorContainer.classList.toggle("register-form__error--visible",Boolean(e))}}}])&&Pn(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Se);function Mn(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return Un(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Un(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Un(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,Un(f,"constructor",c),Un(c,"constructor",u),u.displayName="GeneratorFunction",Un(c,o,"GeneratorFunction"),Un(f),Un(f,o,"Generator"),Un(f,r,function(){return this}),Un(f,"toString",function(){return"[object Generator]"}),(Mn=function(){return{w:i,m:p}})()}function Un(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Un=function(e,t,n,r){function i(t,n){Un(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Un(e,t,n,r)}function Nn(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function Dn(e){return Gn.apply(this,arguments)}function Gn(){var e;return e=Mn().m(function e(t){return Mn().w(function(e){for(;;)if(0===e.n)return e.a(2,A.request("/auth/signup",{method:"POST",body:t,skipAuthRefresh:!0}))},e)}),Gn=function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Nn(i,r,o,a,l,"next",e)}function l(e){Nn(i,r,o,a,l,"throw",e)}a(void 0)})},Gn.apply(this,arguments)}var qn=n(8200),Ln={};function Yn(e){return Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yn(e)}function Wn(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return zn(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(zn(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,zn(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,zn(f,"constructor",c),zn(c,"constructor",u),u.displayName="GeneratorFunction",zn(c,o,"GeneratorFunction"),zn(f),zn(f,o,"Generator"),zn(f,r,function(){return this}),zn(f,"toString",function(){return"[object Generator]"}),(Wn=function(){return{w:i,m:p}})()}function zn(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}zn=function(e,t,n,r){function i(t,n){zn(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},zn(e,t,n,r)}function Vn(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function Hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qn(r.key),r)}}function Qn(e){var t=function(e){if("object"!=Yn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Yn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Yn(t)?t:t+""}function $n(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return($n=function(){return!!e})()}function Kn(e){return Kn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kn(e)}function Jn(e,t){return Jn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Jn(e,t)}Ln.styleTagTransform=ot(),Ln.setAttributes=et(),Ln.insert=Ze().bind(null,"head"),Ln.domAPI=Ke(),Ln.insertStyleElement=nt(),Qe()(qn.A,Ln),qn.A&&qn.A.locals&&qn.A.locals;var Zn=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=Kn(t),function(e,t){if(t&&("object"==Yn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,$n()?Reflect.construct(t,n||[],Kn(e).constructor):t.apply(e,n))}(this,t)).form=new In({onSubmit:function(t){return e.handleSubmit(t)}}),e.authButton=new Rt({variant:"secondary",label:"У меня уже есть аккаунт",onClick:function(){return e.router.navigate("/auth")},fullWidth:!0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jn(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){return'<div class="register-page"></div>'}},{key:"getSlotContent",value:function(){var e=document.createElement("div");e.className="register-page";var t=document.createElement("h1");t.className="register-page__title",t.textContent="Регистрация",e.appendChild(t);var n=document.createElement("div");n.className="register-page__form",this.form.render(),this.form.mount(n).then(),e.appendChild(n);var r=document.createElement("div");return r.className="register-page__actions",this.authButton.render(),this.authButton.mount(r).then(),e.appendChild(r),{content:e}}},{key:"handleSubmit",value:(o=Wn().m(function e(t){var n,r,o,i,a;return Wn().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=U(t),this.form.applyErrors(r),!(r.length>0)){e.n=1;break}return e.a(2);case 1:return this.form.clearErrors(),this.form.setFormError(null),o={name:t.name.trim(),username:v(t.login),birthday:y(t.birthdate),gender:null!==(n=t.gender)&&void 0!==n?n:"male",password:t.password},e.p=2,e.n=3,Dn(o);case 3:this.router.navigate("/auth"),e.n=5;break;case 4:e.p=4,a=e.v,i=this.extractErrorMessage(a),this.form.setFormError(i),console.error("Failed to register",a);case 5:return e.a(2)}},e,this,[[2,4]])}),i=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=o.apply(e,t);function a(e){Vn(i,n,r,a,l,"next",e)}function l(e){Vn(i,n,r,a,l,"throw",e)}a(void 0)})},function(e){return i.apply(this,arguments)})},{key:"extractErrorMessage",value:function(e){if(e instanceof Error){var t,n=null===(t=e.message)||void 0===t?void 0:t.trim();if(n){try{var r=JSON.parse(n);if("string"==typeof(null==r?void 0:r.message)&&r.message.trim().length>0)return r.message.trim()}catch(e){}return n}}return"Не удалось завершить регистрацию. Попробуйте ещё раз."}}],r&&Hn(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i}(We),Xn=n(5342),er=n.n(Xn),tr=n(9783),nr={};nr.styleTagTransform=ot(),nr.setAttributes=et(),nr.insert=Ze().bind(null,"head"),nr.domAPI=Ke(),nr.insertStyleElement=nt(),Qe()(tr.A,nr),tr.A&&tr.A.locals&&tr.A.locals;var rr=n(8561),or=n.n(rr),ir=n(5462),ar={};function lr(e){return lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lr(e)}function ur(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return cr(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(cr(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,cr(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,cr(f,"constructor",c),cr(c,"constructor",u),u.displayName="GeneratorFunction",cr(c,o,"GeneratorFunction"),cr(f),cr(f,o,"Generator"),cr(f,r,function(){return this}),cr(f,"toString",function(){return"[object Generator]"}),(ur=function(){return{w:i,m:p}})()}function cr(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}cr=function(e,t,n,r){function i(t,n){cr(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},cr(e,t,n,r)}function sr(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function fr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function pr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fr(Object(n),!0).forEach(function(t){br(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function dr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gr(r.key),r)}}function Ar(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ar=function(){return!!e})()}function hr(e,t,n,r){var o=mr(yr(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function mr(){return mr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=yr(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},mr.apply(null,arguments)}function yr(e){return yr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yr(e)}function vr(e,t){return vr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vr(e,t)}function br(e,t,n){return(t=gr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gr(e){var t=function(e){if("object"!=lr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=lr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==lr(t)?t:t+""}ar.styleTagTransform=ot(),ar.setAttributes=et(),ar.insert=Ze().bind(null,"head"),ar.domAPI=Ke(),ar.insertStyleElement=nt(),Qe()(ir.A,ar),ir.A&&ir.A.locals&&ir.A.locals;var Cr=function(e){function t(){var e,n,r,o,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),br(o=function(e,t,n){return t=yr(t),function(e,t){if(t&&("object"==lr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ar()?Reflect.construct(t,n||[],yr(e).constructor):t.apply(e,n))}(this,t,[{placeholder:null!==(e=i.placeholder)&&void 0!==e?e:"",value:null!==(n=i.value)&&void 0!==n?n:"",debounce:null!==(r=i.debounce)&&void 0!==r?r:0,onInput:i.onInput}]),"inputEl",null),br(o,"debounceTimer",null),br(o,"handleInput",function(){var e;if(o.inputEl){var t,n,r=o.inputEl.value,i=null!==(e=o.props.debounce)&&void 0!==e?e:0;o.debounceTimer&&window.clearTimeout(o.debounceTimer),i>0?o.debounceTimer=window.setTimeout(function(){var e,t;null===(e=(t=o.props).onInput)||void 0===e||e.call(t,r)},i):null===(t=(n=o.props).onInput)||void 0===t||t.call(n,r)}}),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vr(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){var e,t;return or()({placeholder:null!==(e=this.props.placeholder)&&void 0!==e?e:"",value:null!==(t=this.props.value)&&void 0!==t?t:""})}},{key:"afterRender",value:function(){var e;this.inputEl=null===(e=this.element)||void 0===e?void 0:e.querySelector("input"),this.inputEl&&this.inputEl.addEventListener("input",this.handleInput)}},{key:"setProps",value:function(e){var t,n;this.props=pr(pr({},this.props),e),this.inputEl&&(void 0!==e.placeholder&&(this.inputEl.placeholder=null!==(t=e.placeholder)&&void 0!==t?t:""),void 0!==e.value&&(this.inputEl.value=null!==(n=e.value)&&void 0!==n?n:""))}},{key:"unmount",value:(o=ur().m(function e(){return ur().w(function(e){for(;;)switch(e.n){case 0:return this.inputEl&&this.inputEl.removeEventListener("input",this.handleInput),this.debounceTimer&&(window.clearTimeout(this.debounceTimer),this.debounceTimer=null),this.inputEl=null,e.n=1,hr(t,"unmount",this,3)([]);case 1:return e.a(2)}},e,this)}),i=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=o.apply(e,t);function a(e){sr(i,n,r,a,l,"next",e)}function l(e){sr(i,n,r,a,l,"throw",e)}a(void 0)})},function(){return i.apply(this,arguments)})}],r&&dr(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i}(Se),wr=n(81),_r=n.n(wr),xr=n(878),Or={};function jr(e){return jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jr(e)}function Br(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return kr(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(kr(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,kr(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,kr(f,"constructor",c),kr(c,"constructor",u),u.displayName="GeneratorFunction",kr(c,o,"GeneratorFunction"),kr(f),kr(f,o,"Generator"),kr(f,r,function(){return this}),kr(f,"toString",function(){return"[object Generator]"}),(Br=function(){return{w:i,m:p}})()}function kr(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}kr=function(e,t,n,r){function i(t,n){kr(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},kr(e,t,n,r)}function Pr(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function Sr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sr(Object(n),!0).forEach(function(t){Nr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Dr(r.key),r)}}function Fr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Fr=function(){return!!e})()}function Rr(e,t,n,r){var o=Ir(Mr(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function Ir(){return Ir="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Mr(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Ir.apply(null,arguments)}function Mr(e){return Mr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mr(e)}function Ur(e,t){return Ur=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ur(e,t)}function Nr(e,t,n){return(t=Dr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dr(e){var t=function(e){if("object"!=jr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=jr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==jr(t)?t:t+""}Or.styleTagTransform=ot(),Or.setAttributes=et(),Or.insert=Ze().bind(null,"head"),Or.domAPI=Ke(),Or.insertStyleElement=nt(),Qe()(xr.A,Or),xr.A&&xr.A.locals&&xr.A.locals;var Gr=function(e){return(null!=e?e:"").slice(0,2).toUpperCase()},qr=function(e){function t(){var e,n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Nr(r=function(e,t,n){return t=Mr(t),function(e,t){if(t&&("object"==jr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Fr()?Reflect.construct(t,n||[],Mr(e).constructor):t.apply(e,n))}(this,t,[{label:null!==(e=o.label)&&void 0!==e?e:"AK",imageUrl:null!==(n=o.imageUrl)&&void 0!==n?n:null,onClick:o.onClick}]),"buttonEl",null),Nr(r,"handleClick",function(e){var t,n;null===(t=(n=r.props).onClick)||void 0===t||t.call(n,e)}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ur(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){var e,t;return _r()({label:Gr(null!==(e=this.props.label)&&void 0!==e?e:""),imageUrl:null!==(t=this.props.imageUrl)&&void 0!==t?t:null})}},{key:"afterRender",value:function(){this.buttonEl=this.element,this.buttonEl&&this.buttonEl.addEventListener("click",this.handleClick)}},{key:"setProps",value:function(e){if(this.props=Er(Er({},this.props),e),this.buttonEl){var t,n,r,o=this.buttonEl.querySelector(".header__avatar"),i=this.buttonEl.querySelector(".header__avatar--image");if(void 0!==e.imageUrl)if(e.imageUrl){if(!i&&this.buttonEl)this.buttonEl.innerHTML='<img class="header__avatar header__avatar--image" src="'.concat(e.imageUrl,'" alt="').concat(null!==(t=null!==(n=e.label)&&void 0!==n?n:this.props.label)&&void 0!==t?t:"",'" loading="lazy" decoding="async" />');else if(i){var a,l;i.src=e.imageUrl,i.alt=null!==(a=null!==(l=e.label)&&void 0!==l?l:this.props.label)&&void 0!==a?a:""}}else i&&(i.remove(),this.props.label&&(this.buttonEl.innerHTML='<span class="header__avatar">'.concat(Gr(this.props.label),"</span>")));void 0!==e.label&&(i?i.alt=null!==(r=e.label)&&void 0!==r?r:"":o&&(o.textContent=Gr(e.label)))}}},{key:"unmount",value:(o=Br().m(function e(){return Br().w(function(e){for(;;)switch(e.n){case 0:return this.buttonEl&&this.buttonEl.removeEventListener("click",this.handleClick),this.buttonEl=null,e.n=1,Rr(t,"unmount",this,3)([]);case 1:return e.a(2)}},e,this)}),i=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=o.apply(e,t);function a(e){Pr(i,n,r,a,l,"next",e)}function l(e){Pr(i,n,r,a,l,"throw",e)}a(void 0)})},function(){return i.apply(this,arguments)})}],r&&Tr(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i}(Se),Lr=n(9204),Yr=n.n(Lr),Wr=n(8441),zr={};function Vr(e){return Vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vr(e)}function Hr(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return Qr(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Qr(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Qr(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,Qr(f,"constructor",c),Qr(c,"constructor",u),u.displayName="GeneratorFunction",Qr(c,o,"GeneratorFunction"),Qr(f),Qr(f,o,"Generator"),Qr(f,r,function(){return this}),Qr(f,"toString",function(){return"[object Generator]"}),(Hr=function(){return{w:i,m:p}})()}function Qr(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Qr=function(e,t,n,r){function i(t,n){Qr(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Qr(e,t,n,r)}function $r(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function Kr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Jr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kr(Object(n),!0).forEach(function(t){Zr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Zr(e,t,n){return(t=eo(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eo(r.key),r)}}function eo(e){var t=function(e){if("object"!=Vr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Vr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Vr(t)?t:t+""}function to(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(to=function(){return!!e})()}function no(e,t,n,r){var o=ro(oo(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function ro(){return ro="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=oo(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},ro.apply(null,arguments)}function oo(e){return oo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oo(e)}function io(e,t){return io=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},io(e,t)}zr.styleTagTransform=ot(),zr.setAttributes=et(),zr.insert=Ze().bind(null,"head"),zr.domAPI=Ke(),zr.insertStyleElement=nt(),Qe()(Wr.A,zr),Wr.A&&Wr.A.locals&&Wr.A.locals;var ao=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=oo(t),function(e,t){if(t&&("object"==Vr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,to()?Reflect.construct(t,n||[],oo(e).constructor):t.apply(e,n))}(this,t,[n])).profileButton=new Rt({label:"Профиль",variant:"link",fullWidth:!0,icon:'<img src="/img/menu-profile-logo.svg" alt="" aria-hidden="true" />',onClick:function(){var t,n;return null===(t=(n=e.props).onProfile)||void 0===t?void 0:t.call(n)}}),e.settingsButton=new Rt({label:"Настройки",variant:"link",fullWidth:!0,icon:'<img src="/img/menu-settings-logo.svg" alt="" aria-hidden="true" />',onClick:function(){var t,n;return null===(t=(n=e.props).onSettings)||void 0===t?void 0:t.call(n)}}),e.logoutButton=new Rt({label:"Выйти",variant:"link",fullWidth:!0,icon:'<img src="/img/menu-logout-logo.svg" alt="" aria-hidden="true" />',onClick:function(){var t,n;return null===(t=(n=e.props).onLogout)||void 0===t?void 0:t.call(n)}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&io(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){return Yr()({})}},{key:"afterRender",value:function(){this.mountButton("profile",this.profileButton),this.mountButton("settings",this.settingsButton),this.mountButton("logout",this.logoutButton)}},{key:"setProps",value:function(e){var t=this;this.props=Jr(Jr({},this.props),e),this.profileButton.setProps({label:"Профиль",onClick:function(){var e,n;return null===(e=(n=t.props).onProfile)||void 0===e?void 0:e.call(n)}}),this.settingsButton.setProps({label:"Настройки",onClick:function(){var e,n;return null===(e=(n=t.props).onSettings)||void 0===e?void 0:e.call(n)}}),this.logoutButton.setProps({label:"Выйти",onClick:function(){var e,n;return null===(e=(n=t.props).onLogout)||void 0===e?void 0:e.call(n)}})}},{key:"unmount",value:(o=Hr().m(function e(){return Hr().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.profileButton.unmount();case 1:return e.n=2,this.settingsButton.unmount();case 2:return e.n=3,this.logoutButton.unmount();case 3:return e.n=4,no(t,"unmount",this,3)([]);case 4:return e.a(2)}},e,this)}),i=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=o.apply(e,t);function a(e){$r(i,n,r,a,l,"next",e)}function l(e){$r(i,n,r,a,l,"throw",e)}a(void 0)})},function(){return i.apply(this,arguments)})},{key:"mountButton",value:function(e,t){var n,r=null===(n=this.element)||void 0===n?void 0:n.querySelector('[data-slot="'.concat(e,'"]'));if(r){r.innerHTML="";var o=t.render();r.appendChild(o),t.mount(r).then()}}}],r&&Xr(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i}(Se);function lo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"--";return e&&e.split(" ").map(function(e){return e.trim()}).filter(Boolean).map(function(e){return e[0]}).join("").slice(0,2).toUpperCase()||t}function uo(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return co(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(co(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,co(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,co(f,"constructor",c),co(c,"constructor",u),u.displayName="GeneratorFunction",co(c,o,"GeneratorFunction"),co(f),co(f,o,"Generator"),co(f,r,function(){return this}),co(f,"toString",function(){return"[object Generator]"}),(uo=function(){return{w:i,m:p}})()}function co(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}co=function(e,t,n,r){function i(t,n){co(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},co(e,t,n,r)}function so(e){return so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},so(e)}function fo(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function po(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ao(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?po(Object(n),!0).forEach(function(t){ho(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):po(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ho(e,t,n){return(t=function(e){var t=function(e){if("object"!=so(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=so(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==so(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mo=null,yo=null;function vo(e){var t,n=(e.fullName||e.username).trim()||e.username;return{avatarUrl:null!==(t=e.avatarUrl)&&void 0!==t?t:null,initials:lo(n),fullName:n,email:e.email}}function bo(e){mo={data:Ao({},e),expiresAt:Date.now()+84e4},yo=Promise.resolve(Ao({},e))}function go(){var e=_o();return e?Ao({},e.data):null}function Co(){return wo.apply(this,arguments)}function wo(){var e;return e=uo().m(function e(){var t;return uo().w(function(e){for(;;)switch(e.n){case 0:if(!(t=_o())){e.n=1;break}return e.a(2,Ao({},t.data));case 1:return yo||(yo=Q().then(function(e){var t=vo(e);return bo(t),t}).catch(function(e){throw yo=null,e})),e.a(2,yo.then(function(e){return Ao({},e)}))}},e)}),wo=function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){fo(i,r,o,a,l,"next",e)}function l(e){fo(i,r,o,a,l,"throw",e)}a(void 0)})},wo.apply(this,arguments)}function _o(){return mo?mo.expiresAt<=Date.now()?(mo=null,yo=null,null):mo:null}function xo(e){return xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xo(e)}function Oo(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return jo(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(jo(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,jo(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,jo(f,"constructor",c),jo(c,"constructor",u),u.displayName="GeneratorFunction",jo(c,o,"GeneratorFunction"),jo(f),jo(f,o,"Generator"),jo(f,r,function(){return this}),jo(f,"toString",function(){return"[object Generator]"}),(Oo=function(){return{w:i,m:p}})()}function jo(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}jo=function(e,t,n,r){function i(t,n){jo(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},jo(e,t,n,r)}function Bo(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function ko(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Bo(i,r,o,a,l,"next",e)}function l(e){Bo(i,r,o,a,l,"throw",e)}a(void 0)})}}function Po(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function So(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Po(Object(n),!0).forEach(function(t){Uo(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Po(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Eo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,No(r.key),r)}}function To(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(To=function(){return!!e})()}function Fo(e,t,n,r){var o=Ro(Io(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function Ro(){return Ro="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Io(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Ro.apply(null,arguments)}function Io(e){return Io=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Io(e)}function Mo(e,t){return Mo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Mo(e,t)}function Uo(e,t,n){return(t=No(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function No(e){var t=function(e){if("object"!=xo(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=xo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==xo(t)?t:t+""}var Do=function(e){function t(){var e,n,r,o,i,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),Uo(o=function(e,t,n){return t=Io(t),function(e,t){if(t&&("object"==xo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,To()?Reflect.construct(t,n||[],Io(e).constructor):t.apply(e,n))}(this,t,[a]),"router",ye.getInstance()),Uo(o,"hasRequestedProfile",!1),Uo(o,"outsideClickHandler",function(e){var t=e.target;if(o.menuElement){var n=!!t&&o.menuElement.contains(t),r=!(!t||!o.avatarButtonElement)&&o.avatarButtonElement.contains(t);n||r||o.closeMenu()}}),o.showSearch=null===(e=a.showSearch)||void 0===e||e,o.showSearch&&(o.searchInput=new Cr({placeholder:null!==(i=a.searchPlaceholder)&&void 0!==i?i:"Поиск",debounce:300,onInput:function(e){var t,n;return null===(t=(n=o.props).onSearch)||void 0===t?void 0:t.call(n,e)}})),o.avatarButton=new qr({label:null!==(n=a.avatarLabel)&&void 0!==n?n:" ",imageUrl:null!==(r=a.avatarImageUrl)&&void 0!==r?r:null,onClick:function(e){return o.toggleMenu(e)}}),o.avatarMenu=new ao({onProfile:function(){return o.handleMenuSelect(function(){var e,t;o.router.navigate("/profile"),null===(e=(t=o.props).onProfile)||void 0===e||e.call(t)})},onSettings:function(){return o.handleMenuSelect(o.props.onSettings)},onLogout:function(){return o.handleMenuSelect(o.props.onLogout)}});var l=o.extractProfileInfo();return l&&(bo(l),o.hasRequestedProfile=!0),o.ensureProfileInfo(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mo(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){return er()({})}},{key:"afterRender",value:function(){var e=this.element,t=e.querySelector('[data-slot="search"]');if(t&&(t.innerHTML="",this.showSearch&&this.searchInput)){this.searchInput.unmount().then();var n=this.searchInput.render();t.appendChild(n),this.searchInput.mount(t).then()}var r=e.querySelector('[data-slot="avatar"]');if(r){this.avatarButton.unmount().then();var o=this.avatarButton.render();r.innerHTML="",r.appendChild(o),this.avatarButton.mount(r).then(),this.avatarButtonElement=r.querySelector("[data-avatar-button]")}var i=e.querySelector('[data-slot="menu"]');if(i){var a=this.avatarMenu.render();i.innerHTML="",i.appendChild(a),this.avatarMenu.mount(i).then(),this.menuElement=i,this.menuElement.setAttribute("aria-hidden","true"),this.menuElement.style.display="none"}this.ensureProfileInfo()}},{key:"setProps",value:function(e){var t,n,r,o,i=this;this.props=So(So({},this.props),e),void 0!==e.showSearch&&(this.showSearch=e.showSearch),null===(t=this.searchInput)||void 0===t||t.setProps({placeholder:null!==(n=this.props.searchPlaceholder)&&void 0!==n?n:"Поиск",onInput:function(e){var t,n;return null===(t=(n=i.props).onSearch)||void 0===t?void 0:t.call(n,e)}}),this.avatarButton.setProps({label:null!==(r=this.props.avatarLabel)&&void 0!==r?r:" ",imageUrl:null!==(o=this.props.avatarImageUrl)&&void 0!==o?o:null,onClick:function(e){return i.toggleMenu(e)}}),this.avatarMenu.setProps({onProfile:function(){return i.handleMenuSelect(function(){var e,t;i.router.navigate("/profile"),null===(e=(t=i.props).onProfile)||void 0===e||e.call(t)})},onSettings:function(){return i.handleMenuSelect(i.props.onSettings)},onLogout:function(){return i.handleMenuSelect(i.props.onLogout)}});var a=this.extractProfileInfo();a&&(bo(a),this.hasRequestedProfile=!0),this.ensureProfileInfo()}},{key:"toggleMenu",value:function(e){if(e.stopPropagation(),this.menuElement){var t=!this.menuElement.classList.contains("open");this.menuElement.classList.toggle("open",t),this.menuElement.setAttribute("aria-hidden",t?"false":"true"),this.menuElement.style.display=t?"block":"none",t?document.addEventListener("pointerdown",this.outsideClickHandler):document.removeEventListener("pointerdown",this.outsideClickHandler)}}},{key:"closeMenu",value:function(){this.menuElement&&this.menuElement.classList.contains("open")&&(this.menuElement.classList.remove("open"),this.menuElement.setAttribute("aria-hidden","true"),this.menuElement.style.display="none",document.removeEventListener("pointerdown",this.outsideClickHandler))}},{key:"handleMenuSelect",value:function(e){this.closeMenu(),null==e||e()}},{key:"unmount",value:(i=ko(Oo().m(function e(){var n;return Oo().w(function(e){for(;;)switch(e.n){case 0:return document.removeEventListener("pointerdown",this.outsideClickHandler),e.n=1,null===(n=this.searchInput)||void 0===n?void 0:n.unmount();case 1:return e.n=2,this.avatarButton.unmount();case 2:return e.n=3,this.avatarMenu.unmount();case 3:return e.n=4,Fo(t,"unmount",this,3)([]);case 4:return e.a(2)}},e,this)})),function(){return i.apply(this,arguments)})},{key:"ensureProfileInfo",value:(o=ko(Oo().m(function e(){var t,n,r;return Oo().w(function(e){for(;;)switch(e.p=e.n){case 0:if(this.element){e.n=1;break}return e.a(2);case 1:if(!(t=go())){e.n=2;break}return this.hasRequestedProfile||(this.applyProfilePreview(t),this.hasRequestedProfile=!0),e.a(2);case 2:return e.p=2,this.hasRequestedProfile=!0,e.n=3,Co();case 3:n=e.v,this.applyProfilePreview(n),e.n=5;break;case 4:e.p=4,r=e.v,this.hasRequestedProfile=!1,console.error("Failed to load profile data for header",r);case 5:return e.a(2)}},e,this,[[2,4]])})),function(){return o.apply(this,arguments)})},{key:"applyProfilePreview",value:function(e){this.setProps({avatarImageUrl:e.avatarUrl,avatarLabel:e.initials,userName:e.fullName,userEmail:e.email})}},{key:"extractProfileInfo",value:function(){var e,t,n,r,o=(null!==(e=this.props.userName)&&void 0!==e?e:"").trim(),i=(null!==(t=this.props.userEmail)&&void 0!==t?t:"").trim(),a=null!==(n=this.props.avatarImageUrl)&&void 0!==n?n:null;if(!o&&!i&&!a)return null;var l=(null!==(r=this.props.avatarLabel)&&void 0!==r?r:"").trim()||(o?lo(o):"--");return{avatarUrl:a,initials:l,fullName:o||l,email:i}}}],r&&Eo(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i}(Se),Go=n(2122),qo=n.n(Go),Lo=n(9683),Yo={};Yo.styleTagTransform=ot(),Yo.setAttributes=et(),Yo.insert=Ze().bind(null,"head"),Yo.domAPI=Ke(),Yo.insertStyleElement=nt(),Qe()(Lo.A,Yo),Lo.A&&Lo.A.locals&&Lo.A.locals;var Wo=n(3505),zo=n.n(Wo),Vo=n(4190),Ho={};function Qo(e){return Qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qo(e)}function $o(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return Ko(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Ko(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Ko(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,Ko(f,"constructor",c),Ko(c,"constructor",u),u.displayName="GeneratorFunction",Ko(c,o,"GeneratorFunction"),Ko(f),Ko(f,o,"Generator"),Ko(f,r,function(){return this}),Ko(f,"toString",function(){return"[object Generator]"}),($o=function(){return{w:i,m:p}})()}function Ko(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Ko=function(e,t,n,r){function i(t,n){Ko(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Ko(e,t,n,r)}function Jo(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function Zo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Xo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zo(Object(n),!0).forEach(function(t){ai(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zo(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ei(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,li(r.key),r)}}function ti(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ti=function(){return!!e})()}function ni(e,t,n,r){var o=ri(oi(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function ri(){return ri="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=oi(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},ri.apply(null,arguments)}function oi(e){return oi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oi(e)}function ii(e,t){return ii=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ii(e,t)}function ai(e,t,n){return(t=li(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function li(e){var t=function(e){if("object"!=Qo(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Qo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Qo(t)?t:t+""}Ho.styleTagTransform=ot(),Ho.setAttributes=et(),Ho.insert=Ze().bind(null,"head"),Ho.domAPI=Ke(),Ho.insertStyleElement=nt(),Qe()(Vo.A,Ho),Vo.A&&Vo.A.locals&&Vo.A.locals;var ui={inbox:"/img/folder-inbox.svg",sent:"/img/folder-sent.svg",drafts:"/img/folder-drafts.svg"},ci=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ai(e=function(e,t,n){return t=oi(t),function(e,t){if(t&&("object"==Qo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ti()?Reflect.construct(t,n||[],oi(e).constructor):t.apply(e,n))}(this,t,[].concat(r)),"handleClick",function(){var t,n;null===(t=(n=e.props).onSelect)||void 0===t||t.call(n,e.props.id)}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ii(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){return zo()({id:this.props.id,name:this.props.name,count:this.props.count,active:this.props.active})}},{key:"afterRender",value:function(){var e;null===(e=this.element)||void 0===e||e.addEventListener("click",this.handleClick),this.applyIcon()}},{key:"setProps",value:function(e){if(this.props=Xo(Xo({},this.props),e),this.element){this.element.classList.toggle("sidebar-folder--active",!!this.props.active);var t=this.element.querySelector(".sidebar-folder__name");t&&(t.textContent=this.props.name);var n=this.element.querySelector(".sidebar-folder__count");if(this.props.count)if(n)n.textContent=String(this.props.count);else{var r=document.createElement("span");r.className="sidebar-folder__count",r.textContent=String(this.props.count),this.element.appendChild(r)}else n&&n.remove();this.applyIcon()}}},{key:"applyIcon",value:function(){var e,t;if(this.element){var n=this.element.querySelector(".sidebar-folder__icon");if(n){var r=null!==(e=null!==(t=this.props.icon)&&void 0!==t?t:ui[this.props.id])&&void 0!==e?e:"/img/folder-default.svg";n.style.backgroundImage="url(".concat(r,")")}}}},{key:"unmount",value:(o=$o().m(function e(){var n;return $o().w(function(e){for(;;)switch(e.n){case 0:return null===(n=this.element)||void 0===n||n.removeEventListener("click",this.handleClick),e.n=1,ni(t,"unmount",this,3)([]);case 1:return e.a(2)}},e,this)}),i=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=o.apply(e,t);function a(e){Jo(i,n,r,a,l,"next",e)}function l(e){Jo(i,n,r,a,l,"throw",e)}a(void 0)})},function(){return i.apply(this,arguments)})}],r&&ei(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i}(Se);function si(e){return si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},si(e)}function fi(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return pi(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(pi(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,pi(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,pi(f,"constructor",c),pi(c,"constructor",u),u.displayName="GeneratorFunction",pi(c,o,"GeneratorFunction"),pi(f),pi(f,o,"Generator"),pi(f,r,function(){return this}),pi(f,"toString",function(){return"[object Generator]"}),(fi=function(){return{w:i,m:p}})()}function pi(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}pi=function(e,t,n,r){function i(t,n){pi(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},pi(e,t,n,r)}function di(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function Ai(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||mi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hi(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=mi(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function mi(e,t){if(e){if("string"==typeof e)return yi(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yi(e,t):void 0}}function yi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function vi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vi(Object(n),!0).forEach(function(t){ji(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vi(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bi(r.key),r)}}function Ci(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ci=function(){return!!e})()}function wi(e,t,n,r){var o=_i(xi(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function _i(){return _i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=xi(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},_i.apply(null,arguments)}function xi(e){return xi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xi(e)}function Oi(e,t){return Oi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Oi(e,t)}function ji(e,t,n){return(t=Bi(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bi(e){var t=function(e){if("object"!=si(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=si(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==si(t)?t:t+""}var ki=[{id:"inbox",name:"Входящие",count:0,icon:"/img/folder-inbox.svg"},{id:"conversations",name:"Диалоги",icon:"/img/folder-dialog.svg"},{id:"sent",name:"Отправленные",icon:"/img/folder-sent.svg"},{id:"drafts",name:"Черновики",icon:"/img/folder-drafts.svg"},{id:"spam",name:"Спам",icon:"/img/folder-spam.svg"},{id:"trash",name:"Корзина",icon:"/img/folder-trash.svg"},{id:"custom",name:"Новая папка",icon:"/img/folder-add.svg"}],Pi=function(e){function t(){var e,n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ji(r=function(e,t,n){return t=xi(t),function(e,t){if(t&&("object"==si(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ci()?Reflect.construct(t,n||[],xi(e).constructor):t.apply(e,n))}(this,t,[{folders:null!==(e=o.folders)&&void 0!==e?e:ki,activeFolderId:null!==(n=o.activeFolderId)&&void 0!==n?n:ki[0].id,onCompose:o.onCompose,onFolderSelect:o.onFolderSelect}]),"folderItems",new Map),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oi(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){return qo()({})}},{key:"afterRender",value:function(){var e=this,t=this.element,n=t.querySelector("[data-compose]");this.foldersRoot=t.querySelector('[data-slot="folders"]'),n&&(this.composeHandler=function(t){var n,r;t.preventDefault(),null===(n=(r=e.props).onCompose)||void 0===n||n.call(r)},n.addEventListener("click",this.composeHandler)),this.renderFolders()}},{key:"setProps",value:function(e){this.props=bi(bi({},this.props),e),this.renderFolders()}},{key:"renderFolders",value:function(){var e,t=this;if(this.foldersRoot){var n,r=null!==(e=this.props.folders)&&void 0!==e?e:ki,o=hi(this.folderItems);try{for(o.s();!(n=o.n()).done;)Ai(n.value,2)[1].unmount().then()}catch(e){o.e(e)}finally{o.f()}this.folderItems.clear(),this.foldersRoot.innerHTML="",r.forEach(function(e){var n=bi(bi({},e),{},{active:e.id===t.props.activeFolderId,onSelect:function(e){var n,r;null===(n=(r=t.props).onFolderSelect)||void 0===n||n.call(r,e)}}),r=new ci(n);r.render(),r.mount(t.foldersRoot).then(),t.folderItems.set(e.id,r)})}}},{key:"unmount",value:(o=fi().m(function e(){var n,r,o,i,a,l,u;return fi().w(function(e){for(;;)switch(e.p=e.n){case 0:n=this.element,(r=null==n?void 0:n.querySelector("[data-compose]"))&&this.composeHandler&&(r.removeEventListener("click",this.composeHandler),this.composeHandler=void 0),o=hi(this.folderItems),e.p=1,o.s();case 2:if((i=o.n()).done){e.n=4;break}return a=Ai(i.value,2),l=a[1],e.n=3,l.unmount();case 3:e.n=2;break;case 4:e.n=6;break;case 5:e.p=5,u=e.v,o.e(u);case 6:return e.p=6,o.f(),e.f(6);case 7:return this.folderItems.clear(),e.n=8,wi(t,"unmount",this,3)([]);case 8:return e.a(2)}},e,this,[[1,5,6,7]])}),i=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=o.apply(e,t);function a(e){di(i,n,r,a,l,"next",e)}function l(e){di(i,n,r,a,l,"throw",e)}a(void 0)})},function(){return i.apply(this,arguments)})}],r&&gi(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i}(Se),Si=n(8238),Ei=n.n(Si),Ti=n(7135),Fi={};Fi.styleTagTransform=ot(),Fi.setAttributes=et(),Fi.insert=Ze().bind(null,"head"),Fi.domAPI=Ke(),Fi.insertStyleElement=nt(),Qe()(Ti.A,Fi),Ti.A&&Ti.A.locals&&Ti.A.locals;var Ri=n(9407),Ii=n.n(Ri),Mi=n(192),Ui={};function Ni(e){return Ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ni(e)}function Di(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return Gi(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Gi(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Gi(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,Gi(f,"constructor",c),Gi(c,"constructor",u),u.displayName="GeneratorFunction",Gi(c,o,"GeneratorFunction"),Gi(f),Gi(f,o,"Generator"),Gi(f,r,function(){return this}),Gi(f,"toString",function(){return"[object Generator]"}),(Di=function(){return{w:i,m:p}})()}function Gi(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Gi=function(e,t,n,r){function i(t,n){Gi(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Gi(e,t,n,r)}function qi(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function Li(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qi(r.key),r)}}function Yi(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Yi=function(){return!!e})()}function Wi(e,t,n,r){var o=zi(Vi(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function zi(){return zi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Vi(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},zi.apply(null,arguments)}function Vi(e){return Vi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vi(e)}function Hi(e,t){return Hi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Hi(e,t)}function Qi(e){var t=function(e){if("object"!=Ni(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ni(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ni(t)?t:t+""}Ui.styleTagTransform=ot(),Ui.setAttributes=et(),Ui.insert=Ze().bind(null,"head"),Ui.domAPI=Ke(),Ui.insertStyleElement=nt(),Qe()(Mi.A,Ui),Mi.A&&Mi.A.locals&&Mi.A.locals;var $i=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return e=function(e,t,n){return t=Vi(t),function(e,t){if(t&&("object"==Ni(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Yi()?Reflect.construct(t,n||[],Vi(e).constructor):t.apply(e,n))}(this,t,[].concat(a)),n=e,o=function(){if(e.avatarImg){var t=document.createElement("div");t.className="mail-item__avatar mail-item__avatar--placeholder",t.textContent=e.getInitials(),e.avatarImg.replaceWith(t),e.avatarImg=null}},(r=Qi(r="handleAvatarError"))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hi(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){var e=this.props.mail,t=this.getInitials();return Ii()({id:e.id,from:e.from,subject:e.subject,preview:e.preview,time:e.time,avatarUrl:e.avatarUrl,isRead:!!e.isRead,initials:t})}},{key:"afterRender",value:function(){var e=this,t=this.element;this.openHandler=function(t){var n,r;t.target.closest("[data-action]")||null===(n=(r=e.props).onOpen)||void 0===n||n.call(r,e.props.mail.id)},t.addEventListener("click",this.openHandler),this.avatarImg=t.querySelector(".mail-item__avatar-image"),this.avatarImg&&this.avatarImg.addEventListener("error",this.handleAvatarError,{once:!0})}},{key:"getInitials",value:function(){var e,t=lo(null!==(e=this.props.mail.from)&&void 0!==e?e:"","?");return t?t[0]:"?"}},{key:"unmount",value:(o=Di().m(function e(){var n;return Di().w(function(e){for(;;)switch(e.n){case 0:return(n=this.element)&&this.openHandler&&n.removeEventListener("click",this.openHandler),this.avatarImg&&(this.avatarImg.removeEventListener("error",this.handleAvatarError),this.avatarImg=null),e.n=1,Wi(t,"unmount",this,3)([]);case 1:return e.a(2)}},e,this)}),i=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=o.apply(e,t);function a(e){qi(i,n,r,a,l,"next",e)}function l(e){qi(i,n,r,a,l,"throw",e)}a(void 0)})},function(){return i.apply(this,arguments)})}],r&&Li(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i}(Se);function Ki(e){return Ki="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ki(e)}function Ji(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return Zi(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Zi(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Zi(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,Zi(f,"constructor",c),Zi(c,"constructor",u),u.displayName="GeneratorFunction",Zi(c,o,"GeneratorFunction"),Zi(f),Zi(f,o,"Generator"),Zi(f,r,function(){return this}),Zi(f,"toString",function(){return"[object Generator]"}),(Ji=function(){return{w:i,m:p}})()}function Zi(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Zi=function(e,t,n,r){function i(t,n){Zi(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Zi(e,t,n,r)}function Xi(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ta(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(n),!0).forEach(function(t){pa(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ea(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function na(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||oa(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ra(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=oa(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function oa(e,t){if(e){if("string"==typeof e)return ia(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ia(e,t):void 0}}function ia(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function aa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,da(r.key),r)}}function la(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(la=function(){return!!e})()}function ua(e,t,n,r){var o=ca(sa(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function ca(){return ca="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=sa(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},ca.apply(null,arguments)}function sa(e){return sa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sa(e)}function fa(e,t){return fa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fa(e,t)}function pa(e,t,n){return(t=da(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function da(e){var t=function(e){if("object"!=Ki(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ki(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ki(t)?t:t+""}var Aa=function(e){function t(){var e,n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),pa(r=function(e,t,n){return t=sa(t),function(e,t){if(t&&("object"==Ki(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,la()?Reflect.construct(t,n||[],sa(e).constructor):t.apply(e,n))}(this,t,[{items:null!==(e=o.items)&&void 0!==e?e:[],onOpen:o.onOpen,emptyMessage:null!==(n=o.emptyMessage)&&void 0!==n?n:"No_emails_text"}]),"childItems",new Map),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fa(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){return Ei()({})}},{key:"afterRender",value:function(){this.renderItems()}},{key:"renderItems",value:function(){var e,t,n=null===(e=this.element)||void 0===e?void 0:e.querySelector(".mail-list__items");if(n){var r,o=ra(this.childItems);try{for(o.s();!(r=o.n()).done;)na(r.value,2)[1].unmount()}catch(e){o.e(e)}finally{o.f()}n.innerHTML="",this.childItems.clear();var i=null!==(t=this.props.items)&&void 0!==t?t:[];if(0===i.length){var a,l=document.createElement("div");return l.className="mail-list__empty",l.textContent=null!==(a=this.props.emptyMessage)&&void 0!==a?a:"No_emails_text",void n.appendChild(l)}var u,c=ra(i);try{for(c.s();!(u=c.n()).done;){var s=u.value,f=new $i({mail:s,onOpen:this.props.onOpen}),p=f.render();n.appendChild(p),this.childItems.set(s.id,f)}}catch(e){c.e(e)}finally{c.f()}}}},{key:"setProps",value:function(e){this.props=ta(ta({},this.props),e),(Object.prototype.hasOwnProperty.call(e,"items")||Object.prototype.hasOwnProperty.call(e,"emptyMessage"))&&this.renderItems()}},{key:"unmount",value:(o=Ji().m(function e(){var n,r,o,i,a;return Ji().w(function(e){for(;;)switch(e.p=e.n){case 0:n=ra(this.childItems),e.p=1,n.s();case 2:if((r=n.n()).done){e.n=4;break}return o=na(r.value,2),i=o[1],e.n=3,i.unmount();case 3:e.n=2;break;case 4:e.n=6;break;case 5:e.p=5,a=e.v,n.e(a);case 6:return e.p=6,n.f(),e.f(6);case 7:return this.childItems.clear(),e.n=8,ua(t,"unmount",this,3)([]);case 8:return e.a(2)}},e,this,[[1,5,6,7]])}),i=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=o.apply(e,t);function a(e){Xi(i,n,r,a,l,"next",e)}function l(e){Xi(i,n,r,a,l,"throw",e)}a(void 0)})},function(){return i.apply(this,arguments)})}],r&&aa(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i}(Se),ha=n(9166),ma=n.n(ha),ya=n(6594),va={};function ba(e){return ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ba(e)}function ga(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return Ca(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Ca(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Ca(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,Ca(f,"constructor",c),Ca(c,"constructor",u),u.displayName="GeneratorFunction",Ca(c,o,"GeneratorFunction"),Ca(f),Ca(f,o,"Generator"),Ca(f,r,function(){return this}),Ca(f,"toString",function(){return"[object Generator]"}),(ga=function(){return{w:i,m:p}})()}function Ca(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Ca=function(e,t,n,r){function i(t,n){Ca(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Ca(e,t,n,r)}function wa(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function _a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||Oa(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xa(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Oa(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function Oa(e,t){if(e){if("string"==typeof e)return ja(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ja(e,t):void 0}}function ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ba(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ka(r.key),r)}}function ka(e){var t=function(e){if("object"!=ba(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ba(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ba(t)?t:t+""}function Pa(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Pa=function(){return!!e})()}function Sa(e,t,n,r){var o=Ea(Ta(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function Ea(){return Ea="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Ta(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Ea.apply(null,arguments)}function Ta(e){return Ta=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ta(e)}function Fa(e,t){return Fa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fa(e,t)}va.styleTagTransform=ot(),va.setAttributes=et(),va.insert=Ze().bind(null,"head"),va.domAPI=Ke(),va.insertStyleElement=nt(),Qe()(ya.A,va),ya.A&&ya.A.locals&&ya.A.locals;var Ra=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,n){return t=Ta(t),function(e,t){if(t&&("object"==ba(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Pa()?Reflect.construct(t,n||[],Ta(e).constructor):t.apply(e,n))}(this,t,[e])).toolbarButtons=new Map([["back",n.createToolbarButton({icon:'<img src="/img/message-back.svg" alt="" aria-hidden="true" />',ariaLabel:"Назад",onClick:function(){var e,t;return null===(e=(t=n.props).onBack)||void 0===e?void 0:e.call(t)}})],["delete",n.createToolbarButton({label:"Удалить",icon:'<img src="/img/message-delete.svg" alt="" aria-hidden="true" />'})],["folder",n.createToolbarButton({label:"В папку",icon:'<img src="/img/message-in-folder.svg" alt="" aria-hidden="true" />'})],["spam",n.createToolbarButton({label:"Спам",icon:'<img src="/img/message-to-spam.svg" alt="" aria-hidden="true" />'})],["reply",n.createToolbarButton({label:"Ответить",icon:'<img src="/img/message-reply.svg" alt="" aria-hidden="true" />',onClick:function(){var e,t;return null===(e=(t=n.props).onReply)||void 0===e?void 0:e.call(t)}})],["forward",n.createToolbarButton({label:"Переслать",icon:'<img src="/img/message-forward.svg" alt="" aria-hidden="true" />',onClick:function(){var e,t;return null===(e=(t=n.props).onForward)||void 0===e?void 0:e.call(t)}})]]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fa(e,t)}(t,e),n=t,r=[{key:"createToolbarButton",value:function(e){var t=e.label,n=e.icon,r=e.onClick,o=e.ariaLabel,i={icon:n,variant:"link",type:"button"};return t&&(i.label=t),r&&(i.onClick=function(){return r()}),o&&(i.ariaLabel=o),new Rt(i)}},{key:"renderTemplate",value:function(){var e,t,n=this.props,r=n.from,o=n.subject,i=n.time,a=n.body,l=n.avatarUrl,u=((null==r?void 0:r[0])||"").toUpperCase();return ma()({from:r,subject:o,time:i,body:a,initials:u,avatarUrl:null!=l?l:null,fromEmail:null!==(e=this.props.fromEmail)&&void 0!==e?e:r,recipient:null!==(t=this.props.recipient)&&void 0!==t?t:"вам"})}},{key:"afterRender",value:function(){if(this.element){var e,t=xa(this.toolbarButtons.entries());try{for(t.s();!(e=t.n()).done;){var n=_a(e.value,2),r=n[0],o=n[1],i=this.element.querySelector('[data-slot="'.concat(r,'"]'));i&&(i.innerHTML="",o.render(),o.mount(i).then())}}catch(e){t.e(e)}finally{t.f()}}}},{key:"unmount",value:(o=ga().m(function e(){var n,r,o,i;return ga().w(function(e){for(;;)switch(e.p=e.n){case 0:n=xa(this.toolbarButtons.values()),e.p=1,n.s();case 2:if((r=n.n()).done){e.n=4;break}return o=r.value,e.n=3,o.unmount();case 3:e.n=2;break;case 4:e.n=6;break;case 5:e.p=5,i=e.v,n.e(i);case 6:return e.p=6,n.f(),e.f(6);case 7:return e.n=8,Sa(t,"unmount",this,3)([]);case 8:return e.a(2)}},e,this,[[1,5,6,7]])}),i=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=o.apply(e,t);function a(e){wa(i,n,r,a,l,"next",e)}function l(e){wa(i,n,r,a,l,"throw",e)}a(void 0)})},function(){return i.apply(this,arguments)})}],r&&Ba(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i}(Se),Ia=n(6271),Ma=n.n(Ia),Ua=n(6212),Na={};function Da(e){return Da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Da(e)}function Ga(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return qa(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(qa(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,qa(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,qa(f,"constructor",c),qa(c,"constructor",u),u.displayName="GeneratorFunction",qa(c,o,"GeneratorFunction"),qa(f),qa(f,o,"Generator"),qa(f,r,function(){return this}),qa(f,"toString",function(){return"[object Generator]"}),(Ga=function(){return{w:i,m:p}})()}function qa(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}qa=function(e,t,n,r){function i(t,n){qa(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},qa(e,t,n,r)}function La(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function Ya(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ka(r.key),r)}}function Wa(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Wa=function(){return!!e})()}function za(e,t,n,r){var o=Va(Ha(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function Va(){return Va="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Ha(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Va.apply(null,arguments)}function Ha(e){return Ha=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ha(e)}function Qa(e,t){return Qa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qa(e,t)}function $a(e,t,n){return(t=Ka(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ka(e){var t=function(e){if("object"!=Da(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Da(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Da(t)?t:t+""}Na.styleTagTransform=ot(),Na.setAttributes=et(),Na.insert=Ze().bind(null,"head"),Na.domAPI=Ke(),Na.insertStyleElement=nt(),Qe()(Ua.A,Na),Ua.A&&Ua.A.locals&&Ua.A.locals;var Ja=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$a(e=function(e,t,n){return t=Ha(t),function(e,t){if(t&&("object"==Da(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Wa()?Reflect.construct(t,n||[],Ha(e).constructor):t.apply(e,n))}(this,t,[n]),"toInput",null),$a(e,"toErrorEl",null),$a(e,"subjectInput",null),$a(e,"bodyTextarea",null),e.attachButton=new Rt({label:"Прикрепить файл",variant:"link",icon:'<img src="/img/modal-attach-file.svg" alt="" aria-hidden="true" />',onClick:function(){return e.handleAttach()}}),e.draftButton=new Rt({label:"Сохранить черновик",variant:"link",icon:'<img src="/img/modal-to-draft.svg" alt="" aria-hidden="true" />',onClick:function(){return e.handleSaveDraft()}}),e.sendButton=new Rt({label:"Отправить",variant:"primary",onClick:function(){return e.handleSend()}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qa(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){return Ma()({})}},{key:"afterRender",value:function(){var e=this,t=this.element;t.addEventListener("click",function(t){var n,r;t.target.classList.contains("compose-overlay")&&(null===(n=(r=e.props).onClose)||void 0===n||n.call(r))});var n=t.querySelector('[data-action="close"]');null==n||n.addEventListener("click",function(){var t,n;return null===(t=(n=e.props).onClose)||void 0===t?void 0:t.call(n)}),this.mountButton(t,"attach",this.attachButton),this.mountButton(t,"draft",this.draftButton),this.mountButton(t,"send",this.sendButton),this.toInput=t.querySelector('[data-field="to"]'),this.toErrorEl=t.querySelector('[data-error="to"]'),this.subjectInput=t.querySelector('[data-field="subject"]'),this.bodyTextarea=t.querySelector('[data-field="body"]'),this.toInput&&this.toInput.addEventListener("input",function(){return e.setRecipientError(null)}),this.toErrorEl&&(this.toErrorEl.classList.remove("compose-modal__error--visible"),this.toErrorEl.textContent=""),this.applyInitialValues(),this.focusInitialField()}},{key:"mountButton",value:function(e,t,n){var r=e.querySelector('[data-slot="'.concat(t,'"]'));r&&(n.render(),n.mount(r).then())}},{key:"handleSend",value:function(){var e,t,n,r,o,i,a,l,u,c,s=null!==(e=null===(t=this.toInput)||void 0===t?void 0:t.value)&&void 0!==e?e:"",f=null!==(n=null===(r=this.subjectInput)||void 0===r?void 0:r.value)&&void 0!==n?n:"",p=null!==(o=null===(i=this.bodyTextarea)||void 0===i?void 0:i.value)&&void 0!==o?o:"",d=(u=s.trim())?E.test(u)&&T.test(u)?null:"Некорректный email":"Укажите email получателя";this.setRecipientError(d),d?null===(c=this.toInput)||void 0===c||c.focus():null===(a=(l=this.props).onSend)||void 0===a||a.call(l,{to:s,subject:f,body:p})}},{key:"applyInitialValues",value:function(){var e,t,n;this.toInput&&(this.toInput.value=null!==(e=this.props.initialTo)&&void 0!==e?e:""),this.setRecipientError(null),this.subjectInput&&(this.subjectInput.value=null!==(t=this.props.initialSubject)&&void 0!==t?t:""),this.bodyTextarea&&(this.bodyTextarea.value=null!==(n=this.props.initialBody)&&void 0!==n?n:"")}},{key:"focusInitialField",value:function(){var e,t,n=null!==(e=this.props.focusField)&&void 0!==e?e:"to";if(null===(t="subject"===n?this.subjectInput:"body"===n?this.bodyTextarea:this.toInput)||void 0===t||t.focus(),"body"===n&&this.bodyTextarea){var r=this.bodyTextarea.value.length;this.bodyTextarea.setSelectionRange(r,r)}}},{key:"handleAttach",value:function(){var e,t;null===(e=(t=this.props).onAttachFile)||void 0===e||e.call(t)}},{key:"handleSaveDraft",value:function(){var e,t;null===(e=(t=this.props).onSaveDraft)||void 0===e||e.call(t)}},{key:"setRecipientError",value:function(e){this.toErrorEl&&(e?(this.toErrorEl.textContent=e,this.toErrorEl.classList.add("compose-modal__error--visible")):(this.toErrorEl.textContent="",this.toErrorEl.classList.remove("compose-modal__error--visible")))}},{key:"unmount",value:(o=Ga().m(function e(){return Ga().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.attachButton.unmount();case 1:return e.n=2,this.draftButton.unmount();case 2:return e.n=3,this.sendButton.unmount();case 3:return this.toInput=null,this.toErrorEl=null,this.subjectInput=null,this.bodyTextarea=null,e.n=4,za(t,"unmount",this,3)([]);case 4:return e.a(2)}},e,this)}),i=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=o.apply(e,t);function a(e){La(i,n,r,a,l,"next",e)}function l(e){La(i,n,r,a,l,"throw",e)}a(void 0)})},function(){return i.apply(this,arguments)})}],r&&Ya(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i}(Se),Za=n(139),Xa=n.n(Za),el=n(5240),tl={};function nl(e){return nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(e)}function rl(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=cl(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function ol(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return il(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(il(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,il(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,il(f,"constructor",c),il(c,"constructor",u),u.displayName="GeneratorFunction",il(c,o,"GeneratorFunction"),il(f),il(f,o,"Generator"),il(f,r,function(){return this}),il(f,"toString",function(){return"[object Generator]"}),(ol=function(){return{w:i,m:p}})()}function il(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}il=function(e,t,n,r){function i(t,n){il(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},il(e,t,n,r)}function al(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function ll(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){al(i,r,o,a,l,"next",e)}function l(e){al(i,r,o,a,l,"throw",e)}a(void 0)})}}function ul(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||cl(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cl(e,t){if(e){if("string"==typeof e)return sl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sl(e,t):void 0}}function sl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function fl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vl(r.key),r)}}function pl(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(pl=function(){return!!e})()}function dl(e,t,n,r){var o=Al(hl(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function Al(){return Al="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=hl(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Al.apply(null,arguments)}function hl(e){return hl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hl(e)}function ml(e,t){return ml=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ml(e,t)}function yl(e,t,n){return(t=vl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vl(e){var t=function(e){if("object"!=nl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=nl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==nl(t)?t:t+""}tl.styleTagTransform=ot(),tl.setAttributes=et(),tl.insert=Ze().bind(null,"head"),tl.domAPI=Ke(),tl.insertStyleElement=nt(),Qe()(el.A,tl),el.A&&el.A.locals&&el.A.locals;var bl=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return yl(e=function(e,t,n){return t=hl(t),function(e,t){if(t&&("object"==nl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,pl()?Reflect.construct(t,n||[],hl(e).constructor):t.apply(e,n))}(this,t,[].concat(r)),"slots",new Map),yl(e,"slotComponents",new Map),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ml(e,t)}(t,e),n=t,r=[{key:"render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.renderTemplate();return this.element=this.createElement(n),this.slots.clear(),this.slotComponents.clear(),this.element.querySelectorAll("[data-slot]").forEach(function(t){var n=t,r=n.getAttribute("data-slot");r&&e.slots.set(r,n)}),Object.entries(t).forEach(function(t){var n=ul(t,2),r=n[0],o=n[1],i=e.slots.get(r);if(i)if(o instanceof Se){var a=o.render();i.appendChild(a),o.mount(i).then(),e.slotComponents.set(r,o)}else i.appendChild(o),e.slotComponents.delete(r)}),this.element}},{key:"updateSlot",value:(a=ll(ol().m(function e(t,n){var r,o,i,a;return ol().w(function(e){for(;;)switch(e.n){case 0:if(!(o=null!==(r=this.slots.get(t))&&void 0!==r?r:null)&&this.element&&(o=this.element.querySelector('[data-slot="'.concat(t,'"]')))&&this.slots.set(t,o),o){e.n=1;break}return console.warn("Slot ".concat(t," not found")),e.a(2);case 1:if(!(i=this.slotComponents.get(t))){e.n=3;break}return e.n=2,i.unmount();case 2:this.slotComponents.delete(t);case 3:if(o.innerHTML="",!(n instanceof Se)){e.n=5;break}return a=n.render(),o.appendChild(a),e.n=4,n.mount(o);case 4:this.slotComponents.set(t,n),e.n=6;break;case 5:o.appendChild(n);case 6:return e.a(2)}},e,this)})),function(e,t){return a.apply(this,arguments)})},{key:"fillSlots",value:(i=ll(ol().m(function e(t){var n,r,o,i,a;return ol().w(function(e){for(;;)switch(e.n){case 0:n=0,r=Object.entries(t);case 1:if(!(n<r.length)){e.n=3;break}return o=ul(r[n],2),i=o[0],a=o[1],e.n=2,this.updateSlot(i,a);case 2:n++,e.n=1;break;case 3:return e.a(2)}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"unmount",value:(o=ll(ol().m(function e(){var n,r,o,i,a;return ol().w(function(e){for(;;)switch(e.p=e.n){case 0:n=rl(this.slotComponents),e.p=1,n.s();case 2:if((r=n.n()).done){e.n=4;break}return o=ul(r.value,2),i=o[1],e.n=3,i.unmount();case 3:e.n=2;break;case 4:e.n=6;break;case 5:e.p=5,a=e.v,n.e(a);case 6:return e.p=6,n.f(),e.f(6);case 7:return this.slotComponents.clear(),e.n=8,dl(t,"unmount",this,3)([]);case 8:this.slots.clear();case 9:return e.a(2)}},e,this,[[1,5,6,7]])})),function(){return o.apply(this,arguments)})}],r&&fl(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i,a}(Se);function gl(e){return gl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(e)}function Cl(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return wl(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(wl(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,wl(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,wl(f,"constructor",c),wl(c,"constructor",u),u.displayName="GeneratorFunction",wl(c,o,"GeneratorFunction"),wl(f),wl(f,o,"Generator"),wl(f,r,function(){return this}),wl(f,"toString",function(){return"[object Generator]"}),(Cl=function(){return{w:i,m:p}})()}function wl(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}wl=function(e,t,n,r){function i(t,n){wl(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},wl(e,t,n,r)}function _l(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function xl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,El(r.key),r)}}function Ol(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ol=function(){return!!e})()}function jl(e,t,n,r){var o=Bl(kl(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function Bl(){return Bl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=kl(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Bl.apply(null,arguments)}function kl(e){return kl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kl(e)}function Pl(e,t){return Pl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pl(e,t)}function Sl(e,t,n){return(t=El(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function El(e){var t=function(e){if("object"!=gl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=gl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==gl(t)?t:t+""}var Tl=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Sl(e=function(e,t,n){return t=kl(t),function(e,t){if(t&&("object"==gl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ol()?Reflect.construct(t,n||[],kl(e).constructor):t.apply(e,n))}(this,t,[].concat(r)),"mainElement",null),Sl(e,"sidebarElement",null),Sl(e,"contentBackgroundEnabled",!0),Sl(e,"sidebarWidth",null),Sl(e,"loadingElement",null),Sl(e,"isLoading",!1),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pl(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){return Xa()({})}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=jl(t,"render",this,3)([e]);return this.mainElement=n.querySelector(".main-layout__main"),this.sidebarElement=n.querySelector(".main-layout__sidebar"),this.loadingElement=n.querySelector(".main-layout__loading"),this.applyMainBackground(),this.applySidebarWidth(),this.applyLoadingState(),this.updateModalState(),this.triggerTransition(),n}},{key:"updateSlot",value:(o=Cl().m(function e(n,r){return Cl().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,jl(t,"updateSlot",this,3)([n,r]);case 1:"modal"===n&&this.updateModalState(),"main"===n&&this.triggerTransition();case 2:return e.a(2)}},e,this)}),i=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=o.apply(e,t);function a(e){_l(i,n,r,a,l,"next",e)}function l(e){_l(i,n,r,a,l,"throw",e)}a(void 0)})},function(e,t){return i.apply(this,arguments)})},{key:"setContentBackground",value:function(e){this.contentBackgroundEnabled=e,this.applyMainBackground()}},{key:"setSidebarWidth",value:function(e){this.sidebarWidth=e,this.applySidebarWidth()}},{key:"setLoading",value:function(e){this.isLoading=e,this.applyLoadingState()}},{key:"triggerTransition",value:function(){this.mainElement&&(this.mainElement.classList.remove("main-layout__main--transition"),this.mainElement.offsetWidth,this.mainElement.classList.add("main-layout__main--transition"))}},{key:"applyMainBackground",value:function(){this.mainElement&&this.mainElement.classList.toggle("main-layout__main--no-bg",!this.contentBackgroundEnabled)}},{key:"applySidebarWidth",value:function(){this.sidebarElement&&(this.sidebarWidth?this.sidebarElement.style.setProperty("--main-layout-sidebar-width",this.sidebarWidth):this.sidebarElement.style.removeProperty("--main-layout-sidebar-width"))}},{key:"applyLoadingState",value:function(){this.loadingElement&&this.loadingElement.classList.toggle("main-layout__loading--active",this.isLoading)}},{key:"updateModalState",value:function(){var e,t=null===(e=this.getElement())||void 0===e?void 0:e.querySelector(".main-layout__modal-root");if(t){var n=Array.from(t.children).some(function(e){var t,n,r=e;return r.childElementCount>0||(null!==(t=null===(n=r.textContent)||void 0===n?void 0:n.trim())&&void 0!==t?t:"").length>0});n||(t.innerHTML=""),t.classList.toggle("main-layout__modal-root--active",n)}}}],r&&xl(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i}(bl),Fl=n(1258),Rl={};Rl.styleTagTransform=ot(),Rl.setAttributes=et(),Rl.insert=Ze().bind(null,"head"),Rl.domAPI=Ke(),Rl.insertStyleElement=nt(),Qe()(Fl.A,Rl),Fl.A&&Fl.A.locals&&Fl.A.locals;var Il=n(3957),Ml=n.n(Il);function Ul(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return Nl(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Nl(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Nl(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,Nl(f,"constructor",c),Nl(c,"constructor",u),u.displayName="GeneratorFunction",Nl(c,o,"GeneratorFunction"),Nl(f),Nl(f,o,"Generator"),Nl(f,r,function(){return this}),Nl(f,"toString",function(){return"[object Generator]"}),(Ul=function(){return{w:i,m:p}})()}function Nl(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Nl=function(e,t,n,r){function i(t,n){Nl(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Nl(e,t,n,r)}function Dl(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function Gl(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Dl(i,r,o,a,l,"next",e)}function l(e){Dl(i,r,o,a,l,"throw",e)}a(void 0)})}}var ql=function(e){return"/messages/".concat(e)};function Ll(){return Yl.apply(this,arguments)}function Yl(){return(Yl=Gl(Ul().m(function e(){var t;return Ul().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,A.request("/messages/inbox");case 1:return t=e.v,e.a(2,{total:t.body.message_total,unread:t.body.message_unread,items:t.body.messages.map(Kl),pagination:t.body.pagination})}},e)}))).apply(this,arguments)}function Wl(e){return zl.apply(this,arguments)}function zl(){return(zl=Gl(Ul().m(function e(t){var n;return Ul().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,A.request(ql(t));case 1:return n=e.v,e.a(2,Jl(t,n.body))}},e)}))).apply(this,arguments)}function Vl(e){return Hl.apply(this,arguments)}function Hl(){return(Hl=Gl(Ul().m(function e(t){var n,r;return Ul().w(function(e){for(;;)switch(e.n){case 0:if(n=t.to.trim()){e.n=1;break}throw new Error("Recipient email is required");case 1:return r={topic:t.subject.trim(),text:t.body,receivers:[{email:n}],files:[]},e.n=2,A.request("/messages/send",{method:"POST",body:r});case 2:return e.a(2)}},e)}))).apply(this,arguments)}function Ql(e){return $l.apply(this,arguments)}function $l(){return($l=Gl(Ul().m(function e(t){var n,r;return Ul().w(function(e){for(;;)switch(e.n){case 0:if(n=t.to.trim()){e.n=1;break}throw new Error("Recipient email is required");case 1:return r={root_message_id:t.rootMessageId,topic:t.subject.trim(),text:t.body,thread_root:t.threadRoot,receivers:[{email:n}],files:[]},e.n=2,A.request("/messages/reply",{method:"POST",body:r});case 2:return e.a(2)}},e)}))).apply(this,arguments)}function Kl(e){var t;return{id:e.id,from:e.sender.username||e.sender.email,subject:e.topic,preview:e.snippet,time:g(e.datetime),avatarUrl:null!==(t=e.sender.avatar)&&void 0!==t?t:null,isRead:e.is_read}}function Jl(e,t){var n,r,o,i,a,l,u,c,s,f,p=null!==(n=null!==(r=null===(o=t.sender)||void 0===o?void 0:o.email)&&void 0!==r?r:t.email)&&void 0!==n?n:"",d=null!==(i=null!==(a=null===(l=t.sender)||void 0===l?void 0:l.username)&&void 0!==a?a:t.username)&&void 0!==i?i:"";return{id:e,from:d.trim().length>0?d.trim():p.trim()||"Неизвестный отправитель",fromEmail:p.trim()||void 0,subject:t.topic,preview:t.text.slice(0,120),time:g(t.datetime),avatarUrl:null!==(u=null!==(c=null===(s=t.sender)||void 0===s?void 0:s.avatar)&&void 0!==c?c:t.avatar)&&void 0!==u?u:null,isRead:!0,body:t.text.replace(/\n/g,"<br>"),threadId:t.thread_id,attachments:Zl(null!==(f=t.files)&&void 0!==f?f:t.Files)}}function Zl(e){if(null!=e&&e.length)return e.map(function(e){var t;return{name:e.name,fileType:e.file_type,size:e.size,storagePath:null!==(t=e.storage_path)&&void 0!==t?t:null}})}function Xl(e){return Xl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xl(e)}function eu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function tu(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return nu(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(nu(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,nu(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,nu(f,"constructor",c),nu(c,"constructor",u),u.displayName="GeneratorFunction",nu(c,o,"GeneratorFunction"),nu(f),nu(f,o,"Generator"),nu(f,r,function(){return this}),nu(f,"toString",function(){return"[object Generator]"}),(tu=function(){return{w:i,m:p}})()}function nu(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}nu=function(e,t,n,r){function i(t,n){nu(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},nu(e,t,n,r)}function ru(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ou(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ru(Object(n),!0).forEach(function(t){uu(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ru(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function iu(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function au(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){iu(i,r,o,a,l,"next",e)}function l(e){iu(i,r,o,a,l,"throw",e)}a(void 0)})}}function lu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cu(r.key),r)}}function uu(e,t,n){return(t=cu(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cu(e){var t=function(e){if("object"!=Xl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Xl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Xl(t)?t:t+""}var su={mails:[],selectedMailId:void 0,selectedMail:null,total:0,unread:0,loadingList:!1,loadingSelection:!1,mutating:!1,error:null},fu=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),uu(this,"state",su),uu(this,"subscribers",new Set)},t=[{key:"subscribe",value:function(e){var t=this;return this.subscribers.add(e),e(this.state),function(){t.subscribers.delete(e)}}},{key:"getState",value:function(){return this.state}},{key:"loadList",value:(l=au(tu().m(function e(){var t,n;return tu().w(function(e){for(;;)switch(e.p=e.n){case 0:return this.setState(function(e){return ou(ou({},e),{},{loadingList:!0,error:null})}),e.p=1,e.n=2,Ll();case 2:t=e.v,this.setState(function(e){var n=e.selectedMailId,r=n?t.items.find(function(e){return e.id===n}):void 0,o=r&&e.selectedMail?ou(ou({},e.selectedMail),{},{subject:r.subject,time:r.time,from:r.from,avatarUrl:r.avatarUrl}):r?e.selectedMail:null;return ou(ou({},e),{},{mails:t.items,total:t.total,unread:t.unread,loadingList:!1,selectedMailId:r?e.selectedMailId:void 0,selectedMail:r?o:null})}),e.n=4;break;case 3:throw e.p=3,n=e.v,this.setState(function(e){return ou(ou({},e),{},{loadingList:!1,error:pu(n)})}),n;case 4:return e.a(2)}},e,this,[[1,3]])})),function(){return l.apply(this,arguments)})},{key:"openMail",value:(a=au(tu().m(function e(t){var n,r;return tu().w(function(e){for(;;)switch(e.p=e.n){case 0:return this.setState(function(e){return ou(ou({},e),{},{selectedMailId:t,loadingSelection:!0,error:null})}),e.p=1,e.n=2,Wl(t);case 2:return n=e.v,this.setState(function(e){if(e.selectedMailId!==t)return e;var r=e.mails.some(function(e){return e.id===t&&!e.isRead}),o=e.mails.map(function(e){return e.id===t?ou(ou({},e),{},{isRead:!0}):e});return ou(ou({},e),{},{selectedMail:n,loadingSelection:!1,mails:o,unread:r?Math.max(0,e.unread-1):e.unread})}),e.a(2,n);case 3:throw e.p=3,r=e.v,this.setState(function(e){return e.selectedMailId!==t?e:ou(ou({},e),{},{loadingSelection:!1,error:pu(r)})}),r;case 4:return e.a(2)}},e,this,[[1,3]])})),function(e){return a.apply(this,arguments)})},{key:"clearSelection",value:function(){this.setState(function(e){return ou(ou({},e),{},{selectedMailId:void 0,selectedMail:null})})}},{key:"sendMail",value:(i=au(tu().m(function e(t){var n=this;return tu().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.runMutation(au(tu().m(function e(){return tu().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Vl(t);case 1:return e.n=2,n.loadList();case 2:return e.a(2)}},e)})));case 1:return e.a(2)}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"replyToMail",value:(o=au(tu().m(function e(t){var n=this;return tu().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.runMutation(au(tu().m(function e(){return tu().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Ql(t);case 1:return e.n=2,n.loadList();case 2:return e.a(2)}},e)})));case 1:return e.a(2)}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"refreshSelectedMail",value:(r=au(tu().m(function e(){var t;return tu().w(function(e){for(;;)switch(e.n){case 0:if(t=this.state.selectedMailId){e.n=1;break}return e.a(2);case 1:return e.n=2,this.openMail(t);case 2:return e.a(2)}},e,this)})),function(){return r.apply(this,arguments)})},{key:"runMutation",value:(n=au(tu().m(function e(t){var n;return tu().w(function(e){for(;;)switch(e.p=e.n){case 0:return this.setState(function(e){return ou(ou({},e),{},{mutating:!0,error:null})}),e.p=1,e.n=2,t();case 2:e.n=4;break;case 3:throw e.p=3,n=e.v,this.setState(function(e){return ou(ou({},e),{},{error:pu(n)})}),n;case 4:return e.p=4,this.setState(function(e){return ou(ou({},e),{},{mutating:!1})}),e.f(4);case 5:return e.a(2)}},e,this,[[1,3,4,5]])})),function(e){return n.apply(this,arguments)})},{key:"setState",value:function(e){this.state=e(this.state),this.notify()}},{key:"notify",value:function(){var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return eu(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eu(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(this.subscribers);try{for(t.s();!(e=t.n()).done;)(0,e.value)(this.state)}catch(e){t.e(e)}finally{t.f()}}}],t&&lu(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r,o,i,a,l}();function pu(e){return e instanceof Error&&e.message?e.message:"string"==typeof e?e:"Unexpected error"}function du(e,t){var n=(null!=e?e:"").trim();return n?n.toLowerCase().startsWith(t.toLowerCase())?n:"".concat(t," ").concat(n):t}function Au(e){var t=e.fromEmail?"".concat(e.from," <").concat(e.fromEmail,">"):e.from,n=["---------- Пересылаемое сообщение ---------","От кого: ".concat(t)];e.time&&n.push("Время: ".concat(e.time)),e.subject&&n.push("Тема: ".concat(e.subject));var r=hu(e.body),o="\n\n".concat(n.join("\n"),"\n\n");return r&&(o+=r),o}function hu(e){var t,n=document.createElement("div");n.innerHTML=e;for(var r=0,o=Array.from(n.querySelectorAll("br"));r<o.length;r++)o[r].replaceWith("\n");return(null!==(t=n.textContent)&&void 0!==t?t:"").split("\r").join("").split(" ").join(" ").trimEnd()}function mu(e){return mu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(e)}function yu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bu(r.key),r)}}function vu(e,t,n){return(t=bu(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bu(e){var t=function(e){if("object"!=mu(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=mu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==mu(t)?t:t+""}var gu=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),vu(this,"counter",0),vu(this,"manualOverride",!1),this.layoutGetter=t},(t=[{key:"begin",value:function(){this.counter+=1,this.apply()}},{key:"end",value:function(){0!==this.counter&&(this.counter-=1,this.apply())}},{key:"setBusy",value:function(e){this.manualOverride=e,this.apply()}},{key:"reset",value:function(){this.counter=0,this.manualOverride=!1,this.apply()}},{key:"apply",value:function(){var e,t=function(e){return e&&"function"==typeof e.setLoading?e:null}(this.layoutGetter());if(t){var n=this.manualOverride||this.counter>0;null===(e=t.setLoading)||void 0===e||e.call(t,n)}}}])&&yu(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Cu(e){return Cu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cu(e)}function wu(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return _u(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(_u(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,_u(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,_u(f,"constructor",c),_u(c,"constructor",u),u.displayName="GeneratorFunction",_u(c,o,"GeneratorFunction"),_u(f),_u(f,o,"Generator"),_u(f,r,function(){return this}),_u(f,"toString",function(){return"[object Generator]"}),(wu=function(){return{w:i,m:p}})()}function _u(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}_u=function(e,t,n,r){function i(t,n){_u(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},_u(e,t,n,r)}function xu(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function Ou(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){xu(i,r,o,a,l,"next",e)}function l(e){xu(i,r,o,a,l,"throw",e)}a(void 0)})}}function ju(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fu(r.key),r)}}function Bu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Bu=function(){return!!e})()}function ku(e,t,n,r){var o=Pu(Su(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function Pu(){return Pu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Su(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Pu.apply(null,arguments)}function Su(e){return Su=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Su(e)}function Eu(e,t){return Eu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Eu(e,t)}function Tu(e,t,n){return(t=Fu(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fu(e){var t=function(e){if("object"!=Cu(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Cu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Cu(t)?t:t+""}var Ru=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Tu(e=function(e,t,n){return t=Su(t),function(e,t){if(t&&("object"==Cu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Bu()?Reflect.construct(t,n||[],Su(e).constructor):t.apply(e,n))}(this,t),"store",new fu),Tu(e,"loadingManager",new gu(function(){return e.layout})),Tu(e,"mailView",null),Tu(e,"composeModal",null),Tu(e,"showingList",!0),Tu(e,"lastRenderedMail",null),Tu(e,"lastErrorMessage",null),e.initialMessageId=n.messageId,e.header=new Do({onSearch:function(e){return console.log("search",e)},onLogout:function(){return e.handleLogout()}}),e.sidebar=new Pi({onCompose:function(){return e.openCompose()},onFolderSelect:function(e){return console.log("folder",e)}}),e.mailList=new Aa({items:[],onOpen:function(t){return e.handleOpenMail(t)},emptyMessage:"Пока писем нет."}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Eu(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){return Ml().toString()}},{key:"getSlotContent",value:function(){return{header:this.header,sidebar:this.sidebar,main:this.mailList}}},{key:"init",value:(s=Ou(wu().m(function e(){var t,n=this;return wu().w(function(e){for(;;)switch(e.p=e.n){case 0:return this.layout instanceof Tl&&(this.layout.setContentBackground(!0),this.layout.setSidebarWidth(null)),this.unsubscribeFromStore=this.store.subscribe(function(e){return n.applyState(e)}),e.p=1,e.n=2,this.store.loadList();case 2:if(!this.initialMessageId){e.n=3;break}return e.n=3,this.store.openMail(this.initialMessageId);case 3:e.n=5;break;case 4:e.p=4,t=e.v,console.error("Failed to initialise inbox",t);case 5:return e.a(2)}},e,this,[[1,4]])})),function(){return s.apply(this,arguments)})},{key:"update",value:(c=Ou(wu().m(function e(t){var n,r,o,i,a;return wu().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n=t.messageId,r=this.store.getState(),o=r.selectedMailId,i=r.selectedMail,!n){e.n=5;break}if(o===n&&i){e.n=4;break}return e.p=1,e.n=2,this.store.openMail(n);case 2:e.n=4;break;case 3:e.p=3,a=e.v,console.error("Failed to open message",a);case 4:return e.a(2);case 5:o&&this.store.clearSelection();case 6:return e.a(2)}},e,this,[[1,3]])})),function(e){return c.apply(this,arguments)})},{key:"unmount",value:(u=Ou(wu().m(function e(){var n;return wu().w(function(e){for(;;)switch(e.n){case 0:return null===(n=this.unsubscribeFromStore)||void 0===n||n.call(this),this.unsubscribeFromStore=void 0,this.loadingManager.reset(),this.composeModal=null,this.lastRenderedMail=null,this.showingList=!0,this.lastErrorMessage=null,e.n=1,ku(t,"unmount",this,3)([]);case 1:return e.a(2)}},e,this)})),function(){return u.apply(this,arguments)})},{key:"applyState",value:function(e){var t=e.loadingList||e.loadingSelection||e.mutating;this.loadingManager.setBusy(t),e.error&&e.error!==this.lastErrorMessage?(this.lastErrorMessage=e.error,console.error(e.error)):e.error||(this.lastErrorMessage=null),this.mailList.setProps({items:e.mails}),e.selectedMail&&e.selectedMailId?(this.showingList||this.lastRenderedMail!==e.selectedMail)&&this.renderMailView(e.selectedMail):this.showingList||e.loadingSelection||(this.showingList=!0,this.mailView=null,this.lastRenderedMail=null,this.updateSlot("main",this.mailList).then())}},{key:"renderMailView",value:function(e){this.mailView=this.createMailView(e),this.lastRenderedMail=e,this.showingList=!1,this.updateSlot("main",this.mailView).then()}},{key:"createMailView",value:function(e){var t,n,r=this;return new Ra({id:e.id,from:e.from,subject:e.subject,time:e.time,body:e.body,avatarUrl:null!==(t=e.avatarUrl)&&void 0!==t?t:null,fromEmail:null!==(n=e.fromEmail)&&void 0!==n?n:e.from,onBack:function(){return r.handleBackToList()},onReply:function(){return r.handleReply(e)},onForward:function(){return r.handleForward(e)}})}},{key:"handleOpenMail",value:function(e){(this.store.getState().selectedMailId!==e||this.showingList)&&this.router.navigate("/inbox/".concat(e)).then()}},{key:"handleBackToList",value:function(){this.store.clearSelection(),this.router.navigate("/inbox").then()}},{key:"handleReply",value:function(e){var t=this,n=function(e){var t,n=(null!==(t=e.fromEmail)&&void 0!==t?t:"").trim(),r=du(e.subject,"Re:"),o=function(e){var t=function(e){if(!e)return[];for(var t=[],n="",r=0;r<e.length;r+=1){var o=e[r];"\n"!==o?"\r"!==o?n+=o:(t.push(n),n="","\n"===e[r+1]&&(r+=1)):(t.push(n),n="")}return t.push(n),t}(hu(e.body)).map(function(e){return e.length>0?"> ".concat(e):">"}).join("\n"),n=e.fromEmail?"".concat(e.from," <").concat(e.fromEmail,">"):e.from,r=["","",e.time?"On ".concat(e.time,", ").concat(n," wrote:"):"".concat(n," wrote:")];return t.length>0&&r.push(t),r.join("\n")}(e);return{initialTo:n,initialSubject:r,initialBody:o,focusField:n?"body":"to"}}(e);this.openCompose(n,function(n){return t.handleReplySubmit(e,n)})}},{key:"handleForward",value:function(e){var t=this,n=function(e){return{initialSubject:du(e.subject,"Fwd:"),initialBody:Au(e),focusField:"to"}}(e);this.openCompose(n,function(e){return t.handleForwardSubmit(e)})}},{key:"openCompose",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=new Ja({initialTo:t.initialTo,initialSubject:t.initialSubject,initialBody:t.initialBody,focusField:t.focusField,onClose:function(){return e.closeCompose()},onSend:function(t){var r=null!=n?n:function(t){return e.handleSendMail(t)};e.handleComposeSubmit(r,t)}});this.composeModal=r,this.updateSlot("modal",r).then()}},{key:"closeCompose",value:function(){this.composeModal=null;var e=document.createElement("div");this.updateSlot("modal",e).then()}},{key:"handleComposeSubmit",value:function(e,t){var n=this;e(t).then(function(){return n.closeCompose()}).catch(function(e){console.error("Failed to send message",e)})}},{key:"handleSendMail",value:(l=Ou(wu().m(function e(t){var n,r,o;return wu().w(function(e){for(;;)switch(e.n){case 0:if(o=t.to.trim()){e.n=1;break}return console.warn("Recipient email is required"),e.a(2);case 1:return e.n=2,this.store.sendMail({to:o,subject:null!==(n=t.subject)&&void 0!==n?n:"",body:null!==(r=t.body)&&void 0!==r?r:""});case 2:this.store.clearSelection(),this.router.navigate("/inbox").then();case 3:return e.a(2)}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"handleReplySubmit",value:(a=Ou(wu().m(function e(t,n){var r,o,i,a,l,u;return wu().w(function(e){for(;;)switch(e.n){case 0:if(a=n.to.trim()){e.n=1;break}return console.warn("Recipient email is required"),e.a(2);case 1:if(null!==(l=this.parseNumericId(t.id))){e.n=2;break}return console.error("Unable to determine message id for reply"),e.a(2);case 2:return u=null!==(r=this.parseNumericId(t.threadId))&&void 0!==r?r:l,e.n=3,this.store.replyToMail({to:a,subject:null!==(o=n.subject)&&void 0!==o?o:"",body:null!==(i=n.body)&&void 0!==i?i:"",rootMessageId:l,threadRoot:u});case 3:return e.n=4,this.store.refreshSelectedMail();case 4:return e.a(2)}},e,this)})),function(e,t){return a.apply(this,arguments)})},{key:"handleForwardSubmit",value:(i=Ou(wu().m(function e(t){var n,r,o;return wu().w(function(e){for(;;)switch(e.n){case 0:if(o=t.to.trim()){e.n=1;break}return console.warn("Recipient email is required"),e.a(2);case 1:return e.n=2,this.store.sendMail({to:o,subject:null!==(n=t.subject)&&void 0!==n?n:"",body:null!==(r=t.body)&&void 0!==r?r:""});case 2:return e.n=3,this.store.refreshSelectedMail();case 3:return e.a(2)}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"handleLogout",value:(o=Ou(wu().m(function e(){var t;return wu().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,$t();case 1:e.n=3;break;case 2:e.p=2,t=e.v,console.error("Failed to logout",t);case 3:return e.p=3,le.setAuthenticated(!1),this.router.navigate("/auth").then(),e.f(3);case 4:return e.a(2)}},e,this,[[0,2,3,4]])})),function(){return o.apply(this,arguments)})},{key:"parseNumericId",value:function(e){if(!e)return null;var t=Number(e);return Number.isFinite(t)?t:null}}],r&&ju(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i,a,l,u,c,s}(We),Iu=n(2602),Mu=n.n(Iu),Uu=n(1255),Nu={};Nu.styleTagTransform=ot(),Nu.setAttributes=et(),Nu.insert=Ze().bind(null,"head"),Nu.domAPI=Ke(),Nu.insertStyleElement=nt(),Qe()(Uu.A,Nu),Uu.A&&Uu.A.locals&&Uu.A.locals;var Du=n(2511),Gu=n.n(Du),qu=n(3956),Lu={};function Yu(e){return Yu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(e)}function Wu(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return zu(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(zu(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,zu(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,zu(f,"constructor",c),zu(c,"constructor",u),u.displayName="GeneratorFunction",zu(c,o,"GeneratorFunction"),zu(f),zu(f,o,"Generator"),zu(f,r,function(){return this}),zu(f,"toString",function(){return"[object Generator]"}),(Wu=function(){return{w:i,m:p}})()}function zu(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}zu=function(e,t,n,r){function i(t,n){zu(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},zu(e,t,n,r)}function Vu(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function Hu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Qu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hu(Object(n),!0).forEach(function(t){tc(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nc(r.key),r)}}function Ku(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ku=function(){return!!e})()}function Ju(e,t,n,r){var o=Zu(Xu(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function Zu(){return Zu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Xu(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Zu.apply(null,arguments)}function Xu(e){return Xu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xu(e)}function ec(e,t){return ec=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ec(e,t)}function tc(e,t,n){return(t=nc(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nc(e){var t=function(e){if("object"!=Yu(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Yu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Yu(t)?t:t+""}Lu.styleTagTransform=ot(),Lu.setAttributes=et(),Lu.insert=Ze().bind(null,"head"),Lu.domAPI=Ke(),Lu.insertStyleElement=nt(),Qe()(qu.A,Lu),qu.A&&qu.A.locals&&qu.A.locals;var rc=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tc(e=function(e,t,n){return t=Xu(t),function(e,t){if(t&&("object"==Yu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ku()?Reflect.construct(t,n||[],Xu(e).constructor):t.apply(e,n))}(this,t,[].concat(r)),"handleClick",function(){var t,n;null===(t=(n=e.props).onSelect)||void 0===t||t.call(n,e.props.id)}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ec(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){return Gu()({id:this.props.id,label:this.props.label,active:this.props.active})}},{key:"afterRender",value:function(){this.element&&(this.element.addEventListener("click",this.handleClick),this.applyIcon())}},{key:"setProps",value:function(e){if(this.props=Qu(Qu({},this.props),e),this.element){this.element.classList.toggle("profile-sidebar-tab--active",!!this.props.active);var t=this.element.querySelector(".profile-sidebar-tab__label");t&&(t.textContent=this.props.label),this.applyIcon()}}},{key:"unmount",value:(o=Wu().m(function e(){var n;return Wu().w(function(e){for(;;)switch(e.n){case 0:return null===(n=this.element)||void 0===n||n.removeEventListener("click",this.handleClick),e.n=1,Ju(t,"unmount",this,3)([]);case 1:return e.a(2)}},e,this)}),i=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=o.apply(e,t);function a(e){Vu(i,n,r,a,l,"next",e)}function l(e){Vu(i,n,r,a,l,"throw",e)}a(void 0)})},function(){return i.apply(this,arguments)})},{key:"applyIcon",value:function(){if(this.element){var e=this.element.querySelector("[data-icon]");e&&(e.style.backgroundImage="url(".concat(this.props.icon,")"))}}}],r&&$u(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i}(Se);function oc(e){return oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(e)}function ic(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return ac(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(ac(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,ac(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,ac(f,"constructor",c),ac(c,"constructor",u),u.displayName="GeneratorFunction",ac(c,o,"GeneratorFunction"),ac(f),ac(f,o,"Generator"),ac(f,r,function(){return this}),ac(f,"toString",function(){return"[object Generator]"}),(ic=function(){return{w:i,m:p}})()}function ac(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}ac=function(e,t,n,r){function i(t,n){ac(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},ac(e,t,n,r)}function lc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||cc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uc(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=cc(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function cc(e,t){if(e){if("string"==typeof e)return sc(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sc(e,t):void 0}}function sc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function fc(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function pc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function dc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pc(Object(n),!0).forEach(function(t){gc(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ac(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cc(r.key),r)}}function hc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(hc=function(){return!!e})()}function mc(e,t,n,r){var o=yc(vc(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function yc(){return yc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=vc(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},yc.apply(null,arguments)}function vc(e){return vc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vc(e)}function bc(e,t){return bc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bc(e,t)}function gc(e,t,n){return(t=Cc(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cc(e){var t=function(e){if("object"!=oc(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=oc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==oc(t)?t:t+""}var wc=[{id:"personal",label:"Личные данные",icon:"/img/profile-sidebar-personal-logo.svg"},{id:"interface",label:"Интерфейс",icon:"/img/profile-sidebar-interface-logo.svg"}],_c=function(e){function t(e){var n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),gc(r=function(e,t,n){return t=vc(t),function(e,t){if(t&&("object"==oc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,hc()?Reflect.construct(t,n||[],vc(e).constructor):t.apply(e,n))}(this,t,[dc(dc({},e),{},{activeTab:null!==(n=e.activeTab)&&void 0!==n?n:"personal"})]),"tabs",new Map),r.backButton=new Rt({label:"К письмам",variant:"link",icon:'<img src="/img/arrow-left.svg" alt="" aria-hidden="true" />',onClick:function(){var e,t;return null===(e=(t=r.props).onNavigateInbox)||void 0===e?void 0:e.call(t)}}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bc(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){var e;return Mu()({name:this.props.name,email:this.props.email,avatarUrl:null!==(e=this.props.avatarUrl)&&void 0!==e?e:null,initials:lo(this.props.name,"--")})}},{key:"afterRender",value:function(){var e,t,n=this,r=null===(e=this.element)||void 0===e?void 0:e.querySelector('[data-slot="tabs"]');r&&(r.innerHTML="",wc.forEach(function(e){var t=new rc({id:e.id,label:e.label,icon:e.icon,active:n.props.activeTab===e.id,onSelect:function(e){return n.handleTabSelect(e)}});t.render(),t.mount(r).then(),n.tabs.set(e.id,t)}));var o=null===(t=this.element)||void 0===t?void 0:t.querySelector('[data-slot="back"]');o&&(this.backButton.render(),this.backButton.mount(o).then()),this.updateAvatar()}},{key:"setProps",value:function(e){var t,n,r;this.props=dc(dc({},this.props),e);var o=null===(t=this.element)||void 0===t?void 0:t.querySelector(".profile-sidebar__name");o&&(o.textContent=this.props.name);var i=null===(n=this.element)||void 0===n?void 0:n.querySelector(".profile-sidebar__email");i&&(i.textContent=this.props.email),this.updateAvatar();var a=null!==(r=this.props.activeTab)&&void 0!==r?r:"personal";this.tabs.forEach(function(e,t){e.setProps({active:t===a})})}},{key:"unmount",value:(o=ic().m(function e(){var n,r,o,i,a;return ic().w(function(e){for(;;)switch(e.p=e.n){case 0:n=uc(this.tabs),e.p=1,n.s();case 2:if((r=n.n()).done){e.n=4;break}return o=lc(r.value,2),i=o[1],e.n=3,i.unmount();case 3:e.n=2;break;case 4:e.n=6;break;case 5:e.p=5,a=e.v,n.e(a);case 6:return e.p=6,n.f(),e.f(6);case 7:return this.tabs.clear(),e.n=8,this.backButton.unmount();case 8:return e.n=9,mc(t,"unmount",this,3)([]);case 9:return e.a(2)}},e,this,[[1,5,6,7]])}),i=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=o.apply(e,t);function a(e){fc(i,n,r,a,l,"next",e)}function l(e){fc(i,n,r,a,l,"throw",e)}a(void 0)})},function(){return i.apply(this,arguments)})},{key:"handleTabSelect",value:function(e){this.props.activeTab!==e&&(this.props.onTabChange?this.props.onTabChange(e):this.setProps({activeTab:e}))}},{key:"updateAvatar",value:function(){var e,t,n=null===(e=this.element)||void 0===e?void 0:e.querySelector(".profile-sidebar__avatar");if(n){var r=lo(this.props.name,"--"),o=null!==(t=this.props.avatarUrl)&&void 0!==t?t:null;if(n.innerHTML="",o){var i=document.createElement("img");i.src=o,i.alt=this.props.name,n.appendChild(i)}else{var a=document.createElement("span");a.textContent=r,n.appendChild(a)}}}},{key:"getInitials",value:function(e){return lo(e,"--")}}],r&&Ac(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i}(Se),xc=n(9882),Oc=n.n(xc),jc=n(4143),Bc={};function kc(e){return kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(e)}function Pc(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return Sc(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Sc(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Sc(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,Sc(f,"constructor",c),Sc(c,"constructor",u),u.displayName="GeneratorFunction",Sc(c,o,"GeneratorFunction"),Sc(f),Sc(f,o,"Generator"),Sc(f,r,function(){return this}),Sc(f,"toString",function(){return"[object Generator]"}),(Pc=function(){return{w:i,m:p}})()}function Sc(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Sc=function(e,t,n,r){function i(t,n){Sc(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Sc(e,t,n,r)}function Ec(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function Tc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Fc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tc(Object(n),!0).forEach(function(t){Gc(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Rc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qc(r.key),r)}}function Ic(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ic=function(){return!!e})()}function Mc(e,t,n,r){var o=Uc(Nc(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function Uc(){return Uc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Nc(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Uc.apply(null,arguments)}function Nc(e){return Nc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nc(e)}function Dc(e,t){return Dc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Dc(e,t)}function Gc(e,t,n){return(t=qc(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qc(e){var t=function(e){if("object"!=kc(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=kc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==kc(t)?t:t+""}Bc.styleTagTransform=ot(),Bc.setAttributes=et(),Bc.insert=Ze().bind(null,"head"),Bc.domAPI=Ke(),Bc.insertStyleElement=nt(),Qe()(jc.A,Bc),jc.A&&jc.A.locals&&jc.A.locals;var Lc="Загрузить фото",Yc=function(e){function t(e){var n,r,o,i,a,l,u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Gc(u=function(e,t,n){return t=Nc(t),function(e,t){if(t&&("object"==kc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ic()?Reflect.construct(t,n||[],Nc(e).constructor):t.apply(e,n))}(this,t,[Fc(Fc({},e),{},{avatarUrl:null!==(n=e.avatarUrl)&&void 0!==n?n:null,gender:null!==(r=e.gender)&&void 0!==r?r:"",birthDate:null!==(o=e.birthDate)&&void 0!==o?o:"",isAvatarUploading:null!==(i=e.isAvatarUploading)&&void 0!==i&&i,isSubmitting:null!==(a=e.isSubmitting)&&void 0!==a&&a})]),"fileInput",null),Gc(u,"fieldErrors",{}),Gc(u,"handleFileChange",function(){var e,t,n,r=null===(e=u.fileInput)||void 0===e||null===(e=e.files)||void 0===e?void 0:e[0];if(r){if(r.size>5242880)return console.warn("Размер файла превышает 5 МБ"),void(u.fileInput.value="");null===(t=(n=u.props).onAvatarSelect)||void 0===t||t.call(n,r),u.fileInput.value=""}}),u.initialValues=u.pickEditableValues(u.props),u.currentValues=Fc({},u.initialValues),u.firstNameField=new gt({label:"Имя",name:"firstName",variant:"filled",onInput:function(e){return u.handleInputChange("firstName",e)}}),u.lastNameField=new gt({label:"Фамилия",name:"lastName",variant:"filled",onInput:function(e){return u.handleInputChange("lastName",e)}}),u.middleNameField=new gt({label:"Отчество",name:"middleName",variant:"filled",onInput:function(e){return u.handleInputChange("middleName",e)}}),u.birthDateField=new gt({label:"Дата рождения",name:"birthDate",type:"date",variant:"filled",onInput:function(e){return u.handleInputChange("birthDate",e)}}),u.genderField=new Bn({name:"gender",label:"Пол",options:[{label:"Мужской",value:"male"},{label:"Женский",value:"female"}],value:null!==(l=u.props.gender)&&void 0!==l?l:"",onChange:function(e){return u.handleInputChange("gender",e)}}),u.uploadButton=new Rt({label:Lc,variant:"secondary",onClick:function(){return u.handleUploadClick()}}),u.saveButton=new Rt({label:"Сохранить",variant:"primary",onClick:function(){return u.handleSave()}}),u.cancelButton=new Rt({label:"Отменить",variant:"secondary",onClick:function(){return u.handleCancel()}}),u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dc(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){var e;return Oc()({fullName:this.props.fullName,avatarUrl:null!==(e=this.props.avatarUrl)&&void 0!==e?e:null,initials:lo(this.props.fullName)})}},{key:"afterRender",value:function(){this.mountField("firstName",this.firstNameField),this.mountField("lastName",this.lastNameField),this.mountField("middleName",this.middleNameField),this.mountField("birthDate",this.birthDateField),this.mountField("gender",this.genderField),this.mountField("upload",this.uploadButton),this.mountField("save",this.saveButton),this.mountField("cancel",this.cancelButton),this.ensureFileInput(),this.setFieldValues(this.currentValues),this.updateFullNameFromValues(this.currentValues),this.updateAvatar(),this.updateUploadButton(),this.updateButtons()}},{key:"setProfile",value:function(e){this.props=Fc(Fc({},this.props),e),this.initialValues=this.pickEditableValues(this.props),this.currentValues=Fc({},this.initialValues),this.clearErrors(),this.setFieldValues(this.currentValues),this.updateFullNameFromValues(this.currentValues),this.updateAvatar(),this.updateUploadButton(),this.updateButtons()}},{key:"setAvatarUrl",value:function(e){this.props=Fc(Fc({},this.props),{},{avatarUrl:e}),this.updateAvatar()}},{key:"setAvatarUploading",value:function(e){this.props=Fc(Fc({},this.props),{},{isAvatarUploading:e}),this.updateUploadButton(),this.updateButtons()}},{key:"setSubmitting",value:function(e){this.props=Fc(Fc({},this.props),{},{isSubmitting:e}),this.updateButtons()}},{key:"unmount",value:(o=Pc().m(function e(){return Pc().w(function(e){for(;;)switch(e.n){case 0:return this.fileInput&&(this.fileInput.removeEventListener("change",this.handleFileChange),this.fileInput=null),e.n=1,Promise.all([this.firstNameField.unmount(),this.lastNameField.unmount(),this.middleNameField.unmount(),this.birthDateField.unmount(),this.genderField.unmount(),this.uploadButton.unmount(),this.saveButton.unmount(),this.cancelButton.unmount()]);case 1:return e.n=2,Mc(t,"unmount",this,3)([]);case 2:return e.a(2)}},e,this)}),i=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=o.apply(e,t);function a(e){Ec(i,n,r,a,l,"next",e)}function l(e){Ec(i,n,r,a,l,"throw",e)}a(void 0)})},function(){return i.apply(this,arguments)})},{key:"mountField",value:function(e,t){var n,r=null===(n=this.element)||void 0===n?void 0:n.querySelector('[data-slot="'.concat(e,'"]'));if(r){r.innerHTML="";var o=t.render();r.appendChild(o),t.mount(r).then()}}},{key:"pickEditableValues",value:function(e){var t,n,r,o;return{firstName:null!==(t=e.firstName)&&void 0!==t?t:"",lastName:null!==(n=e.lastName)&&void 0!==n?n:"",middleName:null!==(r=e.middleName)&&void 0!==r?r:"",birthDate:null!==(o=e.birthDate)&&void 0!==o?o:"",gender:this.normalizeGender(e.gender)}}},{key:"setFieldValues",value:function(e){var t,n,r,o;this.firstNameField.setValue(null!==(t=e.firstName)&&void 0!==t?t:""),this.lastNameField.setValue(null!==(n=e.lastName)&&void 0!==n?n:""),this.middleNameField.setValue(null!==(r=e.middleName)&&void 0!==r?r:""),this.birthDateField.setValue(null!==(o=e.birthDate)&&void 0!==o?o:""),this.genderField.setValue(e.gender||"")}},{key:"handleInputChange",value:function(e,t){this.currentValues=Fc(Fc({},this.currentValues),{},"gender"===e?{gender:this.normalizeGender(t)}:Gc({},e,t)),this.clearFieldError(e),this.updateFullNameFromValues(this.currentValues),this.updateUploadButton(),this.updateButtons()}},{key:"handleSave",value:function(){var e,t;this.props.isSubmitting||this.props.isAvatarUploading||!this.isDirty()||null===(e=(t=this.props).onSubmit)||void 0===e||e.call(t,Fc({},this.currentValues))}},{key:"handleCancel",value:function(){var e,t;this.currentValues=Fc({},this.initialValues),this.setFieldValues(this.currentValues),this.updateFullNameFromValues(this.currentValues),this.updateButtons(),null===(e=(t=this.props).onCancel)||void 0===e||e.call(t)}},{key:"ensureFileInput",value:function(){this.element&&(this.fileInput||(this.fileInput=document.createElement("input"),this.fileInput.type="file",this.fileInput.accept="image/*",this.fileInput.style.display="none",this.fileInput.addEventListener("change",this.handleFileChange)),this.fileInput.isConnected||this.element.appendChild(this.fileInput))}},{key:"updateAvatar",value:function(){var e,t=null===(e=this.element)||void 0===e?void 0:e.querySelector(".profile-form__avatar");if(t){var n,r=lo(this.props.fullName),o=t.querySelector('[data-slot="upload"]'),i=t.querySelector("img"),a=t.querySelector("span");this.props.avatarUrl?(i||(i=document.createElement("img"),o?t.insertBefore(i,o):t.appendChild(i)),i.src=this.props.avatarUrl,i.alt=this.props.fullName,i.style.display="block",null===(n=a)||void 0===n||n.remove()):(i&&i.remove(),a||(a=document.createElement("span"),o?t.insertBefore(a,o):t.appendChild(a)),a.textContent=r)}}},{key:"updateUploadButton",value:function(){var e=this,t=Boolean(this.props.isAvatarUploading);this.uploadButton.setProps({label:this.getUploadButtonLabel(),disabled:t,variant:"secondary",onClick:function(){return e.handleUploadClick()}})}},{key:"getUploadButtonLabel",value:function(){return this.props.isAvatarUploading?"Загрузка...":Lc}},{key:"updateButtons",value:function(){var e=this,t=Boolean(this.props.isSubmitting),n=Boolean(this.props.isAvatarUploading),r=this.isDirty();this.saveButton.setProps({label:t?"Сохраняем...":"Сохранить",disabled:t||n||!r,variant:"primary",onClick:function(){return e.handleSave()}}),this.cancelButton.setProps({label:"Отменить",disabled:t,variant:"secondary",onClick:function(){return e.handleCancel()}})}},{key:"setErrors",value:function(e){var t,n,r,o,i,a=new Map;e.forEach(function(e){return a.set(e.field,e.message)}),this.setFieldError("firstName",null!==(t=a.get("firstName"))&&void 0!==t?t:null),this.setFieldError("lastName",null!==(n=a.get("lastName"))&&void 0!==n?n:null),this.setFieldError("middleName",null!==(r=a.get("middleName"))&&void 0!==r?r:null),this.setFieldError("birthDate",null!==(o=a.get("birthDate"))&&void 0!==o?o:null),this.setFieldError("gender",null!==(i=a.get("gender"))&&void 0!==i?i:null)}},{key:"clearErrors",value:function(){this.setFieldError("firstName",null),this.setFieldError("lastName",null),this.setFieldError("middleName",null),this.setFieldError("birthDate",null),this.setFieldError("gender",null)}},{key:"setFieldError",value:function(e,t){switch(this.fieldErrors[e]=null!=t?t:void 0,e){case"firstName":this.firstNameField.setError(t);break;case"lastName":this.lastNameField.setError(t);break;case"middleName":this.middleNameField.setError(t);break;case"birthDate":this.birthDateField.setError(t)}}},{key:"clearFieldError",value:function(e){this.fieldErrors[e]&&this.setFieldError(e,null)}},{key:"handleUploadClick",value:function(){var e;this.props.isAvatarUploading||null===(e=this.fileInput)||void 0===e||e.click()}},{key:"updateFullNameFromValues",value:function(e){var t=this.buildFullName(e);this.props=Fc(Fc({},this.props),{},{fullName:t}),this.updateAvatar()}},{key:"buildFullName",value:function(e){var t,n,r=[e.firstName,e.lastName,e.middleName].map(function(e){return e.trim()}).filter(Boolean);return r.length>0?r.join(" "):(null===(t=this.props.username)||void 0===t?void 0:t.trim())||(null===(n=this.props.email)||void 0===n?void 0:n.trim())||this.props.fullName||"--"}},{key:"isDirty",value:function(){return this.initialValues.firstName!==this.currentValues.firstName||this.initialValues.lastName!==this.currentValues.lastName||this.initialValues.middleName!==this.currentValues.middleName||(this.initialValues.birthDate||"")!==(this.currentValues.birthDate||"")||(this.initialValues.gender||"")!==(this.currentValues.gender||"")}},{key:"normalizeGender",value:function(e){return"male"===e||"female"===e?e:""}}],r&&Rc(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i}(Se),Wc=n(3714),zc={};function Vc(e){return Vc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(e)}function Hc(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return Qc(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Qc(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Qc(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,Qc(f,"constructor",c),Qc(c,"constructor",u),u.displayName="GeneratorFunction",Qc(c,o,"GeneratorFunction"),Qc(f),Qc(f,o,"Generator"),Qc(f,r,function(){return this}),Qc(f,"toString",function(){return"[object Generator]"}),(Hc=function(){return{w:i,m:p}})()}function Qc(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Qc=function(e,t,n,r){function i(t,n){Qc(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Qc(e,t,n,r)}function $c(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function Kc(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){$c(i,r,o,a,l,"next",e)}function l(e){$c(i,r,o,a,l,"throw",e)}a(void 0)})}}function Jc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Zc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jc(Object(n),!0).forEach(function(t){is(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Xc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,as(r.key),r)}}function es(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(es=function(){return!!e})()}function ts(e,t,n,r){var o=ns(rs(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function ns(){return ns="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=rs(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},ns.apply(null,arguments)}function rs(e){return rs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rs(e)}function os(e,t){return os=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},os(e,t)}function is(e,t,n){return(t=as(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function as(e){var t=function(e){if("object"!=Vc(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Vc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Vc(t)?t:t+""}zc.styleTagTransform=ot(),zc.setAttributes=et(),zc.insert=Ze().bind(null,"head"),zc.domAPI=Ke(),zc.insertStyleElement=nt(),Qe()(Wc.A,zc),Wc.A&&Wc.A.locals&&Wc.A.locals;var ls={fullName:"",email:"",username:"",firstName:"",lastName:"",middleName:"",birthDate:"",gender:"",avatarUrl:null},us=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),is(e=function(e,t,n){return t=rs(t),function(e,t){if(t&&("object"==Vc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,es()?Reflect.construct(t,n||[],rs(e).constructor):t.apply(e,n))}(this,t),"profile",null),is(e,"globalLoadingDepth",0),e.sidebar=new _c({name:ls.fullName,email:ls.email,avatarUrl:ls.avatarUrl,onNavigateInbox:function(){return e.router.navigate("/inbox")}}),e.form=new Yc(Zc(Zc({},ls),{},{onAvatarSelect:function(t){return e.handleAvatarSelect(t)},onSubmit:function(t){return e.handleProfileSubmit(t)},onCancel:function(){return e.handleProfileCancel()}})),e.header=new Do({showSearch:!1,avatarLabel:"--",avatarImageUrl:ls.avatarUrl,userName:ls.fullName,userEmail:ls.email,onLogout:function(){return e.handleLogout()}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&os(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){return'<div class="profile-page"></div>'}},{key:"getSlotContent",value:function(){return{header:this.header,sidebar:this.sidebar,main:this.form}}},{key:"init",value:(c=Kc(Hc().m(function e(){return Hc().w(function(e){for(;;)switch(e.n){case 0:return this.layout instanceof Tl&&(this.layout.setContentBackground(!1),this.layout.setSidebarWidth("240px")),e.n=1,this.loadProfile();case 1:return e.a(2)}},e,this)})),function(){return c.apply(this,arguments)})},{key:"unmount",value:(u=Kc(Hc().m(function e(){return Hc().w(function(e){for(;;)switch(e.n){case 0:return this.layout instanceof Tl&&(this.layout.setContentBackground(!0),this.layout.setSidebarWidth(null)),e.n=1,ts(t,"unmount",this,3)([]);case 1:return e.a(2)}},e,this)})),function(){return u.apply(this,arguments)})},{key:"loadProfile",value:(l=Kc(Hc().m(function e(){var t,n,r;return Hc().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,this.beginGlobalLoading(),e.n=1,Q();case 1:t=e.v,n=this.normalizeProfile(t),this.applyProfile(n),e.n=3;break;case 2:e.p=2,r=e.v,console.error("Failed to load profile",r);case 3:return e.p=3,this.endGlobalLoading(),e.f(3);case 4:return e.a(2)}},e,this,[[0,2,3,4]])})),function(){return l.apply(this,arguments)})},{key:"handleAvatarSelect",value:(a=Kc(Hc().m(function e(t){var n,r,o;return Hc().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t){e.n=1;break}return e.a(2);case 1:return e.p=1,this.beginGlobalLoading(),this.form.setAvatarUploading(!0),e.n=2,K(t);case 2:n=e.v,r=n||null,this.profile&&(this.profile.avatarUrl=r,this.applyProfile(this.profile)),e.n=4;break;case 3:e.p=3,o=e.v,console.error("Failed to upload avatar",o);case 4:return e.p=4,this.form.setAvatarUploading(!1),this.endGlobalLoading(),e.f(4);case 5:return e.a(2)}},e,this,[[1,3,4,5]])})),function(e){return a.apply(this,arguments)})},{key:"handleProfileSubmit",value:(i=Kc(Hc().m(function e(t){var n,r,o,i,a;return Hc().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=N({firstName:t.firstName,lastName:t.lastName,middleName:t.middleName,birthDate:t.birthDate,gender:null!==(n=t.gender)&&void 0!==n?n:""}),this.form.setErrors(r),!(r.length>0)){e.n=1;break}return e.a(2);case 1:return this.beginGlobalLoading(),this.form.setSubmitting(!0),e.p=2,e.n=3,Z({firstName:t.firstName,lastName:t.lastName,middleName:t.middleName,birthday:t.birthDate,gender:t.gender});case 3:o=e.v,i=this.normalizeProfile(o),this.applyProfile(i),this.form.clearErrors(),e.n=5;break;case 4:e.p=4,a=e.v,console.error("Failed to update profile",a);case 5:return e.p=5,this.form.setSubmitting(!1),this.endGlobalLoading(),e.f(5);case 6:return e.a(2)}},e,this,[[2,4,5,6]])})),function(e){return i.apply(this,arguments)})},{key:"handleProfileCancel",value:function(){this.profile?this.applyProfile(this.profile):this.form.setProfile(Zc({},ls))}},{key:"handleLogout",value:(o=Kc(Hc().m(function e(){var t;return Hc().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,$t();case 1:e.n=3;break;case 2:e.p=2,t=e.v,console.error("Failed to logout",t);case 3:return e.p=3,le.setAuthenticated(!1),this.router.navigate("/auth").then(),e.f(3);case 4:return e.a(2)}},e,this,[[0,2,3,4]])})),function(){return o.apply(this,arguments)})},{key:"applyProfile",value:function(e){var t=e.fullName,n=e.email,r=e.username,o=e.firstName,i=e.lastName,a=e.middleName,l=e.birthday,u=e.gender,c=e.avatarUrl,s=null!=c?c:null;this.profile=e,this.sidebar.setProps({name:t,email:n,avatarUrl:s}),this.form.clearErrors(),this.form.setProfile({fullName:t,email:n,username:r,firstName:o,lastName:i,middleName:a,birthDate:l,gender:u,avatarUrl:s});var f=vo(e);this.header.setProps({avatarLabel:f.initials,avatarImageUrl:f.avatarUrl,userName:f.fullName,userEmail:f.email}),bo(f)}},{key:"normalizeProfile",value:function(e){var t=(e.fullName||e.username).trim();return Zc(Zc({},e),{},{fullName:t||e.username})}},{key:"beginGlobalLoading",value:function(){this.globalLoadingDepth+=1,this.updateLayoutLoadingState()}},{key:"endGlobalLoading",value:function(){0!==this.globalLoadingDepth&&(this.globalLoadingDepth-=1,this.updateLayoutLoadingState())}},{key:"updateLayoutLoadingState",value:function(){this.layout instanceof Tl&&this.layout.setLoading(this.globalLoadingDepth>0)}}],r&&Xc(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i,a,l,u,c}(We),cs=n(6265),ss=n.n(cs),fs=n(218),ps={};function ds(e){return ds="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ds(e)}function As(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hs(r.key),r)}}function hs(e){var t=function(e){if("object"!=ds(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ds(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ds(t)?t:t+""}function ms(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ms=function(){return!!e})()}function ys(e){return ys=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ys(e)}function vs(e,t){return vs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},vs(e,t)}ps.styleTagTransform=ot(),ps.setAttributes=et(),ps.insert=Ze().bind(null,"head"),ps.domAPI=Ke(),ps.insertStyleElement=nt(),Qe()(fs.A,ps),fs.A&&fs.A.locals&&fs.A.locals;var bs=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=ys(t),function(e,t){if(t&&("object"==ds(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ms()?Reflect.construct(t,n||[],ys(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vs(e,t)}(t,e),n=t,(r=[{key:"renderTemplate",value:function(){return ss()({})}}])&&As(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(bl),gs=[{path:"/auth",layoutKey:"auth",createLayout:function(){return new bs},createPage:function(){return new cn},guestOnly:!0},{path:"/register",layoutKey:"auth",createLayout:function(){return new bs},createPage:function(){return new Zn},guestOnly:!0},{path:"/inbox/:messageId?",layoutKey:"main",createLayout:function(){return new Tl},createPage:function(e){return new Ru({messageId:e.messageId})},requiresAuth:!0},{path:"/profile",layoutKey:"main",createLayout:function(){return new Tl},createPage:function(){return new us},requiresAuth:!0}];function Cs(e){return Cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cs(e)}function ws(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return _s(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(_s(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,_s(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,_s(f,"constructor",c),_s(c,"constructor",u),u.displayName="GeneratorFunction",_s(c,o,"GeneratorFunction"),_s(f),_s(f,o,"Generator"),_s(f,r,function(){return this}),_s(f,"toString",function(){return"[object Generator]"}),(ws=function(){return{w:i,m:p}})()}function _s(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}_s=function(e,t,n,r){function i(t,n){_s(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},_s(e,t,n,r)}function xs(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function Os(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){xs(i,r,o,a,l,"next",e)}function l(e){xs(i,r,o,a,l,"throw",e)}a(void 0)})}}function js(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ks(r.key),r)}}function Bs(e,t,n){return(t=ks(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ks(e){var t=function(e){if("object"!=Cs(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Cs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Cs(t)?t:t+""}var Ps=function(){return e=function e(){var t,n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),Bs(this,"activePage",null),Bs(this,"activeLayout",null),Bs(this,"activeRouteConfig",null),this.rootElement=document.getElementById("app"),this.rootElement?(this.router=ye.getInstance(),t=this.router,gs.forEach(function(e){t.addRoute(e)}),this.router.onNavigate(function(){var e=Os(ws().m(function e(t){return ws().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,n.handleNavigate(t);case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()),this.router.start()):console.error("Root element #app not found. Check your index.html")},t=[{key:"init",value:(r=Os(ws().m(function e(){return ws().w(function(e){for(;;)if(0===e.n)return e.a(2)},e)})),function(){return r.apply(this,arguments)})},{key:"handleNavigate",value:(n=Os(ws().m(function e(t){var n,r,o,i,a,l;return ws().w(function(e){for(;;)switch(e.n){case 0:if(r=t.layout,o=t.params,i=t.config,this.rootElement){e.n=1;break}return e.a(2);case 1:if(a=this.activeLayout===r&&!!r.getElement(),!this.activePage||this.activeRouteConfig!==i){e.n=3;break}return e.n=2,this.activePage.update(o);case 2:return this.activeLayout=r,this.activeRouteConfig=i,e.a(2);case 3:if(l=i.createPage(o),!this.activePage||a){e.n=4;break}return e.n=4,this.activePage.unmount();case 4:return e.n=5,l.renderWithLayout(r,a);case 5:if(a&&null!==(n=r.getElement())&&void 0!==n&&n.isConnected){e.n=7;break}return this.rootElement.innerHTML="",e.n=6,l.mount(this.rootElement);case 6:e.n=8;break;case 7:return e.n=8,l.mount(this.rootElement,{skipAppend:!0});case 8:if(!(Object.keys(o).length>0)){e.n=9;break}return e.n=9,l.update(o);case 9:this.activePage=l,this.activeLayout=r,this.activeRouteConfig=i;case 10:return e.a(2)}},e,this)})),function(e){return n.apply(this,arguments)})}],t&&js(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r}();if(!document.getElementById("app"))throw new Error("Root element #app not found");var Ss=new Ps;document.addEventListener("DOMContentLoaded",function(){Ss.init()})})()})();