/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={60:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<form class="register-form" data-form novalidate>\n    <div class="register-form__fields">\n        <div data-slot="name"></div>\n        <div data-slot="login"></div>\n        <div data-slot="birthdate"></div>\n        <div data-slot="gender"></div>\n        <div data-slot="password"></div>\n        <div data-slot="passwordRepeat"></div>\n    </div>\n    <div class="register-form__error" data-slot="error" aria-live="polite"></div>\n    <div class="register-form__actions" data-slot="submit"></div>\n</form>\n'},useData:!0})},81:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,u="function",c=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <img class="header__avatar header__avatar--image" src="'+c(typeof(i=null!=(i=s(n,"imageUrl")||(null!=t?s(t,"imageUrl"):t))?i:l)===u?i.call(a,{name:"imageUrl",hash:{},data:o,loc:{start:{line:3,column:63},end:{line:3,column:75}}}):i)+'" alt="'+c(typeof(i=null!=(i=s(n,"label")||(null!=t?s(t,"label"):t))?i:l)===u?i.call(a,{name:"label",hash:{},data:o,loc:{start:{line:3,column:82},end:{line:3,column:91}}}):i)+'" loading="lazy" decoding="async" />\n'},3:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <span class="header__avatar">'+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"label")||(null!=t?a(t,"label"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"label",hash:{},data:o,loc:{start:{line:5,column:37},end:{line:5,column:46}}}):i)+"</span>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<button type="button" class="header__avatar-btn" data-avatar-button>\n'+(null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"imageUrl"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:2,column:4},end:{line:6,column:11}}}))?i:"")+"</button>\n"},useData:!0})},139:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<div class="main-layout">\n    <header data-slot="header" class="main-layout__header"></header>\n\n    <div class="main-layout__container">\n        <aside data-slot="sidebar" class="main-layout__sidebar"></aside>\n        <main data-slot="main" class="main-layout__main"></main>\n    </div>\n\n    <div data-slot="modal" class="main-layout__modal-root"></div>\n\n    <div class="main-layout__loading" aria-hidden="true">\n        <div class="main-layout__spinner"></div>\n    </div>\n</div>\n'},useData:!0})},192:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".mail-item{display:grid;grid-template-columns:auto minmax(160px, 1fr) minmax(200px, 1.2fr) auto;align-items:center;column-gap:16px;padding:12px 16px;cursor:pointer;transition:background .12s ease;border-bottom:1px solid #d6e3f3;border-radius:12px}.mail-item__left{display:flex;justify-content:center;align-items:center;flex-direction:row;gap:10px;flex-shrink:0}.mail-item--unread .mail-item__status{background:#5163eb}.mail-item:hover{background:rgba(81,99,235,.12)}.mail-item__status{width:8px;height:8px;border-radius:50%;background:rgba(0,0,0,0);justify-self:center}.mail-item__avatar{width:36px;height:36px;border-radius:50%;object-fit:cover}.mail-item__avatar--placeholder{display:flex;align-items:center;justify-content:center;background:#e2e8f0;color:#5163eb;font-weight:600;text-transform:uppercase}.mail-item__from{min-width:0;font-weight:700;color:#1f2937;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mail-item__subject{align-self:center;font-weight:600;color:#1f2937;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:0}.mail-item__preview{align-self:center;color:#6b7280;font-size:16px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:0}.mail-item__time{align-self:center;font-size:12px;color:#94a3b8}","",{version:3,sources:["webpack://./src/shared/components/MailItem/MailItem.scss"],names:[],mappings:"AAAA,WAAW,YAAY,CAAC,uEAAuE,CAAC,kBAAkB,CAAC,eAAe,CAAC,iBAAiB,CAAC,cAAc,CAAC,+BAA+B,CAAC,+BAA+B,CAAC,kBAAkB,CAAC,iBAAiB,YAAY,CAAC,sBAAsB,CAAC,kBAAkB,CAAC,kBAAkB,CAAC,QAAQ,CAAC,aAAa,CAAC,sCAAsC,kBAAkB,CAAC,iBAAiB,8BAA8B,CAAC,mBAAmB,SAAS,CAAC,UAAU,CAAC,iBAAiB,CAAC,wBAAwB,CAAC,mBAAmB,CAAC,mBAAmB,UAAU,CAAC,WAAW,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,gCAAgC,YAAY,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,kBAAkB,CAAC,aAAa,CAAC,eAAe,CAAC,wBAAwB,CAAC,iBAAiB,WAAW,CAAC,eAAe,CAAC,aAAa,CAAC,kBAAkB,CAAC,eAAe,CAAC,sBAAsB,CAAC,oBAAoB,iBAAiB,CAAC,eAAe,CAAC,aAAa,CAAC,kBAAkB,CAAC,eAAe,CAAC,sBAAsB,CAAC,WAAW,CAAC,oBAAoB,iBAAiB,CAAC,aAAa,CAAC,cAAc,CAAC,kBAAkB,CAAC,eAAe,CAAC,sBAAsB,CAAC,WAAW,CAAC,iBAAiB,iBAAiB,CAAC,cAAc,CAAC,aAAa",sourcesContent:[".mail-item{display:grid;grid-template-columns:auto minmax(160px, 1fr) minmax(200px, 1.2fr) auto;align-items:center;column-gap:16px;padding:12px 16px;cursor:pointer;transition:background .12s ease;border-bottom:1px solid #d6e3f3;border-radius:12px}.mail-item__left{display:flex;justify-content:center;align-items:center;flex-direction:row;gap:10px;flex-shrink:0}.mail-item--unread .mail-item__status{background:#5163eb}.mail-item:hover{background:rgba(81,99,235,.12)}.mail-item__status{width:8px;height:8px;border-radius:50%;background:rgba(0,0,0,0);justify-self:center}.mail-item__avatar{width:36px;height:36px;border-radius:50%;object-fit:cover}.mail-item__avatar--placeholder{display:flex;align-items:center;justify-content:center;background:#e2e8f0;color:#5163eb;font-weight:600;text-transform:uppercase}.mail-item__from{min-width:0;font-weight:700;color:#1f2937;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mail-item__subject{align-self:center;font-weight:600;color:#1f2937;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:0}.mail-item__preview{align-self:center;color:#6b7280;font-size:16px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;min-width:0}.mail-item__time{align-self:center;font-size:12px;color:#94a3b8}"],sourceRoot:""}]);const l=a},218:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i),l=n(4417),u=n.n(l),c=new URL(n(2610),n.b),s=a()(o()),f=u()(c);s.push([e.id,`.auth-layout{background:url(${f});background-attachment:fixed;background-size:cover;background-position:center;background-repeat:no-repeat;min-height:100vh;display:flex;align-items:center;justify-content:center;font-family:"Nunito Sans",sans-serif;padding:12px}.auth-layout__panel{background-color:#fff;width:min(450px,100%);height:830px;border-radius:20px;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding:40px;padding-right:50px;box-sizing:border-box;padding-bottom:150px}.auth-layout__logo{display:flex;align-items:center;justify-content:center;font-weight:600;flex-direction:column;font-size:40px;color:#5163eb;text-decoration:none}.auth-layout__logo-icon{width:40px;height:40px;margin-right:12px}.auth-layout__logo-text{letter-spacing:.02em}.auth-layout__content{width:100%;flex:1;align-items:center;justify-content:center}`,"",{version:3,sources:["webpack://./src/app/components/AuthLayout/AuthLayout.scss"],names:[],mappings:"AAAA,aAAa,kDAAuD,CAAC,2BAA2B,CAAC,qBAAqB,CAAC,0BAA0B,CAAC,2BAA2B,CAAC,gBAAgB,CAAC,YAAY,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,oCAAoC,CAAC,YAAY,CAAC,oBAAoB,qBAAqB,CAAC,qBAAqB,CAAC,YAAY,CAAC,kBAAkB,CAAC,YAAY,CAAC,qBAAqB,CAAC,kBAAkB,CAAC,0BAA0B,CAAC,YAAY,CAAC,kBAAkB,CAAC,qBAAqB,CAAC,oBAAoB,CAAC,mBAAmB,YAAY,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,eAAe,CAAC,qBAAqB,CAAC,cAAc,CAAC,aAAa,CAAC,oBAAoB,CAAC,wBAAwB,UAAU,CAAC,WAAW,CAAC,iBAAiB,CAAC,wBAAwB,oBAAoB,CAAC,sBAAsB,UAAU,CAAC,MAAM,CAAC,kBAAkB,CAAC,sBAAsB",sourcesContent:['.auth-layout{background:url("../../../../public/img/background.jpg");background-attachment:fixed;background-size:cover;background-position:center;background-repeat:no-repeat;min-height:100vh;display:flex;align-items:center;justify-content:center;font-family:"Nunito Sans",sans-serif;padding:12px}.auth-layout__panel{background-color:#fff;width:min(450px,100%);height:830px;border-radius:20px;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding:40px;padding-right:50px;box-sizing:border-box;padding-bottom:150px}.auth-layout__logo{display:flex;align-items:center;justify-content:center;font-weight:600;flex-direction:column;font-size:40px;color:#5163eb;text-decoration:none}.auth-layout__logo-icon{width:40px;height:40px;margin-right:12px}.auth-layout__logo-text{letter-spacing:.02em}.auth-layout__content{width:100%;flex:1;align-items:center;justify-content:center}'],sourceRoot:""}]);const p=s},261:(e,t,n)=>{"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.__esModule=!0;var i=o(n(2871)),a=r(n(9613)),l=r(n(3769)),u=o(n(2849)),c=o(n(7624)),s=r(n(1148));function f(){var e=new i.HandlebarsEnvironment;return u.extend(e,i),e.SafeString=a.default,e.Exception=l.default,e.Utils=u,e.escapeExpression=u.escapeExpression,e.VM=c,e.template=function(t){return c.template(t,e)},e}var p=f();p.create=f,s.default(p),p.default=p,t.default=p,e.exports=t.default},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},566:(e,t,n)=>{"use strict";t.__esModule=!0;var r=n(2849),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=r.indexOf(o.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=o.lookupLevel(e),"undefined"!=typeof console&&o.lookupLevel(o.level)<=e){var t=o.methodMap[e];console[t]||(t="log");for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];console[t].apply(console,r)}}};t.default=o,e.exports=t.default},878:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".header__avatar-btn{background:rgba(0,0,0,0);border:none;cursor:pointer;padding:8px;border-radius:50%;transition:background .12s ease}.header__avatar{display:inline-flex;align-items:center;justify-content:center;font-size:16px;font-weight:600;width:50px;height:50px;border-radius:50%;background:#d9f0d9;color:#397639;text-transform:uppercase}.header__avatar--image{object-fit:cover}","",{version:3,sources:["webpack://./src/shared/components/AvatarButton/AvatarButton.scss"],names:[],mappings:"AAAA,oBAAoB,wBAAwB,CAAC,WAAW,CAAC,cAAc,CAAC,WAAW,CAAC,iBAAiB,CAAC,+BAA+B,CAAC,gBAAgB,mBAAmB,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,cAAc,CAAC,eAAe,CAAC,UAAU,CAAC,WAAW,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,aAAa,CAAC,wBAAwB,CAAC,uBAAuB,gBAAgB",sourcesContent:[".header__avatar-btn{background:rgba(0,0,0,0);border:none;cursor:pointer;padding:8px;border-radius:50%;transition:background .12s ease}.header__avatar{display:inline-flex;align-items:center;justify-content:center;font-size:16px;font-weight:600;width:50px;height:50px;border-radius:50%;background:#d9f0d9;color:#397639;text-transform:uppercase}.header__avatar--image{object-fit:cover}"],sourceRoot:""}]);const l=a},908:(e,t,n)=>{"use strict";t.__esModule=!0;var r,o=n(2849),i=(r=n(3769))&&r.__esModule?r:{default:r};t.default=function(e){e.registerHelper("with",function(e,t){if(2!=arguments.length)throw new i.default("#with requires exactly one argument");o.isFunction(e)&&(e=e.call(this));var n=t.fn;if(o.isEmpty(e))return t.inverse(this);var r=t.data;return t.data&&t.ids&&((r=o.createFrame(t.data)).contextPath=o.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:r,blockParams:o.blockParams([e],[r&&r.contextPath])})})},e.exports=t.default},1113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},1148:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e){"object"!=typeof globalThis&&(Object.prototype.__defineGetter__("__magic__",function(){return this}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__);var t=globalThis.Handlebars;e.noConflict=function(){return globalThis.Handlebars===e&&(globalThis.Handlebars=t),e}},e.exports=t.default},1255:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".profile-sidebar{display:flex;flex-direction:column;align-items:center;gap:18px;padding:28px 16px;width:100%;height:100%;box-sizing:border-box;color:#1f2544;text-align:center}.profile-sidebar__avatar{width:96px;height:96px;border-radius:50%;background:linear-gradient(160deg, rgba(81, 99, 235, 0.25), rgba(116, 197, 255, 0.35));display:flex;align-items:center;justify-content:center;overflow:hidden}.profile-sidebar__avatar span{font-size:36px;font-weight:700;color:#fff}.profile-sidebar__avatar img{width:100%;height:100%;object-fit:cover}.profile-sidebar__name{font-size:22px;font-weight:700;text-align:center}.profile-sidebar__email{font-size:14px;color:#5a6285;text-align:center}.profile-sidebar__tabs{width:100%;display:flex;flex-direction:column;gap:8px;list-style:none;padding:0;margin:12px 0 0;align-items:stretch}.profile-sidebar__back{margin-top:12px;width:100%;display:flex;justify-content:center}.profile-sidebar__back .ui-button{color:#5163eb;font-size:15px;gap:10px}.profile-sidebar__back .ui-button__icon img{width:18px;height:18px}","",{version:3,sources:["webpack://./src/pages/profile/components/ProfileSidebar/ProfileSidebar.scss"],names:[],mappings:"AAAA,iBAAiB,YAAY,CAAC,qBAAqB,CAAC,kBAAkB,CAAC,QAAQ,CAAC,iBAAiB,CAAC,UAAU,CAAC,WAAW,CAAC,qBAAqB,CAAC,aAAa,CAAC,iBAAiB,CAAC,yBAAyB,UAAU,CAAC,WAAW,CAAC,iBAAiB,CAAC,sFAAsF,CAAC,YAAY,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,eAAe,CAAC,8BAA8B,cAAc,CAAC,eAAe,CAAC,UAAU,CAAC,6BAA6B,UAAU,CAAC,WAAW,CAAC,gBAAgB,CAAC,uBAAuB,cAAc,CAAC,eAAe,CAAC,iBAAiB,CAAC,wBAAwB,cAAc,CAAC,aAAa,CAAC,iBAAiB,CAAC,uBAAuB,UAAU,CAAC,YAAY,CAAC,qBAAqB,CAAC,OAAO,CAAC,eAAe,CAAC,SAAS,CAAC,eAAe,CAAC,mBAAmB,CAAC,uBAAuB,eAAe,CAAC,UAAU,CAAC,YAAY,CAAC,sBAAsB,CAAC,kCAAkC,aAAa,CAAC,cAAc,CAAC,QAAQ,CAAC,4CAA4C,UAAU,CAAC,WAAW",sourcesContent:[".profile-sidebar{display:flex;flex-direction:column;align-items:center;gap:18px;padding:28px 16px;width:100%;height:100%;box-sizing:border-box;color:#1f2544;text-align:center}.profile-sidebar__avatar{width:96px;height:96px;border-radius:50%;background:linear-gradient(160deg, rgba(81, 99, 235, 0.25), rgba(116, 197, 255, 0.35));display:flex;align-items:center;justify-content:center;overflow:hidden}.profile-sidebar__avatar span{font-size:36px;font-weight:700;color:#fff}.profile-sidebar__avatar img{width:100%;height:100%;object-fit:cover}.profile-sidebar__name{font-size:22px;font-weight:700;text-align:center}.profile-sidebar__email{font-size:14px;color:#5a6285;text-align:center}.profile-sidebar__tabs{width:100%;display:flex;flex-direction:column;gap:8px;list-style:none;padding:0;margin:12px 0 0;align-items:stretch}.profile-sidebar__back{margin-top:12px;width:100%;display:flex;justify-content:center}.profile-sidebar__back .ui-button{color:#5163eb;font-size:15px;gap:10px}.profile-sidebar__back .ui-button__icon img{width:18px;height:18px}"],sourceRoot:""}]);const l=a},1258:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const l=a},1354:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(o," */");return[t].concat([i]).join("\n")}return[t].join("\n")}},2122:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<aside class="sidebar">\n    <button class="sidebar__compose" data-compose>'+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"composeButtonText")||(null!=t?a(t,"composeButtonText"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"composeButtonText",hash:{},data:o,loc:{start:{line:2,column:50},end:{line:2,column:71}}}):i)+'</button>\n\n    <ul class="sidebar__folders" data-slot="folders"></ul>\n</aside>\n'},useData:!0})},2277:(e,t,n)=>{"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.registerDefaultHelpers=function(e){o.default(e),i.default(e),a.default(e),l.default(e),u.default(e),c.default(e),s.default(e)},t.moveHelperToHooks=function(e,t,n){e.helpers[t]&&(e.hooks[t]=e.helpers[t],n||delete e.helpers[t])};var o=r(n(6097)),i=r(n(6785)),a=r(n(4353)),l=r(n(2355)),u=r(n(5300)),c=r(n(7466)),s=r(n(908))},2288:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,'.input-field{position:relative;display:flex;flex-direction:column;font-family:"Nunito Sans",sans-serif;color:#000;padding-bottom:20px}.input-field__label{font-weight:600;margin-bottom:8px}.input-field__control{width:100%;font-size:16px;outline:none;transition:border-color .15s ease,box-shadow .15s ease;background:rgba(0,0,0,0);color:inherit}.input-field__control::placeholder{color:rgba(39,43,53,.6)}.input-field__hint{margin-top:8px;font-size:14px;color:#6b7280}.input-field__error{position:absolute;left:0;bottom:0;font-size:16px;color:#e65151;min-height:16px;line-height:1.2;transition:opacity .15s ease}.input-field--filled .input-field__control{border-radius:16px;border:1px solid rgba(81,99,235,.25);padding:16px 20px}.input-field--filled .input-field__control:focus{border-color:#5163eb}.input-field--underline{gap:6px;padding-bottom:18px}.input-field--underline .input-field__error{min-height:14px}.input-field--underline .input-field__label{font-size:14px;margin-bottom:4px}.input-field--underline .input-field__control{border:none;border-bottom:1px solid rgba(39,43,53,.15);border-radius:0;padding:14px 4px}.input-field--underline .input-field__control:focus{border-bottom-color:#5163eb;box-shadow:none}',"",{version:3,sources:["webpack://./src/shared/components/InputField/InputField.scss"],names:[],mappings:"AAAA,aAAa,iBAAiB,CAAC,YAAY,CAAC,qBAAqB,CAAC,oCAAoC,CAAC,UAAU,CAAC,mBAAmB,CAAC,oBAAoB,eAAe,CAAC,iBAAiB,CAAC,sBAAsB,UAAU,CAAC,cAAc,CAAC,YAAY,CAAC,sDAAsD,CAAC,wBAAwB,CAAC,aAAa,CAAC,mCAAmC,uBAAuB,CAAC,mBAAmB,cAAc,CAAC,cAAc,CAAC,aAAa,CAAC,oBAAoB,iBAAiB,CAAC,MAAM,CAAC,QAAQ,CAAC,cAAc,CAAC,aAAa,CAAC,eAAe,CAAC,eAAe,CAAC,4BAA4B,CAAC,2CAA2C,kBAAkB,CAAC,oCAAoC,CAAC,iBAAiB,CAAC,iDAAiD,oBAAoB,CAAC,wBAAwB,OAAO,CAAC,mBAAmB,CAAC,4CAA4C,eAAe,CAAC,4CAA4C,cAAc,CAAC,iBAAiB,CAAC,8CAA8C,WAAW,CAAC,0CAA0C,CAAC,eAAe,CAAC,gBAAgB,CAAC,oDAAoD,2BAA2B,CAAC,eAAe",sourcesContent:['.input-field{position:relative;display:flex;flex-direction:column;font-family:"Nunito Sans",sans-serif;color:#000;padding-bottom:20px}.input-field__label{font-weight:600;margin-bottom:8px}.input-field__control{width:100%;font-size:16px;outline:none;transition:border-color .15s ease,box-shadow .15s ease;background:rgba(0,0,0,0);color:inherit}.input-field__control::placeholder{color:rgba(39,43,53,.6)}.input-field__hint{margin-top:8px;font-size:14px;color:#6b7280}.input-field__error{position:absolute;left:0;bottom:0;font-size:16px;color:#e65151;min-height:16px;line-height:1.2;transition:opacity .15s ease}.input-field--filled .input-field__control{border-radius:16px;border:1px solid rgba(81,99,235,.25);padding:16px 20px}.input-field--filled .input-field__control:focus{border-color:#5163eb}.input-field--underline{gap:6px;padding-bottom:18px}.input-field--underline .input-field__error{min-height:14px}.input-field--underline .input-field__label{font-size:14px;margin-bottom:4px}.input-field--underline .input-field__control{border:none;border-bottom:1px solid rgba(39,43,53,.15);border-radius:0;padding:14px 4px}.input-field--underline .input-field__control:focus{border-bottom-color:#5163eb;box-shadow:none}'],sourceRoot:""}]);const l=a},2355:(e,t,n)=>{"use strict";t.__esModule=!0;var r,o=n(2849),i=(r=n(3769))&&r.__esModule?r:{default:r};t.default=function(e){e.registerHelper("if",function(e,t){if(2!=arguments.length)throw new i.default("#if requires exactly one argument");return o.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||o.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){if(2!=arguments.length)throw new i.default("#unless requires exactly one argument");return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},e.exports=t.default},2511:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return"profile-sidebar-tab--active"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a,l=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,c="function",s=e.escapeExpression,f=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="profile-sidebar-tab '+(null!=(i=f(n,"if").call(l,null!=t?f(t,"active"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:31},end:{line:1,column:79}}}))?i:"")+'" data-tab-id="'+s(typeof(a=null!=(a=f(n,"id")||(null!=t?f(t,"id"):t))?a:u)===c?a.call(l,{name:"id",hash:{},data:o,loc:{start:{line:1,column:94},end:{line:1,column:100}}}):a)+'">\n  <div class="profile-sidebar-tab__icon" data-icon></div>\n  <span class="profile-sidebar-tab__label">'+s(typeof(a=null!=(a=f(n,"label")||(null!=t?f(t,"label"):t))?a:u)===c?a.call(l,{name:"label",hash:{},data:o,loc:{start:{line:3,column:43},end:{line:3,column:52}}}):a)+"</span>\n</li>\n"},useData:!0})},2602:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,u="function",c=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'      <img src="'+c(typeof(i=null!=(i=s(n,"avatarUrl")||(null!=t?s(t,"avatarUrl"):t))?i:l)===u?i.call(a,{name:"avatarUrl",hash:{},data:o,loc:{start:{line:4,column:16},end:{line:4,column:29}}}):i)+'" alt="'+c(typeof(i=null!=(i=s(n,"name")||(null!=t?s(t,"name"):t))?i:l)===u?i.call(a,{name:"name",hash:{},data:o,loc:{start:{line:4,column:36},end:{line:4,column:44}}}):i)+'" loading="lazy" decoding="async" />\n'},3:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"      <span>"+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"initials")||(null!=t?a(t,"initials"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"initials",hash:{},data:o,loc:{start:{line:6,column:12},end:{line:6,column:24}}}):i)+"</span>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a,l=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,c="function",s=e.escapeExpression,f=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="profile-sidebar">\n  <div class="profile-sidebar__avatar">\n'+(null!=(i=f(n,"if").call(l,null!=t?f(t,"avatarUrl"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:3,column:4},end:{line:7,column:11}}}))?i:"")+'  </div>\n\n  <div class="profile-sidebar__name">'+s(typeof(a=null!=(a=f(n,"name")||(null!=t?f(t,"name"):t))?a:u)===c?a.call(l,{name:"name",hash:{},data:o,loc:{start:{line:10,column:37},end:{line:10,column:45}}}):a)+'</div>\n  <div class="profile-sidebar__email">'+s(typeof(a=null!=(a=f(n,"email")||(null!=t?f(t,"email"):t))?a:u)===c?a.call(l,{name:"email",hash:{},data:o,loc:{start:{line:11,column:38},end:{line:11,column:47}}}):a)+'</div>\n\n  <ul class="profile-sidebar__tabs" data-slot="tabs"></ul>\n\n  <div class="profile-sidebar__back" data-slot="back"></div>\n</div>\r\n'},useData:!0})},2610:(e,t,n)=>{"use strict";e.exports=n.p+"3119b2f9c702c8b5c60b.jpg"},2614:(e,t)=>{"use strict";t.__esModule=!0,t.wrapHelper=function(e,t){return"function"!=typeof e?e:function(){return arguments[arguments.length-1]=t(arguments[arguments.length-1]),e.apply(this,arguments)}}},2708:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,'.radio-group{border:none;padding:0;margin:0;display:flex;align-items:center;gap:12px;font-family:"Nunito Sans",sans-serif}.radio-group__label{font-weight:400;font-size:16px}.radio-group__options{padding-left:32px;display:flex;justify-content:center;align-items:center;gap:52px}.radio-group__option{display:inline-flex;align-items:center;gap:8px;font-size:16px}.radio-group__option input[type=radio]{accent-color:#5163eb}',"",{version:3,sources:["webpack://./src/shared/components/RadioGroup/RadioGroup.scss"],names:[],mappings:"AAAA,aAAa,WAAW,CAAC,SAAS,CAAC,QAAQ,CAAC,YAAY,CAAC,kBAAkB,CAAC,QAAQ,CAAC,oCAAoC,CAAC,oBAAoB,eAAe,CAAC,cAAc,CAAC,sBAAsB,iBAAiB,CAAC,YAAY,CAAC,sBAAsB,CAAC,kBAAkB,CAAC,QAAQ,CAAC,qBAAqB,mBAAmB,CAAC,kBAAkB,CAAC,OAAO,CAAC,cAAc,CAAC,uCAAuC,oBAAoB",sourcesContent:['.radio-group{border:none;padding:0;margin:0;display:flex;align-items:center;gap:12px;font-family:"Nunito Sans",sans-serif}.radio-group__label{font-weight:400;font-size:16px}.radio-group__options{padding-left:32px;display:flex;justify-content:center;align-items:center;gap:52px}.radio-group__option{display:inline-flex;align-items:center;gap:8px;font-size:16px}.radio-group__option input[type=radio]{accent-color:#5163eb}'],sourceRoot:""}]);const l=a},2849:(e,t)=>{"use strict";t.__esModule=!0,t.extend=a,t.indexOf=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},t.escapeExpression=function(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return o.test(e)?e.replace(r,i):e},t.isEmpty=function(e){return!e&&0!==e||!(!c(e)||0!==e.length)},t.createFrame=function(e){var t=a({},e);return t._parent=e,t},t.blockParams=function(e,t){return e.path=t,e},t.appendContextPath=function(e,t){return(e?e+".":"")+t};var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},r=/[&<>"'`=]/g,o=/[&<>"'`=]/;function i(e){return n[e]}function a(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}var l=Object.prototype.toString;t.toString=l;var u=function(e){return"function"==typeof e};u(/x/)&&(t.isFunction=u=function(e){return"function"==typeof e&&"[object Function]"===l.call(e)}),t.isFunction=u;var c=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===l.call(e)};t.isArray=c},2871:(e,t,n)=>{"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.HandlebarsEnvironment=f;var o=n(2849),i=r(n(3769)),a=n(2277),l=n(5940),u=r(n(566)),c=n(3865);t.VERSION="4.7.8",t.COMPILER_REVISION=8,t.LAST_COMPATIBLE_COMPILER_REVISION=7,t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};var s="[object Object]";function f(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},a.registerDefaultHelpers(this),l.registerDefaultDecorators(this)}f.prototype={constructor:f,logger:u.default,log:u.default.log,registerHelper:function(e,t){if(o.toString.call(e)===s){if(t)throw new i.default("Arg not supported with multiple helpers");o.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(o.toString.call(e)===s)o.extend(this.partials,e);else{if(void 0===t)throw new i.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(o.toString.call(e)===s){if(t)throw new i.default("Arg not supported with multiple decorators");o.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]},resetLoggedPropertyAccesses:function(){c.resetLoggedProperties()}};var p=u.default.log;t.log=p,t.createFrame=o.createFrame,t.logger=u.default},3245:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".register-form{display:flex;flex-direction:column;width:100%}.register-form__fields{display:flex;flex-direction:column;gap:16px;margin-bottom:16px}.register-form__fields>*{position:relative}.register-form__error{min-height:20px;margin-bottom:12px;color:var(--color-error, #d14343);font-size:14px;line-height:20px;visibility:hidden;opacity:0;transition:opacity .15s ease}.register-form__error--visible{visibility:visible;opacity:1}.register-form__actions{display:flex;flex-direction:column}.register-form__actions .ui-button{width:100%}","",{version:3,sources:["webpack://./src/pages/register/components/RegisterForm/RegisterForm.scss"],names:[],mappings:"AAAA,eAAe,YAAY,CAAC,qBAAqB,CAAC,UAAU,CAAC,uBAAuB,YAAY,CAAC,qBAAqB,CAAC,QAAQ,CAAC,kBAAkB,CAAC,yBAAyB,iBAAiB,CAAC,sBAAsB,eAAe,CAAC,kBAAkB,CAAC,iCAAiC,CAAC,cAAc,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,SAAS,CAAC,4BAA4B,CAAC,+BAA+B,kBAAkB,CAAC,SAAS,CAAC,wBAAwB,YAAY,CAAC,qBAAqB,CAAC,mCAAmC,UAAU",sourcesContent:[".register-form{display:flex;flex-direction:column;width:100%}.register-form__fields{display:flex;flex-direction:column;gap:16px;margin-bottom:16px}.register-form__fields>*{position:relative}.register-form__error{min-height:20px;margin-bottom:12px;color:var(--color-error, #d14343);font-size:14px;line-height:20px;visibility:hidden;opacity:0;transition:opacity .15s ease}.register-form__error--visible{visibility:visible;opacity:1}.register-form__actions{display:flex;flex-direction:column}.register-form__actions .ui-button{width:100%}"],sourceRoot:""}]);const l=a},3505:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return"sidebar-folder--active"},3:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="sidebar-folder__count">'+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"count")||(null!=t?a(t,"count"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"count",hash:{},data:o,loc:{start:{line:4,column:53},end:{line:4,column:62}}}):i)+"</span>"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a,l=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,c="function",s=e.escapeExpression,f=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="sidebar-folder '+(null!=(i=f(n,"if").call(l,null!=t?f(t,"active"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:26},end:{line:1,column:69}}}))?i:"")+'" data-folder-id="'+s(typeof(a=null!=(a=f(n,"id")||(null!=t?f(t,"id"):t))?a:u)===c?a.call(l,{name:"id",hash:{},data:o,loc:{start:{line:1,column:87},end:{line:1,column:93}}}):a)+'">\r\n    <div class="sidebar-folder__icon"></div>\r\n    <span class="sidebar-folder__name">'+s(typeof(a=null!=(a=f(n,"name")||(null!=t?f(t,"name"):t))?a:u)===c?a.call(l,{name:"name",hash:{},data:o,loc:{start:{line:3,column:39},end:{line:3,column:47}}}):a)+"</span>\r\n    "+(null!=(i=f(n,"if").call(l,null!=t?f(t,"count"):t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:4,column:4},end:{line:4,column:76}}}))?i:"")+"\r\n</li>\r\n"},useData:!0})},3633:(e,t,n)=>{e.exports=n(261).default},3648:(e,t,n)=>{"use strict";e.exports=n.p+"b1ff7454b571ba49c561.png"},3714:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".profile-page{width:100%;height:100%;background:#f5f7ff;padding:24px;box-sizing:border-box}","",{version:3,sources:["webpack://./src/pages/profile/views/ProfilePage.scss"],names:[],mappings:"AAAA,cAAc,UAAU,CAAC,WAAW,CAAC,kBAAkB,CAAC,YAAY,CAAC,qBAAqB",sourcesContent:[".profile-page{width:100%;height:100%;background:#f5f7ff;padding:24px;box-sizing:border-box}"],sourceRoot:""}]);const l=a},3769:(e,t)=>{"use strict";t.__esModule=!0;var n=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function r(e,t){var o=t&&t.loc,i=void 0,a=void 0,l=void 0,u=void 0;o&&(i=o.start.line,a=o.end.line,l=o.start.column,u=o.end.column,e+=" - "+i+":"+l);for(var c=Error.prototype.constructor.call(this,e),s=0;s<n.length;s++)this[n[s]]=c[n[s]];Error.captureStackTrace&&Error.captureStackTrace(this,r);try{o&&(this.lineNumber=i,this.endLineNumber=a,Object.defineProperty?(Object.defineProperty(this,"column",{value:l,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:u,enumerable:!0})):(this.column=l,this.endColumn=u))}catch(e){}}r.prototype=new Error,t.default=r,e.exports=t.default},3823:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <span class="input-field__label">'+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"label")||(null!=t?a(t,"label"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"label",hash:{},data:o,loc:{start:{line:3,column:41},end:{line:3,column:50}}}):i)+"</span>\n"},3:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'autocomplete="'+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"autocomplete")||(null!=t?a(t,"autocomplete"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"autocomplete",hash:{},data:o,loc:{start:{line:11,column:42},end:{line:11,column:58}}}):i)+'" '},5:function(e,t,n,r,o){return"required"},7:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <span class="input-field__hint">'+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"hint")||(null!=t?a(t,"hint"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"hint",hash:{},data:o,loc:{start:{line:16,column:40},end:{line:16,column:48}}}):i)+"</span>\n"},9:function(e,t,n,r,o){return"hidden"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a,l=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,c="function",s=e.escapeExpression,f=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<label class="input-field input-field--'+s(typeof(a=null!=(a=f(n,"variant")||(null!=t?f(t,"variant"):t))?a:u)===c?a.call(l,{name:"variant",hash:{},data:o,loc:{start:{line:1,column:39},end:{line:1,column:50}}}):a)+'">\n'+(null!=(i=f(n,"if").call(l,null!=t?f(t,"label"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:2,column:4},end:{line:4,column:11}}}))?i:"")+'    <input\n        class="input-field__control"\n        type="'+s(typeof(a=null!=(a=f(n,"type")||(null!=t?f(t,"type"):t))?a:u)===c?a.call(l,{name:"type",hash:{},data:o,loc:{start:{line:7,column:14},end:{line:7,column:22}}}):a)+'"\n        name="'+s(typeof(a=null!=(a=f(n,"name")||(null!=t?f(t,"name"):t))?a:u)===c?a.call(l,{name:"name",hash:{},data:o,loc:{start:{line:8,column:14},end:{line:8,column:22}}}):a)+'"\n        placeholder="'+s(typeof(a=null!=(a=f(n,"placeholder")||(null!=t?f(t,"placeholder"):t))?a:u)===c?a.call(l,{name:"placeholder",hash:{},data:o,loc:{start:{line:9,column:21},end:{line:9,column:36}}}):a)+'"\n        value="'+s(typeof(a=null!=(a=f(n,"value")||(null!=t?f(t,"value"):t))?a:u)===c?a.call(l,{name:"value",hash:{},data:o,loc:{start:{line:10,column:15},end:{line:10,column:24}}}):a)+'"\n        '+(null!=(i=f(n,"if").call(l,null!=t?f(t,"autocomplete"):t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:11,column:8},end:{line:11,column:67}}}))?i:"")+"\n        "+(null!=(i=f(n,"if").call(l,null!=t?f(t,"required"):t,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o,loc:{start:{line:12,column:8},end:{line:12,column:39}}}))?i:"")+"\n        data-input\n    />\n"+(null!=(i=f(n,"if").call(l,null!=t?f(t,"hint"):t,{name:"if",hash:{},fn:e.program(7,o,0),inverse:e.noop,data:o,loc:{start:{line:15,column:4},end:{line:17,column:11}}}))?i:"")+'    <span class="input-field__error" data-error '+(null!=(i=f(n,"unless").call(l,null!=t?f(t,"error"):t,{name:"unless",hash:{},fn:e.program(9,o,0),inverse:e.noop,data:o,loc:{start:{line:18,column:48},end:{line:18,column:82}}}))?i:"")+">"+s(typeof(a=null!=(a=f(n,"error")||(null!=t?f(t,"error"):t))?a:u)===c?a.call(l,{name:"error",hash:{},data:o,loc:{start:{line:18,column:83},end:{line:18,column:92}}}):a)+"</span>\n</label>\n"},useData:!0})},3865:(e,t,n)=>{"use strict";t.__esModule=!0,t.createProtoAccessControl=function(e){var t=Object.create(null);t.constructor=!1,t.__defineGetter__=!1,t.__defineSetter__=!1,t.__lookupGetter__=!1;var n=Object.create(null);return n.__proto__=!1,{properties:{whitelist:o.createNewLookupObject(n,e.allowedProtoProperties),defaultValue:e.allowProtoPropertiesByDefault},methods:{whitelist:o.createNewLookupObject(t,e.allowedProtoMethods),defaultValue:e.allowProtoMethodsByDefault}}},t.resultIsAllowed=function(e,t,n){return function(e,t){return void 0!==e.whitelist[t]?!0===e.whitelist[t]:void 0!==e.defaultValue?e.defaultValue:(function(e){!0!==a[e]&&(a[e]=!0,i.default.log("error",'Handlebars: Access has been denied to resolve the property "'+e+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(t),!1)}("function"==typeof e?t.methods:t.properties,n)},t.resetLoggedProperties=function(){Object.keys(a).forEach(function(e){delete a[e]})};var r,o=n(9726),i=(r=n(566))&&r.__esModule?r:{default:r},a=Object.create(null)},3956:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".profile-sidebar-tab{display:flex;align-items:center;gap:12px;padding:10px 14px;border-radius:14px;cursor:pointer;transition:background .15s ease,color .15s ease;color:#1f2544;font-weight:600}.profile-sidebar-tab:hover{background:rgba(81,99,235,.08)}.profile-sidebar-tab--active{background:rgba(81,99,235,.14);color:#5163eb}.profile-sidebar-tab__icon{width:24px;height:24px;background-size:contain;background-repeat:no-repeat;background-position:center}.profile-sidebar-tab__label{flex:1}","",{version:3,sources:["webpack://./src/pages/profile/components/ProfileSidebar/components/ProfileSidebarTabItem/ProfileSidebarTabItem.scss"],names:[],mappings:"AAAA,qBAAqB,YAAY,CAAC,kBAAkB,CAAC,QAAQ,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,cAAc,CAAC,+CAA+C,CAAC,aAAa,CAAC,eAAe,CAAC,2BAA2B,8BAA8B,CAAC,6BAA6B,8BAA8B,CAAC,aAAa,CAAC,2BAA2B,UAAU,CAAC,WAAW,CAAC,uBAAuB,CAAC,2BAA2B,CAAC,0BAA0B,CAAC,4BAA4B,MAAM",sourcesContent:[".profile-sidebar-tab{display:flex;align-items:center;gap:12px;padding:10px 14px;border-radius:14px;cursor:pointer;transition:background .15s ease,color .15s ease;color:#1f2544;font-weight:600}.profile-sidebar-tab:hover{background:rgba(81,99,235,.08)}.profile-sidebar-tab--active{background:rgba(81,99,235,.14);color:#5163eb}.profile-sidebar-tab__icon{width:24px;height:24px;background-size:contain;background-repeat:no-repeat;background-position:center}.profile-sidebar-tab__label{flex:1}"],sourceRoot:""}]);const l=a},3957:e=>{e.exports=function(){return""}},4143:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".profile-form{display:flex;flex-direction:column;gap:32px;padding:32px 40px;background:#fff;border-radius:24px;box-shadow:0 18px 40px rgba(31,37,68,.08);color:#1f2544}.profile-form__title{margin:0;font-size:28px;font-weight:700}.profile-form__content{display:flex;gap:40px;align-items:flex-start;flex-wrap:wrap}.profile-form__avatar{width:180px;min-width:180px;display:flex;flex-direction:column;align-items:center;gap:16px}.profile-form__avatar>span,.profile-form__avatar>img{width:160px;height:160px;border-radius:50%;background:linear-gradient(170deg, rgba(81, 99, 235, 0.28), rgba(116, 197, 255, 0.4));display:flex;align-items:center;justify-content:center;font-size:52px;font-weight:700;color:#fff;object-fit:cover}.profile-form__upload{display:flex;justify-content:center;width:100%}.profile-form__upload .ui-button{font-size:15px;color:#5163eb}.profile-form__fields{flex:1;display:flex;flex-direction:column;gap:18px;max-width:420px;width:100%}.profile-form__field .ui-input{width:100%}.profile-form__field--half .ui-input{max-width:220px}.profile-form__actions{display:flex;gap:16px;justify-content:flex-start;margin-top:12px}.profile-form__actions .ui-button{min-width:160px}@media(max-width: 900px){.profile-form__content{flex-direction:column;align-items:stretch}.profile-form__avatar{align-self:center}.profile-form__actions{justify-content:center;flex-wrap:wrap}}","",{version:3,sources:["webpack://./src/pages/profile/components/ProfileForm/ProfileForm.scss"],names:[],mappings:"AAAA,cAAc,YAAY,CAAC,qBAAqB,CAAC,QAAQ,CAAC,iBAAiB,CAAC,eAAe,CAAC,kBAAkB,CAAC,yCAAyC,CAAC,aAAa,CAAC,qBAAqB,QAAQ,CAAC,cAAc,CAAC,eAAe,CAAC,uBAAuB,YAAY,CAAC,QAAQ,CAAC,sBAAsB,CAAC,cAAc,CAAC,sBAAsB,WAAW,CAAC,eAAe,CAAC,YAAY,CAAC,qBAAqB,CAAC,kBAAkB,CAAC,QAAQ,CAAC,qDAAqD,WAAW,CAAC,YAAY,CAAC,iBAAiB,CAAC,qFAAqF,CAAC,YAAY,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,cAAc,CAAC,eAAe,CAAC,UAAU,CAAC,gBAAgB,CAAC,sBAAsB,YAAY,CAAC,sBAAsB,CAAC,UAAU,CAAC,iCAAiC,cAAc,CAAC,aAAa,CAAC,sBAAsB,MAAM,CAAC,YAAY,CAAC,qBAAqB,CAAC,QAAQ,CAAC,eAAe,CAAC,UAAU,CAAC,+BAA+B,UAAU,CAAC,qCAAqC,eAAe,CAAC,uBAAuB,YAAY,CAAC,QAAQ,CAAC,0BAA0B,CAAC,eAAe,CAAC,kCAAkC,eAAe,CAAC,yBAAyB,uBAAuB,qBAAqB,CAAC,mBAAmB,CAAC,sBAAsB,iBAAiB,CAAC,uBAAuB,sBAAsB,CAAC,cAAc,CAAC",sourcesContent:[".profile-form{display:flex;flex-direction:column;gap:32px;padding:32px 40px;background:#fff;border-radius:24px;box-shadow:0 18px 40px rgba(31,37,68,.08);color:#1f2544}.profile-form__title{margin:0;font-size:28px;font-weight:700}.profile-form__content{display:flex;gap:40px;align-items:flex-start;flex-wrap:wrap}.profile-form__avatar{width:180px;min-width:180px;display:flex;flex-direction:column;align-items:center;gap:16px}.profile-form__avatar>span,.profile-form__avatar>img{width:160px;height:160px;border-radius:50%;background:linear-gradient(170deg, rgba(81, 99, 235, 0.28), rgba(116, 197, 255, 0.4));display:flex;align-items:center;justify-content:center;font-size:52px;font-weight:700;color:#fff;object-fit:cover}.profile-form__upload{display:flex;justify-content:center;width:100%}.profile-form__upload .ui-button{font-size:15px;color:#5163eb}.profile-form__fields{flex:1;display:flex;flex-direction:column;gap:18px;max-width:420px;width:100%}.profile-form__field .ui-input{width:100%}.profile-form__field--half .ui-input{max-width:220px}.profile-form__actions{display:flex;gap:16px;justify-content:flex-start;margin-top:12px}.profile-form__actions .ui-button{min-width:160px}@media(max-width: 900px){.profile-form__content{flex-direction:column;align-items:stretch}.profile-form__avatar{align-self:center}.profile-form__actions{justify-content:center;flex-wrap:wrap}}"],sourceRoot:""}]);const l=a},4190:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".sidebar-folder{display:flex;align-items:center;padding:10px 12px;border-radius:10px;cursor:pointer;transition:background .12s ease;gap:12px}.sidebar-folder:hover{background:rgba(81,99,235,.08)}.sidebar-folder--active{background:rgba(81,99,235,.16);font-weight:600}.sidebar-folder__icon{width:24px;height:24px;background-size:cover;background-repeat:no-repeat}.sidebar-folder__name{flex:1 1 auto}.sidebar-folder__count{background:rgba(81,99,235,.1);padding:2px 10px;border-radius:12px;font-size:12px;color:#5163eb}","",{version:3,sources:["webpack://./src/shared/components/SidebarFolderItem/SidebarFolderItem.scss"],names:[],mappings:"AAAA,gBAAgB,YAAY,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,cAAc,CAAC,+BAA+B,CAAC,QAAQ,CAAC,sBAAsB,8BAA8B,CAAC,wBAAwB,8BAA8B,CAAC,eAAe,CAAC,sBAAsB,UAAU,CAAC,WAAW,CAAC,qBAAqB,CAAC,2BAA2B,CAAC,sBAAsB,aAAa,CAAC,uBAAuB,6BAA6B,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,cAAc,CAAC,aAAa",sourcesContent:[".sidebar-folder{display:flex;align-items:center;padding:10px 12px;border-radius:10px;cursor:pointer;transition:background .12s ease;gap:12px}.sidebar-folder:hover{background:rgba(81,99,235,.08)}.sidebar-folder--active{background:rgba(81,99,235,.16);font-weight:600}.sidebar-folder__icon{width:24px;height:24px;background-size:cover;background-repeat:no-repeat}.sidebar-folder__name{flex:1 1 auto}.sidebar-folder__count{background:rgba(81,99,235,.1);padding:2px 10px;border-radius:12px;font-size:12px;color:#5163eb}"],sourceRoot:""}]);const l=a},4353:(e,t,n)=>{"use strict";t.__esModule=!0;var r,o=(r=n(3769))&&r.__esModule?r:{default:r};t.default=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new o.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t.default},4417:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},5056:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},5072:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],l=0;l<e.length;l++){var u=e[l],c=r.base?u[0]+r.base:u[0],s=i[c]||0,f="".concat(c," ").concat(s);i[c]=s+1;var p=n(f),d={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==p)t[p].references++,t[p].updater(d);else{var A=o(d,r);r.byIndex=l,t.splice(l,0,{identifier:f,updater:A,references:1})}a.push(f)}return a}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var l=n(i[a]);t[l].references--}for(var u=r(e,o),c=0;c<i.length;c++){var s=n(i[c]);0===t[s].references&&(t[s].updater(),t.splice(s,1))}i=u}}},5240:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,'.main-layout{min-height:100vh;display:flex;flex-direction:column;background:#eff2f7;font-family:"Nunito Sans",sans-serif}.main-layout__header{height:80px;display:flex;align-items:top;padding:0 20px}.main-layout__container{display:flex;flex:1;overflow:hidden;padding-right:16px}.main-layout__sidebar{width:var(--main-layout-sidebar-width, 240px);padding:0 16px;box-sizing:border-box}.main-layout__main{flex:1;padding:20px;overflow-y:auto;background-color:#fff;border-top-left-radius:20px;border-top-right-radius:20px}.main-layout__main--no-bg{background-color:rgba(0,0,0,0);border-radius:0}.main-layout__main--transition{opacity:1;transform:translateY(0);animation:main-layout-fade-in .3s ease}.main-layout__modal-root{position:fixed;inset:0;pointer-events:none}.main-layout__modal-root--active{pointer-events:auto}.main-layout__loading{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(239,242,247,.6);backdrop-filter:blur(2px);opacity:0;pointer-events:none;transition:opacity .18s ease;z-index:200}.main-layout__loading--active{opacity:1;pointer-events:auto}.main-layout__spinner{width:48px;height:48px;border-radius:50%;border:4px solid rgba(81,99,235,.2);border-top-color:#5163eb;animation:main-layout-spinner .8s linear infinite}.sidebar__compose{display:block;width:100%;margin-bottom:12px}@keyframes main-layout-fade-in{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}@keyframes main-layout-spinner{from{transform:rotate(0)}to{transform:rotate(360deg)}}',"",{version:3,sources:["webpack://./src/app/components/MainLayout/MainLayout.scss"],names:[],mappings:"AAAA,aAAa,gBAAgB,CAAC,YAAY,CAAC,qBAAqB,CAAC,kBAAkB,CAAC,oCAAoC,CAAC,qBAAqB,WAAW,CAAC,YAAY,CAAC,eAAe,CAAC,cAAc,CAAC,wBAAwB,YAAY,CAAC,MAAM,CAAC,eAAe,CAAC,kBAAkB,CAAC,sBAAsB,6CAA6C,CAAC,cAAc,CAAC,qBAAqB,CAAC,mBAAmB,MAAM,CAAC,YAAY,CAAC,eAAe,CAAC,qBAAqB,CAAC,2BAA2B,CAAC,4BAA4B,CAAC,0BAA0B,8BAA8B,CAAC,eAAe,CAAC,+BAA+B,SAAS,CAAC,uBAAuB,CAAC,sCAAsC,CAAC,yBAAyB,cAAc,CAAC,OAAO,CAAC,mBAAmB,CAAC,iCAAiC,mBAAmB,CAAC,sBAAsB,cAAc,CAAC,OAAO,CAAC,YAAY,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,+BAA+B,CAAC,yBAAyB,CAAC,SAAS,CAAC,mBAAmB,CAAC,4BAA4B,CAAC,WAAW,CAAC,8BAA8B,SAAS,CAAC,mBAAmB,CAAC,sBAAsB,UAAU,CAAC,WAAW,CAAC,iBAAiB,CAAC,mCAAmC,CAAC,wBAAwB,CAAC,iDAAiD,CAAC,kBAAkB,aAAa,CAAC,UAAU,CAAC,kBAAkB,CAAC,+BAA+B,KAAK,SAAS,CAAC,0BAA0B,CAAC,GAAG,SAAS,CAAC,uBAAuB,CAAC,CAAC,+BAA+B,KAAK,mBAAmB,CAAC,GAAG,wBAAwB,CAAC",sourcesContent:['.main-layout{min-height:100vh;display:flex;flex-direction:column;background:#eff2f7;font-family:"Nunito Sans",sans-serif}.main-layout__header{height:80px;display:flex;align-items:top;padding:0 20px}.main-layout__container{display:flex;flex:1;overflow:hidden;padding-right:16px}.main-layout__sidebar{width:var(--main-layout-sidebar-width, 240px);padding:0 16px;box-sizing:border-box}.main-layout__main{flex:1;padding:20px;overflow-y:auto;background-color:#fff;border-top-left-radius:20px;border-top-right-radius:20px}.main-layout__main--no-bg{background-color:rgba(0,0,0,0);border-radius:0}.main-layout__main--transition{opacity:1;transform:translateY(0);animation:main-layout-fade-in .3s ease}.main-layout__modal-root{position:fixed;inset:0;pointer-events:none}.main-layout__modal-root--active{pointer-events:auto}.main-layout__loading{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(239,242,247,.6);backdrop-filter:blur(2px);opacity:0;pointer-events:none;transition:opacity .18s ease;z-index:200}.main-layout__loading--active{opacity:1;pointer-events:auto}.main-layout__spinner{width:48px;height:48px;border-radius:50%;border:4px solid rgba(81,99,235,.2);border-top-color:#5163eb;animation:main-layout-spinner .8s linear infinite}.sidebar__compose{display:block;width:100%;margin-bottom:12px}@keyframes main-layout-fade-in{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}@keyframes main-layout-spinner{from{transform:rotate(0)}to{transform:rotate(360deg)}}'],sourceRoot:""}]);const l=a},5300:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("log",function(){for(var t=[void 0],n=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)t.push(arguments[r]);var o=1;null!=n.hash.level?o=n.hash.level:n.data&&null!=n.data.level&&(o=n.data.level),t[0]=o,e.log.apply(e,t)})},e.exports=t.default},5342:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<div class="header">\n    <div class="header__left">\n        <div class="header__logo" data-logo>\n            <img src="/img/logo.svg" alt="flintmail" class="header__logo-icon"/>\n            <span class="header__logo-text">flintmail</span>\n        </div>\n    </div>\n\n    <div class="header__center"></div>\n\n    <div class="header__right">\n        <div data-slot="search"></div>\n        <div data-slot="avatar"></div>\n        <div class="header__avatar-menu" role="menu" aria-hidden="true" data-slot="menu"></div>\n    </div>\n</div>\n'},useData:!0})},5462:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i),l=n(4417),u=n.n(l),c=new URL(n(3648),n.b),s=a()(o()),f=u()(c);s.push([e.id,`.header__search{position:relative;flex:0 0 auto;width:518px;height:48px;display:flex;align-items:center;background:#e2e7f0;border-radius:12px;padding:0 16px 0 44px;box-sizing:border-box;background-image:url(${f});background-repeat:no-repeat;background-position:16px center}.header__search-input{width:100%;height:100%;border:none;background:rgba(0,0,0,0);font-size:16px;outline:none;margin-left:8px}.header__search-input::placeholder{color:rgba(39,43,53,.6)}`,"",{version:3,sources:["webpack://./src/shared/components/SearchInput/SearchInput.scss"],names:[],mappings:"AAAA,gBAAgB,iBAAiB,CAAC,aAAa,CAAC,WAAW,CAAC,WAAW,CAAC,YAAY,CAAC,kBAAkB,CAAC,kBAAkB,CAAC,kBAAkB,CAAC,qBAAqB,CAAC,qBAAqB,CAAC,wDAAgE,CAAC,2BAA2B,CAAC,+BAA+B,CAAC,sBAAsB,UAAU,CAAC,WAAW,CAAC,WAAW,CAAC,wBAAwB,CAAC,cAAc,CAAC,YAAY,CAAC,eAAe,CAAC,mCAAmC,uBAAuB",sourcesContent:['.header__search{position:relative;flex:0 0 auto;width:518px;height:48px;display:flex;align-items:center;background:#e2e7f0;border-radius:12px;padding:0 16px 0 44px;box-sizing:border-box;background-image:url("../../../../public/img/search-normal.png");background-repeat:no-repeat;background-position:16px center}.header__search-input{width:100%;height:100%;border:none;background:rgba(0,0,0,0);font-size:16px;outline:none;margin-left:8px}.header__search-input::placeholder{color:rgba(39,43,53,.6)}'],sourceRoot:""}]);const p=s},5860:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,'.ui-button{display:inline-flex;align-items:center;justify-content:center;gap:8px;font-family:"Nunito Sans",sans-serif;font-weight:600;font-size:16px;padding:14px 20px;border-radius:20px;border:none;cursor:pointer;transition:box-shadow .15s ease,transform .15s ease;min-width:140px;text-decoration:none}.ui-button--primary{background:#5163eb;color:#fff;border:2px solid #5163eb;border-radius:10px}.ui-button--primary:hover:not(:disabled){background:#4959d5;border:2px solid #4959d5}.ui-button--secondary{background:rgba(0,0,0,0);color:#5163eb;border:2px solid #5163eb;border-radius:10px}.ui-button--secondary:hover:not(:disabled){background:rgba(81,99,235,.05)}.ui-button--link{padding:0;min-width:auto;background:rgba(0,0,0,0);color:#000;border:none;box-shadow:none;font-size:16px;font-weight:600;gap:6px}.ui-button--link:hover:not(:disabled){color:#5163eb}.ui-button:disabled{opacity:.6;cursor:default;box-shadow:none}.ui-button--block{width:100%}.ui-button__icon{display:inline-flex;align-items:center;font-size:16px}',"",{version:3,sources:["webpack://./src/shared/components/Button/Button.scss"],names:[],mappings:"AAAA,WAAW,mBAAmB,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,OAAO,CAAC,oCAAoC,CAAC,eAAe,CAAC,cAAc,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,WAAW,CAAC,cAAc,CAAC,mDAAmD,CAAC,eAAe,CAAC,oBAAoB,CAAC,oBAAoB,kBAAkB,CAAC,UAAU,CAAC,wBAAwB,CAAC,kBAAkB,CAAC,yCAAyC,kBAAkB,CAAC,wBAAwB,CAAC,sBAAsB,wBAAwB,CAAC,aAAa,CAAC,wBAAwB,CAAC,kBAAkB,CAAC,2CAA2C,8BAA8B,CAAC,iBAAiB,SAAS,CAAC,cAAc,CAAC,wBAAwB,CAAC,UAAU,CAAC,WAAW,CAAC,eAAe,CAAC,cAAc,CAAC,eAAe,CAAC,OAAO,CAAC,sCAAsC,aAAa,CAAC,oBAAoB,UAAU,CAAC,cAAc,CAAC,eAAe,CAAC,kBAAkB,UAAU,CAAC,iBAAiB,mBAAmB,CAAC,kBAAkB,CAAC,cAAc",sourcesContent:['.ui-button{display:inline-flex;align-items:center;justify-content:center;gap:8px;font-family:"Nunito Sans",sans-serif;font-weight:600;font-size:16px;padding:14px 20px;border-radius:20px;border:none;cursor:pointer;transition:box-shadow .15s ease,transform .15s ease;min-width:140px;text-decoration:none}.ui-button--primary{background:#5163eb;color:#fff;border:2px solid #5163eb;border-radius:10px}.ui-button--primary:hover:not(:disabled){background:#4959d5;border:2px solid #4959d5}.ui-button--secondary{background:rgba(0,0,0,0);color:#5163eb;border:2px solid #5163eb;border-radius:10px}.ui-button--secondary:hover:not(:disabled){background:rgba(81,99,235,.05)}.ui-button--link{padding:0;min-width:auto;background:rgba(0,0,0,0);color:#000;border:none;box-shadow:none;font-size:16px;font-weight:600;gap:6px}.ui-button--link:hover:not(:disabled){color:#5163eb}.ui-button:disabled{opacity:.6;cursor:default;box-shadow:none}.ui-button--block{width:100%}.ui-button__icon{display:inline-flex;align-items:center;font-size:16px}'],sourceRoot:""}]);const l=a},5940:(e,t,n)=>{"use strict";t.__esModule=!0,t.registerDefaultDecorators=function(e){o.default(e)};var r,o=(r=n(7430))&&r.__esModule?r:{default:r}},6097:(e,t,n)=>{"use strict";t.__esModule=!0;var r=n(2849);t.default=function(e){e.registerHelper("blockHelperMissing",function(t,n){var o=n.inverse,i=n.fn;if(!0===t)return i(this);if(!1===t||null==t)return o(this);if(r.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):o(this);if(n.data&&n.ids){var a=r.createFrame(n.data);a.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:a}}return i(t,n)})},e.exports=t.default},6212:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".compose-overlay{position:fixed;inset:0;background:rgba(7,16,41,.35);display:flex;align-items:center;justify-content:center;padding:24px;z-index:1000}.compose-modal{position:relative;width:min(900px,100%);background:#fff;border-radius:12px;box-shadow:0 24px 60px rgba(20,28,60,.18);padding:32px 32px 16px;display:flex;flex-direction:column;gap:24px}.compose-modal__close{position:absolute;top:20px;right:20px;width:32px;height:32px;border:none;background:rgba(0,0,0,0);display:flex;align-items:center;justify-content:center;padding:0;cursor:pointer;transition:opacity .2s ease}.compose-modal__close:hover{opacity:.7}.compose-modal,.compose-modal *{box-sizing:border-box}.compose-modal__close img{width:20px;height:20px}.compose-modal__body{display:flex;flex-direction:column;gap:24px}.compose-modal__recipient{display:flex;gap:20px;align-items:flex-start}.compose-modal__avatar{flex-shrink:0;width:48px;height:48px;border-radius:50%;background:#e5ecff;display:flex;align-items:center;justify-content:center;overflow:hidden}.compose-modal__avatar-image{width:100%;height:100%;object-fit:cover}.compose-modal__avatar-fallback{font-size:18px;font-weight:600;color:#2d3c66}.compose-modal__inputs{display:flex;flex-direction:column;gap:16px}.compose-modal__inputs-text{display:flex;align-items:center;gap:12px;font-size:16px;color:#000}.compose-modal__label{font-weight:600;white-space:nowrap}.compose-modal__input{flex:1 1 360px;min-width:260px;border:none;border-bottom:1px solid #dbe1f1;padding:12px 4px;font-size:16px;color:#1f2544;outline:none;transition:border-color .2s ease}.compose-modal__error{width:100%;font-size:12px;color:#e53935;min-height:16px;margin-top:4px;visibility:hidden}.compose-modal__error--visible{visibility:visible}.compose-modal__actions{display:flex;gap:16px;flex-wrap:wrap;margin-left:68px}.compose-modal__action-slot{display:inline-flex;margin-right:32px}@media(max-width: 600px){.compose-modal__actions{margin-left:0}}.compose-modal__textarea{width:calc(100% + 64px);min-height:350px;max-height:min(600px,60vh);border:none;border-top:1px solid #dbe1f1;border-bottom:1px solid #dbe1f1;border-radius:0;padding:32px 32px;font-size:16px;color:#1f2544;background:#fff;outline:none;transition:border-color .2s ease;margin:0 -32px;margin-bottom:-8px;line-height:1.5;overflow-y:auto;resize:vertical}.compose-modal__textarea::placeholder{color:#8f96ad}.compose-modal__footer{display:flex;justify-content:flex-end}.compose-modal__send-slot{display:inline-flex;width:137px;height:40px;border-radius:10px}","",{version:3,sources:["webpack://./src/pages/inbox/components/ComposeModal/ComposeModal.scss"],names:[],mappings:"AAAA,iBAAiB,cAAc,CAAC,OAAO,CAAC,4BAA4B,CAAC,YAAY,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,YAAY,CAAC,YAAY,CAAC,eAAe,iBAAiB,CAAC,qBAAqB,CAAC,eAAe,CAAC,kBAAkB,CAAC,yCAAyC,CAAC,sBAAsB,CAAC,YAAY,CAAC,qBAAqB,CAAC,QAAQ,CAAC,sBAAsB,iBAAiB,CAAC,QAAQ,CAAC,UAAU,CAAC,UAAU,CAAC,WAAW,CAAC,WAAW,CAAC,wBAAwB,CAAC,YAAY,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,SAAS,CAAC,cAAc,CAAC,2BAA2B,CAAC,4BAA4B,UAAU,CAAC,gCAAgC,qBAAqB,CAAC,0BAA0B,UAAU,CAAC,WAAW,CAAC,qBAAqB,YAAY,CAAC,qBAAqB,CAAC,QAAQ,CAAC,0BAA0B,YAAY,CAAC,QAAQ,CAAC,sBAAsB,CAAC,uBAAuB,aAAa,CAAC,UAAU,CAAC,WAAW,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,YAAY,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,eAAe,CAAC,6BAA6B,UAAU,CAAC,WAAW,CAAC,gBAAgB,CAAC,gCAAgC,cAAc,CAAC,eAAe,CAAC,aAAa,CAAC,uBAAuB,YAAY,CAAC,qBAAqB,CAAC,QAAQ,CAAC,4BAA4B,YAAY,CAAC,kBAAkB,CAAC,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,sBAAsB,eAAe,CAAC,kBAAkB,CAAC,sBAAsB,cAAc,CAAC,eAAe,CAAC,WAAW,CAAC,+BAA+B,CAAC,gBAAgB,CAAC,cAAc,CAAC,aAAa,CAAC,YAAY,CAAC,gCAAgC,CAAC,sBAAsB,UAAU,CAAC,cAAc,CAAC,aAAa,CAAC,eAAe,CAAC,cAAc,CAAC,iBAAiB,CAAC,+BAA+B,kBAAkB,CAAC,wBAAwB,YAAY,CAAC,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,4BAA4B,mBAAmB,CAAC,iBAAiB,CAAC,yBAAyB,wBAAwB,aAAa,CAAC,CAAC,yBAAyB,uBAAuB,CAAC,gBAAgB,CAAC,0BAA0B,CAAC,WAAW,CAAC,4BAA4B,CAAC,+BAA+B,CAAC,eAAe,CAAC,iBAAiB,CAAC,cAAc,CAAC,aAAa,CAAC,eAAe,CAAC,YAAY,CAAC,gCAAgC,CAAC,cAAc,CAAC,kBAAkB,CAAC,eAAe,CAAC,eAAe,CAAC,eAAe,CAAC,sCAAsC,aAAa,CAAC,uBAAuB,YAAY,CAAC,wBAAwB,CAAC,0BAA0B,mBAAmB,CAAC,WAAW,CAAC,WAAW,CAAC,kBAAkB",sourcesContent:[".compose-overlay{position:fixed;inset:0;background:rgba(7,16,41,.35);display:flex;align-items:center;justify-content:center;padding:24px;z-index:1000}.compose-modal{position:relative;width:min(900px,100%);background:#fff;border-radius:12px;box-shadow:0 24px 60px rgba(20,28,60,.18);padding:32px 32px 16px;display:flex;flex-direction:column;gap:24px}.compose-modal__close{position:absolute;top:20px;right:20px;width:32px;height:32px;border:none;background:rgba(0,0,0,0);display:flex;align-items:center;justify-content:center;padding:0;cursor:pointer;transition:opacity .2s ease}.compose-modal__close:hover{opacity:.7}.compose-modal,.compose-modal *{box-sizing:border-box}.compose-modal__close img{width:20px;height:20px}.compose-modal__body{display:flex;flex-direction:column;gap:24px}.compose-modal__recipient{display:flex;gap:20px;align-items:flex-start}.compose-modal__avatar{flex-shrink:0;width:48px;height:48px;border-radius:50%;background:#e5ecff;display:flex;align-items:center;justify-content:center;overflow:hidden}.compose-modal__avatar-image{width:100%;height:100%;object-fit:cover}.compose-modal__avatar-fallback{font-size:18px;font-weight:600;color:#2d3c66}.compose-modal__inputs{display:flex;flex-direction:column;gap:16px}.compose-modal__inputs-text{display:flex;align-items:center;gap:12px;font-size:16px;color:#000}.compose-modal__label{font-weight:600;white-space:nowrap}.compose-modal__input{flex:1 1 360px;min-width:260px;border:none;border-bottom:1px solid #dbe1f1;padding:12px 4px;font-size:16px;color:#1f2544;outline:none;transition:border-color .2s ease}.compose-modal__error{width:100%;font-size:12px;color:#e53935;min-height:16px;margin-top:4px;visibility:hidden}.compose-modal__error--visible{visibility:visible}.compose-modal__actions{display:flex;gap:16px;flex-wrap:wrap;margin-left:68px}.compose-modal__action-slot{display:inline-flex;margin-right:32px}@media(max-width: 600px){.compose-modal__actions{margin-left:0}}.compose-modal__textarea{width:calc(100% + 64px);min-height:350px;max-height:min(600px,60vh);border:none;border-top:1px solid #dbe1f1;border-bottom:1px solid #dbe1f1;border-radius:0;padding:32px 32px;font-size:16px;color:#1f2544;background:#fff;outline:none;transition:border-color .2s ease;margin:0 -32px;margin-bottom:-8px;line-height:1.5;overflow-y:auto;resize:vertical}.compose-modal__textarea::placeholder{color:#8f96ad}.compose-modal__footer{display:flex;justify-content:flex-end}.compose-modal__send-slot{display:inline-flex;width:137px;height:40px;border-radius:10px}"],sourceRoot:""}]);const l=a},6265:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<div class="auth-layout">\n    <div class="auth-layout__panel">\n        <a class="auth-layout__logo" data-slot="logo" href="#">\n            <img alt="Flintmail" class="auth-layout__logo-icon" src="/img/logo.svg" />\n            <span class="auth-layout__logo-text">flintmail</span>\n        </a>\n        <div class="auth-layout__content" data-slot="content"></div>\n    </div>\n</div>\n'},useData:!0})},6271:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<div class="compose-overlay" role="dialog" aria-modal="true">\r\n  <div class="compose-modal">\r\n    <button class="compose-modal__close" data-action="close" aria-label=" ">\r\n      <img src="/img/close-modal.svg" alt="" aria-hidden="true" />\r\n    </button>\r\n\r\n    <div class="compose-modal__body">\r\n      <div class="compose-modal__recipient">\r\n\r\n        <div class="compose-modal__inputs">\r\n          <div class="compose-modal__inputs-text">\r\n            : <input class="compose-modal__input" type="text" data-field="to" />\r\n          </div>\r\n          <div class="compose-modal__inputs-text">\r\n            : <input class="compose-modal__input" type="text" data-field="subject" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="compose-modal__actions">\r\n        <div class="compose-modal__action-slot" data-slot="attach"></div>\r\n        <div class="compose-modal__action-slot" data-slot="draft"></div>\r\n      </div>\r\n      <textarea class="compose-modal__textarea" placeholder=" " data-field="body"></textarea>\r\n      <div class="compose-modal__footer">\r\n        <div class="compose-modal__send-slot" data-slot="send"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n'},useData:!0})},6314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var l=0;l<this.length;l++){var u=this[l][0];null!=u&&(a[u]=!0)}for(var c=0;c<e.length;c++){var s=[].concat(e[c]);r&&a[s[0]]||(void 0!==i&&(void 0===s[5]||(s[1]="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {").concat(s[1],"}")),s[5]=i),n&&(s[2]?(s[1]="@media ".concat(s[2]," {").concat(s[1],"}"),s[2]=n):s[2]=n),o&&(s[4]?(s[1]="@supports (".concat(s[4],") {").concat(s[1],"}"),s[4]=o):s[4]="".concat(o)),t.push(s))}},t}},6562:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".auth-page{display:flex;flex-direction:column;align-items:stretch;text-align:left;width:100%;height:100%}.auth-page__title{font-size:40px;font-weight:600;margin-bottom:40px;color:#1f2937;text-align:center;margin-top:32px}.auth-page__form{display:flex;flex-direction:column;gap:32px;flex:1}.auth-page__actions{margin-top:24px;display:flex;flex-direction:column;gap:8px}.auth-page__actions .ui-button{width:100%}","",{version:3,sources:["webpack://./src/pages/auth/views/AuthPage.scss"],names:[],mappings:"AAAA,WAAW,YAAY,CAAC,qBAAqB,CAAC,mBAAmB,CAAC,eAAe,CAAC,UAAU,CAAC,WAAW,CAAC,kBAAkB,cAAc,CAAC,eAAe,CAAC,kBAAkB,CAAC,aAAa,CAAC,iBAAiB,CAAC,eAAe,CAAC,iBAAiB,YAAY,CAAC,qBAAqB,CAAC,QAAQ,CAAC,MAAM,CAAC,oBAAoB,eAAe,CAAC,YAAY,CAAC,qBAAqB,CAAC,OAAO,CAAC,+BAA+B,UAAU",sourcesContent:[".auth-page{display:flex;flex-direction:column;align-items:stretch;text-align:left;width:100%;height:100%}.auth-page__title{font-size:40px;font-weight:600;margin-bottom:40px;color:#1f2937;text-align:center;margin-top:32px}.auth-page__form{display:flex;flex-direction:column;gap:32px;flex:1}.auth-page__actions{margin-top:24px;display:flex;flex-direction:column;gap:8px}.auth-page__actions .ui-button{width:100%}"],sourceRoot:""}]);const l=a},6594:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".mail-view{display:flex;flex-direction:column;gap:24px;color:#1f2544;padding:8px}.mail-view__toolbar{display:flex;align-items:center;flex-wrap:wrap;gap:12px;margin-bottom:8px}.mail-view__toolbar-slot{display:inline-flex;align-items:center}.mail-view__toolbar-slot .ui-button{display:inline-flex;align-items:center;gap:8px;font-size:16px;font-weight:600;color:#000;padding:0}.mail-view__toolbar-slot .ui-button--link{text-decoration:none}.mail-view__toolbar-slot .ui-button__icon img{width:24px;height:24px}.mail-view__toolbar-slot--icon .ui-button__icon img{width:24px;height:24px;margin-right:32px}.mail-view__toolbar-slot--icon .ui-button{gap:0}.mail-view__subject{margin:0;font-size:20px;font-weight:600;line-height:1.5;color:#1b2140}.mail-view__summary{display:flex;gap:16px;align-items:flex-start}.mail-view__avatar{flex-shrink:0;width:48px;height:48px;border-radius:50%;background:#e5ecff;display:flex;align-items:center;justify-content:center;font-size:18px;font-weight:600;color:#2d3c66;overflow:hidden}.mail-view__avatar img{width:100%;height:100%;object-fit:cover}.mail-view__details{display:flex;flex-direction:column;gap:8px;width:100%}.mail-view__details-row{display:flex;align-items:center;gap:12px;flex-wrap:wrap;margin-bottom:-8px;line-height:1.5}.mail-view__from{font-weight:600;font-size:16px}.mail-view__email{font-size:16px;color:#6d7595}.mail-view__time{margin-left:auto;font-size:14px;color:#6d7595}.mail-view__label{font-size:16px;color:#6d7595}.mail-view__recipient{font-size:16px;color:#6d7595}.mail-view__body{padding-top:32px;border-top:1px solid #e4e7f3;font-size:16px;line-height:1.5;color:#242a48}.mail-view__body p{margin:0 0 16px}@media(max-width: 640px){.mail-view__toolbar{gap:8px}.mail-view__toolbar-slot .ui-button{font-size:16px}.mail-view__time{width:100%;margin-left:0;text-align:left}}","",{version:3,sources:["webpack://./src/pages/inbox/components/MailView/MailView.scss"],names:[],mappings:"AAAA,WAAW,YAAY,CAAC,qBAAqB,CAAC,QAAQ,CAAC,aAAa,CAAC,WAAW,CAAC,oBAAoB,YAAY,CAAC,kBAAkB,CAAC,cAAc,CAAC,QAAQ,CAAC,iBAAiB,CAAC,yBAAyB,mBAAmB,CAAC,kBAAkB,CAAC,oCAAoC,mBAAmB,CAAC,kBAAkB,CAAC,OAAO,CAAC,cAAc,CAAC,eAAe,CAAC,UAAU,CAAC,SAAS,CAAC,0CAA0C,oBAAoB,CAAC,8CAA8C,UAAU,CAAC,WAAW,CAAC,oDAAoD,UAAU,CAAC,WAAW,CAAC,iBAAiB,CAAC,0CAA0C,KAAK,CAAC,oBAAoB,QAAQ,CAAC,cAAc,CAAC,eAAe,CAAC,eAAe,CAAC,aAAa,CAAC,oBAAoB,YAAY,CAAC,QAAQ,CAAC,sBAAsB,CAAC,mBAAmB,aAAa,CAAC,UAAU,CAAC,WAAW,CAAC,iBAAiB,CAAC,kBAAkB,CAAC,YAAY,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,cAAc,CAAC,eAAe,CAAC,aAAa,CAAC,eAAe,CAAC,uBAAuB,UAAU,CAAC,WAAW,CAAC,gBAAgB,CAAC,oBAAoB,YAAY,CAAC,qBAAqB,CAAC,OAAO,CAAC,UAAU,CAAC,wBAAwB,YAAY,CAAC,kBAAkB,CAAC,QAAQ,CAAC,cAAc,CAAC,kBAAkB,CAAC,eAAe,CAAC,iBAAiB,eAAe,CAAC,cAAc,CAAC,kBAAkB,cAAc,CAAC,aAAa,CAAC,iBAAiB,gBAAgB,CAAC,cAAc,CAAC,aAAa,CAAC,kBAAkB,cAAc,CAAC,aAAa,CAAC,sBAAsB,cAAc,CAAC,aAAa,CAAC,iBAAiB,gBAAgB,CAAC,4BAA4B,CAAC,cAAc,CAAC,eAAe,CAAC,aAAa,CAAC,mBAAmB,eAAe,CAAC,yBAAyB,oBAAoB,OAAO,CAAC,oCAAoC,cAAc,CAAC,iBAAiB,UAAU,CAAC,aAAa,CAAC,eAAe,CAAC",sourcesContent:[".mail-view{display:flex;flex-direction:column;gap:24px;color:#1f2544;padding:8px}.mail-view__toolbar{display:flex;align-items:center;flex-wrap:wrap;gap:12px;margin-bottom:8px}.mail-view__toolbar-slot{display:inline-flex;align-items:center}.mail-view__toolbar-slot .ui-button{display:inline-flex;align-items:center;gap:8px;font-size:16px;font-weight:600;color:#000;padding:0}.mail-view__toolbar-slot .ui-button--link{text-decoration:none}.mail-view__toolbar-slot .ui-button__icon img{width:24px;height:24px}.mail-view__toolbar-slot--icon .ui-button__icon img{width:24px;height:24px;margin-right:32px}.mail-view__toolbar-slot--icon .ui-button{gap:0}.mail-view__subject{margin:0;font-size:20px;font-weight:600;line-height:1.5;color:#1b2140}.mail-view__summary{display:flex;gap:16px;align-items:flex-start}.mail-view__avatar{flex-shrink:0;width:48px;height:48px;border-radius:50%;background:#e5ecff;display:flex;align-items:center;justify-content:center;font-size:18px;font-weight:600;color:#2d3c66;overflow:hidden}.mail-view__avatar img{width:100%;height:100%;object-fit:cover}.mail-view__details{display:flex;flex-direction:column;gap:8px;width:100%}.mail-view__details-row{display:flex;align-items:center;gap:12px;flex-wrap:wrap;margin-bottom:-8px;line-height:1.5}.mail-view__from{font-weight:600;font-size:16px}.mail-view__email{font-size:16px;color:#6d7595}.mail-view__time{margin-left:auto;font-size:14px;color:#6d7595}.mail-view__label{font-size:16px;color:#6d7595}.mail-view__recipient{font-size:16px;color:#6d7595}.mail-view__body{padding-top:32px;border-top:1px solid #e4e7f3;font-size:16px;line-height:1.5;color:#242a48}.mail-view__body p{margin:0 0 16px}@media(max-width: 640px){.mail-view__toolbar{gap:8px}.mail-view__toolbar-slot .ui-button{font-size:16px}.mail-view__time{width:100%;margin-left:0;text-align:left}}"],sourceRoot:""}]);const l=a},6785:(e,t,n)=>{"use strict";t.__esModule=!0;var r,o=n(2849),i=(r=n(3769))&&r.__esModule?r:{default:r};t.default=function(e){e.registerHelper("each",function(e,t){if(!t)throw new i.default("Must pass iterator to #each");var n,r=t.fn,a=t.inverse,l=0,u="",c=void 0,s=void 0;function f(t,n,i){c&&(c.key=t,c.index=n,c.first=0===n,c.last=!!i,s&&(c.contextPath=s+t)),u+=r(e[t],{data:c,blockParams:o.blockParams([e[t],t],[s+t,null])})}if(t.data&&t.ids&&(s=o.appendContextPath(t.data.contextPath,t.ids[0])+"."),o.isFunction(e)&&(e=e.call(this)),t.data&&(c=o.createFrame(t.data)),e&&"object"==typeof e)if(o.isArray(e))for(var p=e.length;l<p;l++)l in e&&f(l,l,l===e.length-1);else if("function"==typeof Symbol&&e[Symbol.iterator]){for(var d=[],A=e[Symbol.iterator](),h=A.next();!h.done;h=A.next())d.push(h.value);for(p=(e=d).length;l<p;l++)f(l,l,l===e.length-1)}else n=void 0,Object.keys(e).forEach(function(e){void 0!==n&&f(n,l-1),n=e,l++}),void 0!==n&&f(n,l-1,!0);return 0===l&&(u=a(this)),u})},e.exports=t.default},7135:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".mail-list{display:flex;flex-direction:column;gap:16px}.mail-list__header{display:flex;align-items:center;justify-content:space-between}.mail-list__title{font-weight:700;font-size:18px;color:#1f2937}.mail-list__items{display:flex;flex-direction:column;gap:8px}.mail-list__empty{display:flex;align-items:center;justify-content:center;min-height:200px;color:#6b7280;font-size:16px;text-align:center}","",{version:3,sources:["webpack://./src/shared/widgets/MailList/MailList.scss"],names:[],mappings:"AAAA,WAAW,YAAY,CAAC,qBAAqB,CAAC,QAAQ,CAAC,mBAAmB,YAAY,CAAC,kBAAkB,CAAC,6BAA6B,CAAC,kBAAkB,eAAe,CAAC,cAAc,CAAC,aAAa,CAAC,kBAAkB,YAAY,CAAC,qBAAqB,CAAC,OAAO,CAAC,kBAAkB,YAAY,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,gBAAgB,CAAC,aAAa,CAAC,cAAc,CAAC,iBAAiB",sourcesContent:[".mail-list{display:flex;flex-direction:column;gap:16px}.mail-list__header{display:flex;align-items:center;justify-content:space-between}.mail-list__title{font-weight:700;font-size:18px;color:#1f2937}.mail-list__items{display:flex;flex-direction:column;gap:8px}.mail-list__empty{display:flex;align-items:center;justify-content:center;min-height:200px;color:#6b7280;font-size:16px;text-align:center}"],sourceRoot:""}]);const l=a},7430:(e,t,n)=>{"use strict";t.__esModule=!0;var r=n(2849);t.default=function(e){e.registerDecorator("inline",function(e,t,n,o){var i=e;return t.partials||(t.partials={},i=function(o,i){var a=n.partials;n.partials=r.extend({},a,t.partials);var l=e(o,i);return n.partials=a,l}),t.partials[o.args[0]]=o.fn,i})},e.exports=t.default},7466:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("lookup",function(e,t,n){return e?n.lookupProperty(e,t):e})},e.exports=t.default},7624:(e,t,n)=>{"use strict";t.__esModule=!0,t.checkRevision=function(e){var t=e&&e[0]||1,n=a.COMPILER_REVISION;if(!(t>=a.LAST_COMPATIBLE_COMPILER_REVISION&&t<=a.COMPILER_REVISION)){if(t<a.LAST_COMPATIBLE_COMPILER_REVISION){var r=a.REVISION_CHANGES[n],o=a.REVISION_CHANGES[t];throw new i.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+o+").")}throw new i.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}},t.template=function(e,t){if(!t)throw new i.default("No environment passed to template");if(!e||!e.main)throw new i.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var n=e.compiler&&7===e.compiler[0],r={strict:function(e,t,n){if(!e||!(t in e))throw new i.default('"'+t+'" not defined in '+e,{loc:n});return r.lookupProperty(e,t)},lookupProperty:function(e,t){var n=e[t];return null==n||Object.prototype.hasOwnProperty.call(e,t)||c.resultIsAllowed(n,r.protoAccessControl,t)?n:void 0},lookup:function(e,t){for(var n=e.length,o=0;o<n;o++)if(null!=(e[o]&&r.lookupProperty(e[o],t)))return e[o][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:o.escapeExpression,invokePartial:function(n,r,a){a.hash&&(r=o.extend({},r,a.hash),a.ids&&(a.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,r,a);var l=o.extend({},a,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),u=t.VM.invokePartial.call(this,n,r,l);if(null==u&&t.compile&&(a.partials[a.name]=t.compile(n,e.compilerOptions,t),u=a.partials[a.name](r,l)),null!=u){if(a.indent){for(var c=u.split("\n"),s=0,f=c.length;s<f&&(c[s]||s+1!==f);s++)c[s]=a.indent+c[s];u=c.join("\n")}return u}throw new i.default("The partial "+a.name+" could not be compiled when running in runtime-only mode")},fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,r,o){var i=this.programs[e],a=this.fn(e);return t||o||r||n?i=s(this,e,a,t,n,r,o):i||(i=this.programs[e]=s(this,e,a)),i},data:function(e,t){for(;e&&t--;)e=e._parent;return e},mergeIfNeeded:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=o.extend({},t,e)),n},nullContext:Object.seal({}),noop:t.VM.noop,compilerInfo:e.compiler};function f(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=n.data;f._setup(n),!n.partial&&e.useData&&(o=function(e,t){return t&&"root"in t||((t=t?a.createFrame(t):{}).root=e),t}(t,o));var i=void 0,l=e.useBlockParams?[]:void 0;function u(t){return""+e.main(r,t,r.helpers,r.partials,o,l,i)}return e.useDepths&&(i=n.depths?t!=n.depths[0]?[t].concat(n.depths):n.depths:[t]),(u=p(e.main,u,r,n.depths||[],o,l))(t,n)}return f.isTop=!0,f._setup=function(i){if(i.partial)r.protoAccessControl=i.protoAccessControl,r.helpers=i.helpers,r.partials=i.partials,r.decorators=i.decorators,r.hooks=i.hooks;else{var a=o.extend({},t.helpers,i.helpers);!function(e,t){Object.keys(e).forEach(function(n){var r=e[n];e[n]=function(e,t){var n=t.lookupProperty;return u.wrapHelper(e,function(e){return o.extend({lookupProperty:n},e)})}(r,t)})}(a,r),r.helpers=a,e.usePartial&&(r.partials=r.mergeIfNeeded(i.partials,t.partials)),(e.usePartial||e.useDecorators)&&(r.decorators=o.extend({},t.decorators,i.decorators)),r.hooks={},r.protoAccessControl=c.createProtoAccessControl(i);var s=i.allowCallsToHelperMissing||n;l.moveHelperToHooks(r,"helperMissing",s),l.moveHelperToHooks(r,"blockHelperMissing",s)}},f._child=function(t,n,o,a){if(e.useBlockParams&&!o)throw new i.default("must pass block params");if(e.useDepths&&!a)throw new i.default("must pass parent depths");return s(r,t,e[t],n,0,o,a)},f},t.wrapProgram=s,t.resolvePartial=function(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],e},t.invokePartial=function(e,t,n){var r=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var l=void 0;if(n.fn&&n.fn!==f&&function(){n.data=a.createFrame(n.data);var e=n.fn;l=n.data["partial-block"]=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=a.createFrame(n.data),n.data["partial-block"]=r,e(t,n)},e.partials&&(n.partials=o.extend({},n.partials,e.partials))}(),void 0===e&&l&&(e=l),void 0===e)throw new i.default("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)},t.noop=f;var r,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2849)),i=(r=n(3769))&&r.__esModule?r:{default:r},a=n(2871),l=n(2277),u=n(2614),c=n(3865);function s(e,t,n,r,o,i,a){function l(t){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],l=a;return!a||t==a[0]||t===e.nullContext&&null===a[0]||(l=[t].concat(a)),n(e,t,e.helpers,e.partials,o.data||r,i&&[o.blockParams].concat(i),l)}return(l=p(n,l,e,a,r,i)).program=t,l.depth=a?a.length:0,l.blockParams=o||0,l}function f(){return""}function p(e,t,n,r,i,a){if(e.decorator){var l={};t=e.decorator(t,l,n,r&&r[0],i,a,r),o.extend(t,l)}return t}},7659:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},7825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},7867:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({1:function(e,t,n,r,o,i,a){var l,u,c=e.escapeExpression,s=null!=t?t:e.nullContext||{},f=e.hooks.helperMissing,p="function",d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <label class="radio-group__option">\r\n                <input\r\n                    type="radio"\r\n                    name="'+c(e.lambda(null!=a[1]?d(a[1],"name"):a[1],t))+'"\r\n                    value="'+c(typeof(u=null!=(u=d(n,"value")||(null!=t?d(t,"value"):t))?u:f)===p?u.call(s,{name:"value",hash:{},data:o,loc:{start:{line:9,column:27},end:{line:9,column:36}}}):u)+'"\r\n                    '+(null!=(l=d(n,"if").call(s,null!=t?d(t,"checked"):t,{name:"if",hash:{},fn:e.program(2,o,0,i,a),inverse:e.noop,data:o,loc:{start:{line:10,column:20},end:{line:10,column:49}}}))?l:"")+'\r\n                    data-value="'+c(typeof(u=null!=(u=d(n,"value")||(null!=t?d(t,"value"):t))?u:f)===p?u.call(s,{name:"value",hash:{},data:o,loc:{start:{line:11,column:32},end:{line:11,column:41}}}):u)+'"\r\n                />\r\n                <span>'+c(typeof(u=null!=(u=d(n,"label")||(null!=t?d(t,"label"):t))?u:f)===p?u.call(s,{name:"label",hash:{},data:o,loc:{start:{line:13,column:22},end:{line:13,column:31}}}):u)+"</span>\r\n            </label>\r\n"},2:function(e,t,n,r,o){return"checked"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o,i,a){var l,u,c=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<fieldset class="radio-group">\r\n    <div class="radio-group__options">\r\n        <legend class="radio-group__label">'+e.escapeExpression("function"==typeof(u=null!=(u=s(n,"label")||(null!=t?s(t,"label"):t))?u:e.hooks.helperMissing)?u.call(c,{name:"label",hash:{},data:o,loc:{start:{line:3,column:43},end:{line:3,column:52}}}):u)+"</legend>\r\n"+(null!=(l=s(n,"each").call(c,null!=t?s(t,"options"):t,{name:"each",hash:{},fn:e.program(1,o,0,i,a),inverse:e.noop,data:o,loc:{start:{line:4,column:8},end:{line:15,column:17}}}))?l:"")+"    </div>\r\n</fieldset>\r\n"},useData:!0,useDepths:!0})},8200:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".register-page{display:flex;flex-direction:column;align-items:stretch;text-align:center;height:100%}.register-page__title{font-size:40px;font-weight:600;color:#000;text-align:center}.register-page__form{display:flex;flex-direction:column;flex:1}.register-page__actions{margin-top:8px;display:flex;flex-direction:column}.register-page__actions .ui-button{width:100%}","",{version:3,sources:["webpack://./src/pages/register/views/RegisterPage.scss"],names:[],mappings:"AAAA,eAAe,YAAY,CAAC,qBAAqB,CAAC,mBAAmB,CAAC,iBAAiB,CAAC,WAAW,CAAC,sBAAsB,cAAc,CAAC,eAAe,CAAC,UAAU,CAAC,iBAAiB,CAAC,qBAAqB,YAAY,CAAC,qBAAqB,CAAC,MAAM,CAAC,wBAAwB,cAAc,CAAC,YAAY,CAAC,qBAAqB,CAAC,mCAAmC,UAAU",sourcesContent:[".register-page{display:flex;flex-direction:column;align-items:stretch;text-align:center;height:100%}.register-page__title{font-size:40px;font-weight:600;color:#000;text-align:center}.register-page__form{display:flex;flex-direction:column;flex:1}.register-page__actions{margin-top:8px;display:flex;flex-direction:column}.register-page__actions .ui-button{width:100%}"],sourceRoot:""}]);const l=a},8238:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<section class="mail-list">\n    <div class="mail-list__items"></div>\n</section>\n'},useData:!0})},8299:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return" ui-button--block"},3:function(e,t,n,r,o){return"disabled"},5:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'aria-label="'+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"ariaLabel")||(null!=t?a(t,"ariaLabel"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"ariaLabel",hash:{},data:o,loc:{start:{line:5,column:33},end:{line:5,column:46}}}):i)+'"'},7:function(e,t,n,r,o){var i,a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <span class="ui-button__icon">'+(null!=(i="function"==typeof(a=null!=(a=l(n,"icon")||(null!=t?l(t,"icon"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"icon",hash:{},data:o,loc:{start:{line:8,column:38},end:{line:8,column:48}}}):a)?i:"")+"</span>\n"},9:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <span class="ui-button__label">'+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"label")||(null!=t?a(t,"label"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"label",hash:{},data:o,loc:{start:{line:11,column:39},end:{line:11,column:48}}}):i)+"</span>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a,l=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,c="function",s=e.escapeExpression,f=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<button\n    class="ui-button ui-button--'+s(typeof(a=null!=(a=f(n,"variant")||(null!=t?f(t,"variant"):t))?a:u)===c?a.call(l,{name:"variant",hash:{},data:o,loc:{start:{line:2,column:32},end:{line:2,column:43}}}):a)+(null!=(i=f(n,"if").call(l,null!=t?f(t,"fullWidth"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:2,column:43},end:{line:2,column:84}}}))?i:"")+'"\n    type="'+s(typeof(a=null!=(a=f(n,"type")||(null!=t?f(t,"type"):t))?a:u)===c?a.call(l,{name:"type",hash:{},data:o,loc:{start:{line:3,column:10},end:{line:3,column:18}}}):a)+'"\n    '+(null!=(i=f(n,"if").call(l,null!=t?f(t,"disabled"):t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:4,column:4},end:{line:4,column:35}}}))?i:"")+"\n    "+(null!=(i=f(n,"if").call(l,null!=t?f(t,"ariaLabel"):t,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o,loc:{start:{line:5,column:4},end:{line:5,column:54}}}))?i:"")+"\n>\n"+(null!=(i=f(n,"if").call(l,null!=t?f(t,"icon"):t,{name:"if",hash:{},fn:e.program(7,o,0),inverse:e.noop,data:o,loc:{start:{line:7,column:4},end:{line:9,column:11}}}))?i:"")+(null!=(i=f(n,"if").call(l,null!=t?f(t,"label"):t,{name:"if",hash:{},fn:e.program(9,o,0),inverse:e.noop,data:o,loc:{start:{line:10,column:4},end:{line:12,column:11}}}))?i:"")+"</button>\n"},useData:!0})},8441:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".avatar-menu{display:flex;flex-direction:column;padding-top:8px;padding-bottom:8px;width:191px;height:137px;gap:4px}.avatar-menu__item{padding-left:12px}.avatar-menu .ui-button{width:100%;justify-content:flex-start;gap:12px;padding:10px;border-radius:10px;font-size:16px;color:#1f2544}.avatar-menu .ui-button:hover:not(:disabled){background:rgba(81,99,235,.08);text-decoration:none}.avatar-menu .ui-button__icon img{width:24px;height:24px}","",{version:3,sources:["webpack://./src/shared/widgets/AvatarMenu/AvatarMenu.scss"],names:[],mappings:"AAAA,aAAa,YAAY,CAAC,qBAAqB,CAAC,eAAe,CAAC,kBAAkB,CAAC,WAAW,CAAC,YAAY,CAAC,OAAO,CAAC,mBAAmB,iBAAiB,CAAC,wBAAwB,UAAU,CAAC,0BAA0B,CAAC,QAAQ,CAAC,YAAY,CAAC,kBAAkB,CAAC,cAAc,CAAC,aAAa,CAAC,6CAA6C,8BAA8B,CAAC,oBAAoB,CAAC,kCAAkC,UAAU,CAAC,WAAW",sourcesContent:[".avatar-menu{display:flex;flex-direction:column;padding-top:8px;padding-bottom:8px;width:191px;height:137px;gap:4px}.avatar-menu__item{padding-left:12px}.avatar-menu .ui-button{width:100%;justify-content:flex-start;gap:12px;padding:10px;border-radius:10px;font-size:16px;color:#1f2544}.avatar-menu .ui-button:hover:not(:disabled){background:rgba(81,99,235,.08);text-decoration:none}.avatar-menu .ui-button__icon img{width:24px;height:24px}"],sourceRoot:""}]);const l=a},8542:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".auth-form{display:flex;flex-direction:column;gap:12px;width:100%}.auth-form__fields{display:flex;flex-direction:column;gap:32px;margin-top:32px}.auth-form__error{min-height:20px;color:var(--color-error, #d14343);font-size:14px;line-height:20px;margin-top:-12px;margin-bottom:32px;visibility:hidden;opacity:0;transition:opacity .15s ease}.auth-form__error--visible{visibility:visible;opacity:1}.auth-form__forgot{align-self:flex-start;font-size:14px;color:#5163eb;font-weight:600;text-decoration:none;transition:color .15s ease;margin-top:8px;margin-bottom:40px}.auth-form__forgot:hover{color:#3242b0}.auth-form__actions{display:flex;flex-direction:column;gap:8px;margin-bottom:-16px}.auth-form__actions .ui-button{width:100%}.auth-form__field{position:relative}","",{version:3,sources:["webpack://./src/pages/auth/components/AuthForm/AuthForm.scss"],names:[],mappings:"AAAA,WAAW,YAAY,CAAC,qBAAqB,CAAC,QAAQ,CAAC,UAAU,CAAC,mBAAmB,YAAY,CAAC,qBAAqB,CAAC,QAAQ,CAAC,eAAe,CAAC,kBAAkB,eAAe,CAAC,iCAAiC,CAAC,cAAc,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,iBAAiB,CAAC,SAAS,CAAC,4BAA4B,CAAC,2BAA2B,kBAAkB,CAAC,SAAS,CAAC,mBAAmB,qBAAqB,CAAC,cAAc,CAAC,aAAa,CAAC,eAAe,CAAC,oBAAoB,CAAC,0BAA0B,CAAC,cAAc,CAAC,kBAAkB,CAAC,yBAAyB,aAAa,CAAC,oBAAoB,YAAY,CAAC,qBAAqB,CAAC,OAAO,CAAC,mBAAmB,CAAC,+BAA+B,UAAU,CAAC,kBAAkB,iBAAiB",sourcesContent:[".auth-form{display:flex;flex-direction:column;gap:12px;width:100%}.auth-form__fields{display:flex;flex-direction:column;gap:32px;margin-top:32px}.auth-form__error{min-height:20px;color:var(--color-error, #d14343);font-size:14px;line-height:20px;margin-top:-12px;margin-bottom:32px;visibility:hidden;opacity:0;transition:opacity .15s ease}.auth-form__error--visible{visibility:visible;opacity:1}.auth-form__forgot{align-self:flex-start;font-size:14px;color:#5163eb;font-weight:600;text-decoration:none;transition:color .15s ease;margin-top:8px;margin-bottom:40px}.auth-form__forgot:hover{color:#3242b0}.auth-form__actions{display:flex;flex-direction:column;gap:8px;margin-bottom:-16px}.auth-form__actions .ui-button{width:100%}.auth-form__field{position:relative}"],sourceRoot:""}]);const l=a},8561:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,u="function",c=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="header__search"><input class="header__search-input" type="text" placeholder="'+c(typeof(i=null!=(i=s(n,"placeholder")||(null!=t?s(t,"placeholder"):t))?i:l)===u?i.call(a,{name:"placeholder",hash:{},data:o,loc:{start:{line:1,column:89},end:{line:1,column:104}}}):i)+'" value="'+c(typeof(i=null!=(i=s(n,"value")||(null!=t?s(t,"value"):t))?i:l)===u?i.call(a,{name:"value",hash:{},data:o,loc:{start:{line:1,column:113},end:{line:1,column:122}}}):i)+'" data-input/></div>\r\n'},useData:!0})},9166:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,u="function",c=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <img src="'+c(typeof(i=null!=(i=s(n,"avatarUrl")||(null!=t?s(t,"avatarUrl"):t))?i:l)===u?i.call(a,{name:"avatarUrl",hash:{},data:o,loc:{start:{line:17,column:18},end:{line:17,column:31}}}):i)+'" alt="'+c(typeof(i=null!=(i=s(n,"from")||(null!=t?s(t,"from"):t))?i:l)===u?i.call(a,{name:"from",hash:{},data:o,loc:{start:{line:17,column:38},end:{line:17,column:46}}}):i)+'" loading="lazy" decoding="async" />\n'},3:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        <span>"+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"initials")||(null!=t?a(t,"initials"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"initials",hash:{},data:o,loc:{start:{line:19,column:14},end:{line:19,column:26}}}):i)+"</span>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a,l=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,c="function",s=e.escapeExpression,f=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="mail-view">\r\n  <div class="mail-view__toolbar">\r\n    <div class="mail-view__toolbar-slot mail-view__toolbar-slot--icon" data-slot="back"></div>\r\n    <div class="mail-view__toolbar-slot" data-slot="reply"></div>\r\n    <div class="mail-view__toolbar-slot" data-slot="forward"></div>\r\n    <div class="mail-view__toolbar-slot" data-slot="folder"></div>\r\n    <div class="mail-view__toolbar-slot" data-slot="delete"></div>\r\n    <div class="mail-view__toolbar-slot" data-slot="spam"></div>\r\n    \r\n  </div>\r\n\r\n  <h1 class="mail-view__subject">'+s(typeof(a=null!=(a=f(n,"subject")||(null!=t?f(t,"subject"):t))?a:u)===c?a.call(l,{name:"subject",hash:{},data:o,loc:{start:{line:12,column:33},end:{line:12,column:44}}}):a)+'</h1>\r\n\r\n  <div class="mail-view__summary">\r\n    <div class="mail-view__avatar">\r\n'+(null!=(i=f(n,"if").call(l,null!=t?f(t,"avatarUrl"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:16,column:6},end:{line:20,column:13}}}))?i:"")+'    </div>\r\n\r\n    <div class="mail-view__details">\r\n      <div class="mail-view__details-row">\r\n        <span class="mail-view__from">'+s(typeof(a=null!=(a=f(n,"from")||(null!=t?f(t,"from"):t))?a:u)===c?a.call(l,{name:"from",hash:{},data:o,loc:{start:{line:25,column:38},end:{line:25,column:46}}}):a)+'</span>\r\n        <span class="mail-view__email">'+s(typeof(a=null!=(a=f(n,"fromEmail")||(null!=t?f(t,"fromEmail"):t))?a:u)===c?a.call(l,{name:"fromEmail",hash:{},data:o,loc:{start:{line:26,column:39},end:{line:26,column:52}}}):a)+'</span>\r\n      </div>\r\n      <div class="mail-view__details-row">\r\n        <span class="mail-view__label">:</span>\r\n        <span class="mail-view__recipient">'+s(typeof(a=null!=(a=f(n,"recipient")||(null!=t?f(t,"recipient"):t))?a:u)===c?a.call(l,{name:"recipient",hash:{},data:o,loc:{start:{line:30,column:43},end:{line:30,column:56}}}):a)+'</span>\r\n        <span class="mail-view__time">'+s(typeof(a=null!=(a=f(n,"time")||(null!=t?f(t,"time"):t))?a:u)===c?a.call(l,{name:"time",hash:{},data:o,loc:{start:{line:31,column:38},end:{line:31,column:46}}}):a)+'</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="mail-view__body">'+(null!=(i=typeof(a=null!=(a=f(n,"body")||(null!=t?f(t,"body"):t))?a:u)===c?a.call(l,{name:"body",hash:{},data:o,loc:{start:{line:36,column:31},end:{line:36,column:41}}}):a)?i:"")+"</div>\r\n</div>\r\n"},useData:!0})},9204:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){return'<div class="avatar-menu">\r\n  <div class="avatar-menu__item" data-slot="profile"></div>\r\n  <div class="avatar-menu__item" data-slot="settings"></div>\r\n  <div class="avatar-menu__item" data-slot="logout"></div>\r\n</div>\r\n'},useData:!0})},9309:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<form class="auth-form" data-form novalidate>\n    <div class="auth-form__fields">\n        <div class="auth-form__field" data-slot="login"></div>\n        <div class="auth-form__field" data-slot="password"></div>\n    </div>\n    <div class="auth-form__error" data-slot="error" aria-live="polite"></div>\n    <a href="#" class="auth-form__forgot" data-action="forgot">'+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"forgotPasswordText")||(null!=t?a(t,"forgotPasswordText"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"forgotPasswordText",hash:{},data:o,loc:{start:{line:7,column:63},end:{line:7,column:85}}}):i)+'</a>\n    <div class="auth-form__actions" data-slot="submit"></div>\n</form>\n'},useData:!0})},9407:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return"mail-item--unread"},3:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,u="function",c=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <img\n              src="'+c(typeof(i=null!=(i=s(n,"avatarUrl")||(null!=t?s(t,"avatarUrl"):t))?i:l)===u?i.call(a,{name:"avatarUrl",hash:{},data:o,loc:{start:{line:6,column:19},end:{line:6,column:32}}}):i)+'"\n              alt="'+c(typeof(i=null!=(i=s(n,"from")||(null!=t?s(t,"from"):t))?i:l)===u?i.call(a,{name:"from",hash:{},data:o,loc:{start:{line:7,column:19},end:{line:7,column:27}}}):i)+'"\n              class="mail-item__avatar mail-item__avatar-image"\n              loading="lazy"\n              decoding="async"\n            />\n'},5:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <div class="mail-item__avatar mail-item__avatar--placeholder">'+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"initials")||(null!=t?a(t,"initials"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"initials",hash:{},data:o,loc:{start:{line:13,column:74},end:{line:13,column:86}}}):i)+"</div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a,l=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,c="function",s=e.escapeExpression,f=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<article class="mail-item '+(null!=(i=f(n,"unless").call(l,null!=t?f(t,"isRead"):t,{name:"unless",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:1,column:26},end:{line:1,column:72}}}))?i:"")+'" data-mail-id="'+s(typeof(a=null!=(a=f(n,"id")||(null!=t?f(t,"id"):t))?a:u)===c?a.call(l,{name:"id",hash:{},data:o,loc:{start:{line:1,column:88},end:{line:1,column:94}}}):a)+'">\n    <div class="mail-item__left">\n        <div class="mail-item__status" aria-hidden="true"></div>\n'+(null!=(i=f(n,"if").call(l,null!=t?f(t,"avatarUrl"):t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.program(5,o,0),data:o,loc:{start:{line:4,column:8},end:{line:14,column:15}}}))?i:"")+'        <span class="mail-item__from" title="'+s(typeof(a=null!=(a=f(n,"from")||(null!=t?f(t,"from"):t))?a:u)===c?a.call(l,{name:"from",hash:{},data:o,loc:{start:{line:15,column:45},end:{line:15,column:53}}}):a)+'">'+s(typeof(a=null!=(a=f(n,"from")||(null!=t?f(t,"from"):t))?a:u)===c?a.call(l,{name:"from",hash:{},data:o,loc:{start:{line:15,column:55},end:{line:15,column:63}}}):a)+'</span>\n    </div>\n\n    <span class="mail-item__subject" title="'+s(typeof(a=null!=(a=f(n,"subject")||(null!=t?f(t,"subject"):t))?a:u)===c?a.call(l,{name:"subject",hash:{},data:o,loc:{start:{line:18,column:44},end:{line:18,column:55}}}):a)+'">'+s(typeof(a=null!=(a=f(n,"subject")||(null!=t?f(t,"subject"):t))?a:u)===c?a.call(l,{name:"subject",hash:{},data:o,loc:{start:{line:18,column:57},end:{line:18,column:68}}}):a)+'</span>\n    <span class="mail-item__preview" title="'+s(typeof(a=null!=(a=f(n,"preview")||(null!=t?f(t,"preview"):t))?a:u)===c?a.call(l,{name:"preview",hash:{},data:o,loc:{start:{line:19,column:44},end:{line:19,column:55}}}):a)+'">'+s(typeof(a=null!=(a=f(n,"preview")||(null!=t?f(t,"preview"):t))?a:u)===c?a.call(l,{name:"preview",hash:{},data:o,loc:{start:{line:19,column:57},end:{line:19,column:68}}}):a)+'</span>\n    <time class="mail-item__time">'+s(typeof(a=null!=(a=f(n,"time")||(null!=t?f(t,"time"):t))?a:u)===c?a.call(l,{name:"time",hash:{},data:o,loc:{start:{line:20,column:34},end:{line:20,column:42}}}):a)+"</time>\n</article>\n"},useData:!0})},9613:(e,t)=>{"use strict";function n(e){this.string=e}t.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},t.default=n,e.exports=t.default},9683:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".sidebar{display:flex;flex-direction:column;gap:8px}.sidebar__compose{padding:10px 10px;border-radius:12px;background:#fff;color:#5163eb;border:2px solid #5163eb;font-weight:600;cursor:pointer;transition:box-shadow .15s ease,transform .15s ease}.sidebar__folders{list-style:none;margin:0;padding:0;overflow-y:auto;display:flex;flex-direction:column;gap:8px}","",{version:3,sources:["webpack://./src/shared/widgets/Sidebar/Sidebar.scss"],names:[],mappings:"AAAA,SAAS,YAAY,CAAC,qBAAqB,CAAC,OAAO,CAAC,kBAAkB,iBAAiB,CAAC,kBAAkB,CAAC,eAAe,CAAC,aAAa,CAAC,wBAAwB,CAAC,eAAe,CAAC,cAAc,CAAC,mDAAmD,CAAC,kBAAkB,eAAe,CAAC,QAAQ,CAAC,SAAS,CAAC,eAAe,CAAC,YAAY,CAAC,qBAAqB,CAAC,OAAO",sourcesContent:[".sidebar{display:flex;flex-direction:column;gap:8px}.sidebar__compose{padding:10px 10px;border-radius:12px;background:#fff;color:#5163eb;border:2px solid #5163eb;font-weight:600;cursor:pointer;transition:box-shadow .15s ease,transform .15s ease}.sidebar__folders{list-style:none;margin:0;padding:0;overflow-y:auto;display:flex;flex-direction:column;gap:8px}"],sourceRoot:""}]);const l=a},9726:(e,t,n)=>{"use strict";t.__esModule=!0,t.createNewLookupObject=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.extend.apply(void 0,[Object.create(null)].concat(t))};var r=n(2849)},9783:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i)()(o());a.push([e.id,".header{display:flex;align-items:center;width:100%}.header__logo{display:inline-flex;align-items:center;gap:10px;font-weight:600;text-transform:none;color:#5163eb}.header__logo-icon{width:32px;height:32px}.header__logo-text{font-size:40px;line-height:1}.header__center{flex:1 1 auto;display:flex;align-items:center;justify-content:flex-start;margin-left:24px}.header__right{position:relative;display:flex;gap:16px;align-items:center}.header__avatar-menu{position:absolute;right:0;top:calc(100% + 12px);display:none;min-width:200px;background:#fff;box-shadow:0 10px 32px rgba(17,24,56,.18);border-radius:16px;z-index:1000;pointer-events:auto;padding:6px 4px;border:1px solid rgba(81,99,235,.1)}.header__avatar-menu.open{display:block}","",{version:3,sources:["webpack://./src/shared/widgets/Header/Header.scss"],names:[],mappings:"AAAA,QAAQ,YAAY,CAAC,kBAAkB,CAAC,UAAU,CAAC,cAAc,mBAAmB,CAAC,kBAAkB,CAAC,QAAQ,CAAC,eAAe,CAAC,mBAAmB,CAAC,aAAa,CAAC,mBAAmB,UAAU,CAAC,WAAW,CAAC,mBAAmB,cAAc,CAAC,aAAa,CAAC,gBAAgB,aAAa,CAAC,YAAY,CAAC,kBAAkB,CAAC,0BAA0B,CAAC,gBAAgB,CAAC,eAAe,iBAAiB,CAAC,YAAY,CAAC,QAAQ,CAAC,kBAAkB,CAAC,qBAAqB,iBAAiB,CAAC,OAAO,CAAC,qBAAqB,CAAC,YAAY,CAAC,eAAe,CAAC,eAAe,CAAC,yCAAyC,CAAC,kBAAkB,CAAC,YAAY,CAAC,mBAAmB,CAAC,eAAe,CAAC,mCAAmC,CAAC,0BAA0B,aAAa",sourcesContent:[".header{display:flex;align-items:center;width:100%}.header__logo{display:inline-flex;align-items:center;gap:10px;font-weight:600;text-transform:none;color:#5163eb}.header__logo-icon{width:32px;height:32px}.header__logo-text{font-size:40px;line-height:1}.header__center{flex:1 1 auto;display:flex;align-items:center;justify-content:flex-start;margin-left:24px}.header__right{position:relative;display:flex;gap:16px;align-items:center}.header__avatar-menu{position:absolute;right:0;top:calc(100% + 12px);display:none;min-width:200px;background:#fff;box-shadow:0 10px 32px rgba(17,24,56,.18);border-radius:16px;z-index:1000;pointer-events:auto;padding:6px 4px;border:1px solid rgba(81,99,235,.1)}.header__avatar-menu.open{display:block}"],sourceRoot:""}]);const l=a},9882:(e,t,n)=>{var r=n(3633);e.exports=(r.default||r).template({1:function(e,t,n,r,o){var i,a=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,u="function",c=e.escapeExpression,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <img src="'+c(typeof(i=null!=(i=s(n,"avatarUrl")||(null!=t?s(t,"avatarUrl"):t))?i:l)===u?i.call(a,{name:"avatarUrl",hash:{},data:o,loc:{start:{line:7,column:18},end:{line:7,column:31}}}):i)+'" alt="'+c(typeof(i=null!=(i=s(n,"fullName")||(null!=t?s(t,"fullName"):t))?i:l)===u?i.call(a,{name:"fullName",hash:{},data:o,loc:{start:{line:7,column:38},end:{line:7,column:50}}}):i)+'" loading="lazy" decoding="async" />\n'},3:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        <span>"+e.escapeExpression("function"==typeof(i=null!=(i=a(n,"initials")||(null!=t?a(t,"initials"):t))?i:e.hooks.helperMissing)?i.call(null!=t?t:e.nullContext||{},{name:"initials",hash:{},data:o,loc:{start:{line:9,column:14},end:{line:9,column:26}}}):i)+"</span>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,o){var i,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="profile-form">\n  <h1 class="profile-form__title"></h1>\n\n  <div class="profile-form__content">\n    <div class="profile-form__avatar">\n'+(null!=(i=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"avatarUrl"):t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o,loc:{start:{line:6,column:6},end:{line:10,column:13}}}))?i:"")+'      <div class="profile-form__upload" data-slot="upload"></div>\n    </div>\n\n    <div class="profile-form__fields">\n      <div class="profile-form__field" data-slot="firstName"></div>\n      <div class="profile-form__field" data-slot="lastName"></div>\n      <div class="profile-form__field" data-slot="middleName"></div>\n      <div class="profile-form__field profile-form__field--half" data-slot="birthDate"></div>\n      <div class="profile-form__field profile-form__field--half" data-slot="gender"></div>\n\n      <div class="profile-form__actions">\n        <div data-slot="save"></div>\n        <div data-slot="cancel"></div>\n      </div>\n    </div>\n  </div>\n</div>\n'},useData:!0})}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.p="/",n.b="undefined"!=typeof document&&document.baseURI||self.location.href,n.nc=void 0,(()=>{"use strict";var e=["parseJson","headers","body","skipAuthRefresh"];function t(){var e,n,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.toStringTag||"@@toStringTag";function l(t,o,i,a){var l=o&&o.prototype instanceof c?o:c,s=Object.create(l.prototype);return r(s,"_invoke",function(t,r,o){var i,a,l,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,a=0,l=e,p.n=n,u}};function d(t,r){for(a=t,l=r,n=0;!f&&c&&!o&&n<s.length;n++){var o,i=s[n],d=p.p,A=i[2];t>3?(o=A===r)&&(l=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=t<2&&d<i[1])?(a=0,p.v=r,p.n=i[1]):d<A&&(o=t<3||i[0]>r||r>A)&&(i[4]=t,i[5]=r,p.n=A,a=0))}if(o||t>1)return u;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),a=s,l=A;(n=a<2?e:l)||!f;){i||(a?a<3?(a>1&&(p.n=-1),d(a,l)):p.n=l:p.v=l);try{if(c=2,i){if(a||(o="next"),n=i[o]){if(!(n=n.call(i,l)))throw TypeError("iterator result is not an object");if(!n.done)return n;l=n.value,a<2&&(a=0)}else 1===a&&(n=i.return)&&n.call(i),a<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((n=(f=p.n<0)?l:t.call(r,p))!==u)break}catch(t){i=e,a=1,l=t}finally{c=1}}return{value:n,done:f}}}(t,i,a),!0),s}var u={};function c(){}function s(){}function f(){}n=Object.getPrototypeOf;var p=[][i]?n(n([][i]())):(r(n={},i,function(){return this}),n),d=f.prototype=c.prototype=Object.create(p);function A(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,r(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=f,r(d,"constructor",f),r(f,"constructor",s),s.displayName="GeneratorFunction",r(f,a,"GeneratorFunction"),r(d),r(d,a,"Generator"),r(d,i,function(){return this}),r(d,"toString",function(){return"[object Generator]"}),(t=function(){return{w:l,m:A}})()}function r(e,t,n,o){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}r=function(e,t,n,o){function a(t,n){r(e,t,function(e){return this._invoke(t,n,e)})}t?i?i(e,t,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[t]=n:(a("next",0),a("throw",1),a("return",2))},r(e,t,n,o)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){f(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function u(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,l,"next",e)}function l(e){u(i,r,o,a,l,"throw",e)}a(void 0)})}}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function f(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}var d=function(){return n=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"refreshPromise",null),this.baseUrl=t},r=[{key:"request",value:(p=c(t().m(function n(r){var o,u,c,s,f,p,d,A,h,m,y,v,b,g,C,w,_,x,O,j,B,k,P=arguments;return t().w(function(t){for(;;)switch(t.p=t.n){case 0:return u=(o=P.length>1&&void 0!==P[1]?P[1]:{}).parseJson,c=void 0===u||u,s=o.headers,f=void 0===s?{}:s,p=o.body,d=o.skipAuthRefresh,A=void 0!==d&&d,h=l(o,e),m="string"==typeof h.method?h.method.toUpperCase():"GET",y="".concat(this.baseUrl).concat(r),v="undefined"!=typeof performance&&"function"==typeof performance.now?performance.now():Date.now(),b=!(void 0===p||"object"!==a(p)||p instanceof FormData||p instanceof Blob||p instanceof ArrayBuffer),g=b&&p&&"object"===a(p)?Object.keys(p):p,console.info("[api] request",{method:m,url:y,bodyKeys:Array.isArray(g)?g:void 0,hasBody:void 0!==p,bodyType:void 0===p?"none":b?"json":a(p)}),C=i(i({},b?{"Content-Type":"application/json"}:{}),f),w=void 0===p?void 0:b?JSON.stringify(p):p,t.p=1,t.n=2,fetch(y,i({credentials:"include",headers:C,body:w},h));case 2:if(_=t.v,!(B=401===_.status&&!A&&this.shouldAttemptRefresh(r))){t.n=4;break}return t.n=3,this.tryRefreshTokens();case 3:B=t.v;case 4:if(!B){t.n=5;break}return t.a(2,this.request(r,i(i({},o),{},{skipAuthRefresh:!0})));case 5:if(x="undefined"!=typeof performance&&"function"==typeof performance.now?performance.now():Date.now(),O=Math.round(x-v),console.info("[api] response",{method:m,url:y,status:_.status,durationMs:O}),_.ok){t.n=7;break}return t.n=6,_.text();case 6:throw j=t.v,new Error(j||"Request failed with status ".concat(_.status));case 7:if(c&&204!==_.status){t.n=8;break}return t.a(2,void 0);case 8:return t.n=9,_.json();case 9:return t.a(2,t.v);case 10:throw t.p=10,k=t.v,console.error("[api] error",{method:m,url:y,error:k}),k;case 11:return t.a(2)}},n,this,[[1,10]])})),function(e){return p.apply(this,arguments)})},{key:"shouldAttemptRefresh",value:function(e){return!(e.startsWith("/auth/login")||e.startsWith("/auth/signup")||e.startsWith("/auth/refresh")||e.startsWith("/auth/logout"))}},{key:"tryRefreshTokens",value:(u=c(t().m(function e(){var n=this;return t().w(function(e){for(;;)if(0===e.n)return this.refreshPromise||(this.refreshPromise=this.performRefresh().catch(function(e){return console.error("[api] refresh error",e),!1}).finally(function(){n.refreshPromise=null})),e.a(2,this.refreshPromise)},e,this)})),function(){return u.apply(this,arguments)})},{key:"performRefresh",value:(o=c(t().m(function e(){var n,r;return t().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,fetch("".concat(this.baseUrl,"/auth/refresh"),{method:"POST",credentials:"include"});case 1:if((n=e.v).ok){e.n=2;break}return console.warn("[api] token refresh failed",{status:n.status}),e.a(2,!1);case 2:return console.info("[api] token refresh success"),e.a(2,!0);case 3:return e.p=3,r=e.v,console.error("[api] token refresh network error",r),e.a(2,!1)}},e,this,[[0,3]])})),function(){return o.apply(this,arguments)})}],r&&s(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,u,p}(),A=new d("undefined"!=typeof window&&"string"==typeof window.__API_BASE_URL__?window.__API_BASE_URL__:"http://localhost:5000");function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function y(e){if(!e)return"";var t=h(e.split("-"),3),n=t[0],r=t[1],o=t[2];return n&&r&&o?"".concat(o,".").concat(r,".").concat(n):e.trim()}function v(e){var t=e.trim(),n=t.indexOf("@");return-1===n?t:t.slice(0,n).trim()}function b(e){if(!e)return"";var t=e.trim();if(!t)return"";if(t.includes("T"))return t.slice(0,10);var n=t.split(".");if(3===n.length){var r=h(n,3),o=r[0],i=r[1],a=r[2],l=o.padStart(2,"0"),u=i.padStart(2,"0");return"".concat(a.padStart(4,"0"),"-").concat(u,"-").concat(l)}var c=t.split("-");return 3===c.length&&4===c[0].length?t.slice(0,10):t}function g(e){if(!e)return"";var t=e.trim();if(!t)return"";var n=new Date(t);if(!Number.isNaN(n.getTime())){var r=n.getHours().toString().padStart(2,"0"),o=n.getMinutes().toString().padStart(2,"0"),i=n.getDate().toString().padStart(2,"0"),a=(n.getMonth()+1).toString().padStart(2,"0"),l=n.getFullYear().toString().padStart(4,"0");return"".concat(r,":").concat(o," ").concat(i,".").concat(a,".").concat(l)}for(var u=0,c=[" ","T"];u<c.length;u++){var s=c[u],f=t.split(s);if(!(f.length<2)){var p=h(f,2),d=p[0],A=p[1],m=b(d);if(m){var y=h(m.split("-"),3),v=y[0],g=y[1],C=void 0===g?"":g,w=y[2],_=void 0===w?"":w,x=_&&C&&v?"".concat(_,".").concat(C,".").concat(v):m.replace(/-/g,"."),O=A.split(":");if(O.length>=2){var j=O[0].padStart(2,"0").slice(-2),B=O[1].padStart(2,"0").slice(-2);return"".concat(j,":").concat(B," ").concat(x)}}}}return t}var C=" ",w="  ",_=" ",x="     6 ",O="   ",j=" ",B="   ",k="     ",P="A-Za-z",S="--",E=/^[^\s@]+@[^\s@]+\.[^\s@]+$/i,T=/^[A-Za-z0-9@._+-]+$/,F=new RegExp("^[A-Za-z0-9._-]+$"),R=new RegExp("^[".concat(P).concat(S,"\\s'-]+$")),I=new RegExp("^[".concat(P).concat(S,"0-9!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>/?~\\s]+$")),M=new RegExp("^[".concat(P).concat(S,"\\s'-]*$"));function U(e){var t=[],n=e.name.trim(),r=e.login.trim(),o=e.birthdate.trim(),i=e.password.trim(),a=e.passwordRepeat.trim();return n?n.length<2?t.push({field:"name",message:"  "}):R.test(n)||t.push({field:"name",message:B}):t.push({field:"name",message:j}),r?E.test(r)&&T.test(r)||t.push({field:"login",message:w}):t.push({field:"login",message:C}),o?D(o)||t.push({field:"birthdate",message:k}):t.push({field:"birthdate",message:"  "}),i?i.length<6?t.push({field:"password",message:x}):I.test(i)||t.push({field:"password",message:O}):t.push({field:"password",message:_}),a?i&&i!==a&&t.push({field:"passwordRepeat",message:"  "}):t.push({field:"passwordRepeat",message:" "}),t}function N(e){var t=[],n=e.firstName.trim(),r=e.lastName.trim(),o=e.middleName.trim(),i=e.birthDate.trim();return n?M.test(n)||t.push({field:"firstName",message:B}):t.push({field:"firstName",message:j}),r?M.test(r)||t.push({field:"lastName",message:"   "}):t.push({field:"lastName",message:" "}),o&&!M.test(o)&&t.push({field:"middleName",message:"   "}),i&&!D(i)&&t.push({field:"birthDate",message:k}),t}function D(e){var t=Date.parse(e);return!Number.isNaN(t)&&new Date(t)<=new Date}function G(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return q(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(q(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,q(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,q(f,"constructor",c),q(c,"constructor",u),u.displayName="GeneratorFunction",q(c,o,"GeneratorFunction"),q(f),q(f,o,"Generator"),q(f,r,function(){return this}),q(f,"toString",function(){return"[object Generator]"}),(G=function(){return{w:i,m:p}})()}function q(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}q=function(e,t,n,r){function i(t,n){q(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},q(e,t,n,r)}function L(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function Y(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){L(i,r,o,a,l,"next",e)}function l(e){L(i,r,o,a,l,"throw",e)}a(void 0)})}}var W="/user/profile",z=/^https?:\/\//i;function V(e){if(!e)return null;if(z.test(e))return e;var t=e.startsWith("/")?e:"/".concat(e),n="";if("undefined"!=typeof window&&"string"==typeof window.__API_BASE_URL__)n=window.__API_BASE_URL__;else{var r=A;"string"==typeof r.baseUrl&&(n=r.baseUrl)}return"".concat(n).concat(t)}function H(e){var t,n,r,o,i,a,l,u=null!==(t=null===(n=e.name)||void 0===n?void 0:n.trim())&&void 0!==t?t:"",c=null!==(r=null===(o=e.surname)||void 0===o?void 0:o.trim())&&void 0!==r?r:"",s=null!==(i=null===(a=e.patronymic)||void 0===a?void 0:a.trim())&&void 0!==i?i:"",f=[u,c,s].filter(Boolean),p=f.length>0?f.join(" "):e.username,d=e.username.includes("@")?e.username:"".concat(e.username).concat("@flintmail.ru"),A=null===(l=e.gender)||void 0===l?void 0:l.toLowerCase(),h="male"===A||"female"===A?A:void 0;return{username:e.username,email:d,fullName:p,firstName:u,lastName:c,middleName:s,gender:null!=h?h:"",birthday:b(e.date_of_birth),avatarUrl:V(e.avatar_path),createdAt:e.created_at}}function Q(){return $.apply(this,arguments)}function $(){return($=Y(G().m(function e(){var t;return G().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,A.request(W);case 1:return t=e.v,e.a(2,H(t.body))}},e)}))).apply(this,arguments)}function K(e){return J.apply(this,arguments)}function J(){return(J=Y(G().m(function e(t){var n,r,o,i;return G().w(function(e){for(;;)switch(e.n){case 0:return(o=new FormData).append("avatar",t),e.n=1,A.request("/user/upload/avatar",{method:"POST",body:o});case 1:return i=e.v,e.a(2,null!==(n=null!==(r=V(i.body.avatar_path))&&void 0!==r?r:i.body.avatar_path)&&void 0!==n?n:"")}},e)}))).apply(this,arguments)}function Z(e){return X.apply(this,arguments)}function X(){return(X=Y(G().m(function e(t){var n,r,o,i,a,l,u,c,s;return G().w(function(e){for(;;)switch(e.n){case 0:return c={name:null!==(n=null===(r=t.firstName)||void 0===r?void 0:r.trim())&&void 0!==n?n:"",surname:null!==(o=null===(i=t.lastName)||void 0===i?void 0:i.trim())&&void 0!==o?o:"",patronymic:null!==(a=null===(l=t.middleName)||void 0===l?void 0:l.trim())&&void 0!==a?a:"",gender:null!==(u=t.gender)&&void 0!==u?u:"",date_of_birth:t.birthday?y(t.birthday):""},e.n=1,A.request(W,{method:"PUT",body:c});case 1:return s=e.v,e.a(2,H(s.body))}},e)}))).apply(this,arguments)}function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return ne(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(ne(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,ne(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,ne(f,"constructor",c),ne(c,"constructor",u),u.displayName="GeneratorFunction",ne(c,o,"GeneratorFunction"),ne(f),ne(f,o,"Generator"),ne(f,r,function(){return this}),ne(f,"toString",function(){return"[object Generator]"}),(te=function(){return{w:i,m:p}})()}function ne(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}ne=function(e,t,n,r){function i(t,n){ne(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},ne(e,t,n,r)}function re(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ae(r.key),r)}}function ie(e,t,n){return(t=ae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e){var t=function(e){if("object"!=ee(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ee(t)?t:t+""}var le=new(function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ie(this,"status","unknown"),ie(this,"checkPromise",null)},t=[{key:"getStatus",value:function(){return this.status}},{key:"setAuthenticated",value:function(e){this.status=e?"authenticated":"unauthenticated"}},{key:"markUnknown",value:function(){this.status="unknown"}},{key:"ensureAuthenticated",value:(n=te().m(function e(){var t=this;return te().w(function(e){for(;;)switch(e.n){case 0:if("authenticated"!==this.status){e.n=1;break}return e.a(2,!0);case 1:if("unauthenticated"!==this.status){e.n=2;break}return e.a(2,!1);case 2:return this.checkPromise||(this.checkPromise=Q().then(function(){return t.status="authenticated",!0}).catch(function(){return t.status="unauthenticated",!1}).finally(function(){t.checkPromise=null})),e.a(2,this.checkPromise)}},e,this)}),r=function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function a(e){re(i,r,o,a,l,"next",e)}function l(e){re(i,r,o,a,l,"throw",e)}a(void 0)})},function(){return r.apply(this,arguments)})}],t&&oe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r}());function ue(e){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(e)}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function se(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return fe(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(fe(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,fe(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,fe(f,"constructor",c),fe(c,"constructor",u),u.displayName="GeneratorFunction",fe(c,o,"GeneratorFunction"),fe(f),fe(f,o,"Generator"),fe(f,r,function(){return this}),fe(f,"toString",function(){return"[object Generator]"}),(se=function(){return{w:i,m:p}})()}function fe(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}fe=function(e,t,n,r){function i(t,n){fe(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},fe(e,t,n,r)}function pe(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function de(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){pe(i,r,o,a,l,"next",e)}function l(e){pe(i,r,o,a,l,"throw",e)}a(void 0)})}}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,me(r.key),r)}}function he(e,t,n){return(t=me(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function me(e){var t=function(e){if("object"!=ue(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ue(t)?t:t+""}var ye=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),he(this,"routes",[]),he(this,"layouts",new Map),this.attachPopstate()}return t=e,n=[{key:"addRoute",value:function(e){this.routes.push(e)}},{key:"onNavigate",value:function(e){this.onNavigateCallback=e}},{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.pathname||"/auth",t=e&&"/"!==e?e:"/auth";this.navigate(t,{replace:!0}).then()}},{key:"navigate",value:(i=de(se().m(function e(t){var n,r,o,i,a,l,u,c,s=arguments;return se().w(function(e){for(;;)switch(e.n){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:{},r=this.normalizePath(t),!(o=this.findRoute(r))||!this.onNavigateCallback){e.n=3;break}return i=o.config,a=o.params,e.n=1,this.ensureRouteAccess(i,r,n);case 1:if(e.v){e.n=2;break}return e.a(2);case 2:return l=this.getOrCreateLayout(i),n.skipHistory||(n.replace?window.history.replaceState({},"",r):window.history.pushState({},"",r)),this.onNavigateCallback({path:r,layout:l,params:a,config:i}),e.a(2);case 3:return u=le.getStatus(),c="authenticated"===u?"/inbox":"/auth",console.warn("Router: route not found, redirecting to ".concat(c)),e.n=4,this.navigate(c,{replace:!0,skipHistory:n.skipHistory});case 4:return e.a(2)}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"getQueryParams",value:function(){return new URLSearchParams(window.location.search)}},{key:"getOrCreateLayout",value:function(e){var t=this.layouts.get(e.layoutKey);if(t)return t;var n=e.createLayout();return this.layouts.set(e.layoutKey,n),n}},{key:"findRoute",value:function(e){var t,n=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ce(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ce(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(this.routes);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=this.matchRoute(e,r.path);if(o)return{config:r,params:o}}}catch(e){n.e(e)}finally{n.f()}return null}},{key:"matchRoute",value:function(e,t){var n=this.compilePath(t),r=n.regex,o=n.paramNames,i=e.match(r);if(!i)return null;var a={};return o.forEach(function(e,t){var n=i[t+1];void 0!==n&&(a[e]=n)}),a}},{key:"compilePath",value:function(e){if("/"===e)return{regex:/^\/$/,paramNames:[]};var t=e.split("/").filter(Boolean),n=[],r="";return t.forEach(function(e){if(e.startsWith(":")){var t=e.endsWith("?"),o=e.replace(/^:/,"").replace(/\?$/,"");n.push(o),r+=t?"(?:/([^/]+))?":"/([^/]+)"}else r+="/"+e.replace(/[.*+?^${}()|[\\]\\]/g,"\\$&")}),{regex:new RegExp("^".concat(r,"$")),paramNames:n}}},{key:"attachPopstate",value:function(){var e=this;window.addEventListener("popstate",function(){e.navigate(window.location.pathname,{skipHistory:!0})})}},{key:"normalizePath",value:function(e){if(!e)return"/";var t=e.includes("http://")||e.includes("https://")?new URL(e).pathname:e;return t.length>1&&t.endsWith("/")?t.slice(0,-1):t}},{key:"ensureRouteAccess",value:(o=de(se().m(function e(t,n,r){var o,i,a,l,u,c;return se().w(function(e){for(;;)switch(e.n){case 0:if(a=null!==(o=t.requiresAuth)&&void 0!==o&&o,l=null!==(i=t.guestOnly)&&void 0!==i&&i,a||l){e.n=1;break}return e.a(2,!0);case 1:if("unknown"!==(u=le.getStatus())){e.n=3;break}return e.n=2,le.ensureAuthenticated();case 2:c=e.v,e.n=4;break;case 3:c="authenticated"===u;case 4:if(!a||c){e.n=6;break}if("/auth"===n){e.n=5;break}return e.n=5,this.navigate("/auth",{replace:!0});case 5:return e.a(2,!1);case 6:if(!l||!c){e.n=8;break}if("/inbox"===n){e.n=7;break}return e.n=7,this.navigate("/inbox",{replace:!0});case 7:return e.a(2,!1);case 8:return e.a(2,!0)}},e,this)})),function(e,t,n){return o.apply(this,arguments)})}],r=[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}],n&&Ae(t.prototype,n),r&&Ae(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r,o,i}();function ve(e){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(e)}function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach(function(t){ke(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ce(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return we(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?we(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _e(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return xe(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(xe(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,xe(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,xe(f,"constructor",c),xe(c,"constructor",u),u.displayName="GeneratorFunction",xe(c,o,"GeneratorFunction"),xe(f),xe(f,o,"Generator"),xe(f,r,function(){return this}),xe(f,"toString",function(){return"[object Generator]"}),(_e=function(){return{w:i,m:p}})()}function xe(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}xe=function(e,t,n,r){function i(t,n){xe(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},xe(e,t,n,r)}function Oe(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function je(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Oe(i,r,o,a,l,"next",e)}function l(e){Oe(i,r,o,a,l,"throw",e)}a(void 0)})}}function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pe(r.key),r)}}function ke(e,t,n){return(t=Pe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pe(e){var t=function(e){if("object"!=ve(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ve(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ve(t)?t:t+""}he(ye,"instance",null);var Se=function(){return e=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ke(this,"children",[]),ke(this,"element",null),this.props=t},t=[{key:"afterRender",value:function(){}},{key:"createElement",value:function(e){var t=document.createElement("div");t.innerHTML=e.trim();var n=t.firstElementChild;if(!n)throw new Error("Failed to parse HTML string into HTMLElement");return n}},{key:"render",value:function(){var e=this.children.map(function(e){return e.render()}),t=this.renderTemplate();this.element=this.createElement(t);var n=this.element.querySelector('[data-slot="children"]')||this.element;e.forEach(function(e){return n.appendChild(e)});try{this.afterRender()}catch(e){}return this.element}},{key:"mount",value:(r=je(_e().m(function e(t){return _e().w(function(e){for(;;)switch(e.n){case 0:t&&this.element&&t.appendChild(this.element);case 1:return e.a(2)}},e,this)})),function(e){return r.apply(this,arguments)})},{key:"unmount",value:(n=je(_e().m(function e(){var t,n,r,o;return _e().w(function(e){for(;;)switch(e.p=e.n){case 0:this.element&&(this.element.remove(),this.element=null),t=Ce(this.children),e.p=1,t.s();case 2:if((n=t.n()).done){e.n=4;break}return r=n.value,e.n=3,r.unmount();case 3:e.n=2;break;case 4:e.n=6;break;case 5:e.p=5,o=e.v,t.e(o);case 6:return e.p=6,t.f(),e.f(6);case 7:return e.a(2)}},e,this,[[1,5,6,7]])})),function(){return n.apply(this,arguments)})},{key:"addChild",value:function(e){this.children.push(e)}},{key:"setProps",value:function(e){var t=this;if(this.props=ge(ge({},this.props),e),this.element){var n=this.element.parentElement;this.unmount().then(function(){var e=t.render();n&&(n.appendChild(e),t.mount().then(function(){}))})}}},{key:"getElement",value:function(){return this.element}}],t&&Be(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r}();function Ee(e){return Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ee(e)}function Te(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return Fe(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Fe(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Fe(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,Fe(f,"constructor",c),Fe(c,"constructor",u),u.displayName="GeneratorFunction",Fe(c,o,"GeneratorFunction"),Fe(f),Fe(f,o,"Generator"),Fe(f,r,function(){return this}),Fe(f,"toString",function(){return"[object Generator]"}),(Te=function(){return{w:i,m:p}})()}function Fe(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Fe=function(e,t,n,r){function i(t,n){Fe(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Fe(e,t,n,r)}function Re(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function Ie(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Re(i,r,o,a,l,"next",e)}function l(e){Re(i,r,o,a,l,"throw",e)}a(void 0)})}}function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ye(r.key),r)}}function Ue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ue=function(){return!!e})()}function Ne(e,t,n,r){var o=De(Ge(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function De(){return De="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Ge(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},De.apply(null,arguments)}function Ge(e){return Ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ge(e)}function qe(e,t){return qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qe(e,t)}function Le(e,t,n){return(t=Ye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ye(e){var t=function(e){if("object"!=Ee(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ee(t)?t:t+""}var We=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Le(e=function(e,t,n){return t=Ge(t),function(e,t){if(t&&("object"==Ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ue()?Reflect.construct(t,n||[],Ge(e).constructor):t.apply(e,n))}(this,t),"router",ye.getInstance()),Le(e,"layout",null),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qe(e,t)}(t,e),n=t,r=[{key:"setLayout",value:function(e){this.layout=e}},{key:"update",value:(u=Ie(Te().m(function e(t){return Te().w(function(e){for(;;)if(0===e.n)return e.a(2)},e)})),function(e){return u.apply(this,arguments)})},{key:"renderWithLayout",value:(l=Ie(Te().m(function e(t){var n,r,o,i=arguments;return Te().w(function(e){for(;;)switch(e.n){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],this.layout=t,r=this.getSlotContent(),!n||!t.getElement()){e.n=2;break}return e.n=1,t.fillSlots(r);case 1:o=t.getElement(),e.n=3;break;case 2:o=t.render(r);case 3:return this.element=o,e.a(2,o)}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"render",value:function(){if(!this.layout)return this.element=this.createElement("<div>Page content not wrapped in layout</div>"),this.element;var e=this.layout.render(this.getSlotContent());return this.element=e,e}},{key:"updateSlot",value:(a=Ie(Te().m(function e(t,n){return Te().w(function(e){for(;;)switch(e.n){case 0:if(!this.layout){e.n=2;break}return e.n=1,this.layout.updateSlot(t,n);case 1:e.n=3;break;case 2:console.warn("No layout set for page");case 3:return e.a(2)}},e,this)})),function(e,t){return a.apply(this,arguments)})},{key:"init",value:function(){}},{key:"mount",value:(i=Ie(Te().m(function e(n){var r,o=arguments;return Te().w(function(e){for(;;)switch(e.n){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:{},!this.layout){e.n=2;break}if(r.skipAppend){e.n=1;break}return e.n=1,this.layout.mount(n);case 1:this.element=this.layout.getElement(),e.n=3;break;case 2:if(r.skipAppend){e.n=3;break}return e.n=3,Ne(t,"mount",this,3)([n]);case 3:try{this.init()}catch(e){}case 4:return e.a(2)}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"unmount",value:(o=Ie(Te().m(function e(){return Te().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Ne(t,"unmount",this,3)([]);case 1:return e.a(2)}},e,this)})),function(){return o.apply(this,arguments)})}],r&&Me(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i,a,l,u}(Se),ze=n(9309),Ve=n.n(ze),He=n(5072),Qe=n.n(He),$e=n(7825),Ke=n.n($e),Je=n(7659),Ze=n.n(Je),Xe=n(5056),et=n.n(Xe),tt=n(540),nt=n.n(tt),rt=n(1113),ot=n.n(rt),it=n(8542),at={};at.styleTagTransform=ot(),at.setAttributes=et(),at.insert=Ze().bind(null,"head"),at.domAPI=Ke(),at.insertStyleElement=nt(),Qe()(it.A,at),it.A&&it.A.locals&&it.A.locals;var lt="",ut="",ct={tabs:[{id:"personal",label:" ",icon:"/img/profile-sidebar-personal-logo.svg"},{id:"interface",label:"",icon:"/img/profile-sidebar-interface-logo.svg"}],backButtonLabel:" "},st=n(3823),ft=n.n(st),pt=n(2288),dt={};function At(e){return At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},At(e)}function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach(function(t){yt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function yt(e,t,n){return(t=bt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bt(r.key),r)}}function bt(e){var t=function(e){if("object"!=At(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=At(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==At(t)?t:t+""}function gt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(gt=function(){return!!e})()}function Ct(e){return Ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ct(e)}function wt(e,t){return wt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wt(e,t)}dt.styleTagTransform=ot(),dt.setAttributes=et(),dt.insert=Ze().bind(null,"head"),dt.domAPI=Ke(),dt.insertStyleElement=nt(),Qe()(pt.A,dt),pt.A&&pt.A.locals&&pt.A.locals;var _t=function(e){function t(e){var n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=Ct(t),function(e,t){if(t&&("object"==At(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,gt()?Reflect.construct(t,n||[],Ct(e).constructor):t.apply(e,n))}(this,t,[mt(mt({},e),{},{type:null!==(n=e.type)&&void 0!==n?n:"text",variant:null!==(r=e.variant)&&void 0!==r?r:"filled"})])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wt(e,t)}(t,e),n=t,(r=[{key:"renderTemplate",value:function(){var e,t,n;return ft()({label:this.props.label,name:this.props.name,type:null!==(e=this.props.type)&&void 0!==e?e:"text",placeholder:this.props.placeholder,value:null!==(t=this.props.value)&&void 0!==t?t:"",error:this.props.error,required:this.props.required,autocomplete:this.props.autocomplete,variant:null!==(n=this.props.variant)&&void 0!==n?n:"filled"})}},{key:"afterRender",value:function(){var e,t=this,n=null===(e=this.element)||void 0===e?void 0:e.querySelector("[data-input]");n&&n.addEventListener("input",function(){var e,r;null===(e=(r=t.props).onInput)||void 0===e||e.call(r,n.value)})}},{key:"setValue",value:function(e){var t,n=null===(t=this.element)||void 0===t?void 0:t.querySelector("[data-input]");n&&(n.value=e),this.setProps({value:e})}},{key:"getValue",value:function(){var e,t,n,r=null===(e=this.element)||void 0===e?void 0:e.querySelector("[data-input]");return null!==(t=null!==(n=null==r?void 0:r.value)&&void 0!==n?n:this.props.value)&&void 0!==t?t:""}},{key:"setError",value:function(e){this.props=mt(mt({},this.props),{},{error:null!=e?e:void 0});var t=this.element;if(t){var n=t.querySelector("[data-error]");n&&(e&&e.trim()?(n.textContent=e,n.hidden=!1):(n.textContent="",n.hidden=!0))}}}])&&vt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Se),xt=n(8299),Ot=n.n(xt),jt=n(5860),Bt={};function kt(e){return kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kt(e)}function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach(function(t){Et(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Et(e,t,n){return(t=Ft(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ft(r.key),r)}}function Ft(e){var t=function(e){if("object"!=kt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=kt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==kt(t)?t:t+""}function Rt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Rt=function(){return!!e})()}function It(e){return It=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},It(e)}function Mt(e,t){return Mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Mt(e,t)}Bt.styleTagTransform=ot(),Bt.setAttributes=et(),Bt.insert=Ze().bind(null,"head"),Bt.domAPI=Ke(),Bt.insertStyleElement=nt(),Qe()(jt.A,Bt),jt.A&&jt.A.locals&&jt.A.locals;var Ut=function(e){function t(e){var n,r,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=It(t),function(e,t){if(t&&("object"==kt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Rt()?Reflect.construct(t,n||[],It(e).constructor):t.apply(e,n))}(this,t,[St(St({},e),{},{type:null!==(n=e.type)&&void 0!==n?n:"button",variant:null!==(r=e.variant)&&void 0!==r?r:"primary",fullWidth:null!==(o=e.fullWidth)&&void 0!==o&&o,label:null!==(i=e.label)&&void 0!==i?i:""})])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mt(e,t)}(t,e),n=t,(r=[{key:"renderTemplate",value:function(){var e,t,n;return Ot()({label:null!==(e=this.props.label)&&void 0!==e?e:"",type:null!==(t=this.props.type)&&void 0!==t?t:"button",variant:null!==(n=this.props.variant)&&void 0!==n?n:"primary",disabled:this.props.disabled,icon:this.props.icon,fullWidth:this.props.fullWidth,ariaLabel:this.props.ariaLabel})}},{key:"afterRender",value:function(){var e=this,t=this.element;t&&(this.props.disabled&&t.setAttribute("disabled","disabled"),t.addEventListener("click",function(t){var n,r;e.props.disabled?t.preventDefault():null===(n=(r=e.props).onClick)||void 0===n||n.call(r,t)}))}}])&&Tt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Se);function Nt(e){return Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nt(e)}function Dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Wt(r.key),r)}}function Gt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Gt=function(){return!!e})()}function qt(e){return qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qt(e)}function Lt(e,t){return Lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Lt(e,t)}function Yt(e,t,n){return(t=Wt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wt(e){var t=function(e){if("object"!=Nt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Nt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Nt(t)?t:t+""}var zt=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Yt(e=function(e,t,n){return t=qt(t),function(e,t){if(t&&("object"==Nt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Gt()?Reflect.construct(t,n||[],qt(e).constructor):t.apply(e,n))}(this,t,[n]),"errorContainer",null),Yt(e,"generalError",null),e.loginField=new _t({name:"login",placeholder:"  email",autocomplete:"username",required:!0,variant:"underline",onInput:function(){return e.clearFieldError("login")}}),e.passwordField=new _t({name:"password",type:"password",placeholder:"",autocomplete:"current-password",required:!0,variant:"underline",onInput:function(){return e.clearFieldError("password")}}),e.submitButton=new Ut({type:"submit",label:"",variant:"primary",fullWidth:!0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lt(e,t)}(t,e),n=t,(r=[{key:"renderTemplate",value:function(){return Ve()({forgotPasswordText:" ?"})}},{key:"afterRender",value:function(){var e,t,n,r,o,i=this,a=null===(e=this.element)||void 0===e?void 0:e.querySelector('[data-slot="login"]'),l=null===(t=this.element)||void 0===t?void 0:t.querySelector('[data-slot="password"]'),u=null===(n=this.element)||void 0===n?void 0:n.querySelector('[data-slot="submit"]'),c=this.element;a&&(this.loginField.render(),this.loginField.mount(a).then()),l&&(this.passwordField.render(),this.passwordField.mount(l).then()),u&&(this.submitButton.render(),this.submitButton.mount(u).then());var s=null===(r=this.element)||void 0===r?void 0:r.querySelector('[data-action="forgot"]');null==s||s.addEventListener("click",function(e){var t,n;e.preventDefault(),null===(t=(n=i.props).onForgotPassword)||void 0===t||t.call(n)}),null==c||c.addEventListener("submit",function(e){e.preventDefault();var t,n,r={login:i.loginField.getValue(),password:i.passwordField.getValue()},o=function(e){var t,n=[],r=e.login.trim(),o=e.password.trim();return r?(t=r,!!F.test(t)||!!E.test(t)&&T.test(t)||n.push({field:"login",message:w})):n.push({field:"login",message:C}),o?o.length<6?n.push({field:"password",message:x}):I.test(o)||n.push({field:"password",message:O}):n.push({field:"password",message:_}),n}(r);i.applyErrors(o),0===o.length&&(null===(t=(n=i.props).onSubmit)||void 0===t||t.call(n,r))}),this.errorContainer=null===(o=this.element)||void 0===o?void 0:o.querySelector('[data-slot="error"]'),this.updateGeneralError()}},{key:"applyErrors",value:function(e){var t,n;this.setFormError(null);var r=new Map;e.forEach(function(e){return r.set(e.field,e.message)}),this.setFieldError("login",null!==(t=r.get("login"))&&void 0!==t?t:null),this.setFieldError("password",null!==(n=r.get("password"))&&void 0!==n?n:null),0===e.length&&this.setFormError(null)}},{key:"clearErrors",value:function(){this.setFieldError("login",null),this.setFieldError("password",null),this.setFormError(null)}},{key:"setFormError",value:function(e){this.generalError=(null==e?void 0:e.trim())||null,this.updateGeneralError()}},{key:"setFieldError",value:function(e,t){"login"===e?this.loginField.setError(t):"password"===e&&this.passwordField.setError(t)}},{key:"clearFieldError",value:function(e){this.setFieldError(e,null)}},{key:"updateGeneralError",value:function(){if(this.errorContainer){var e=this.generalError;this.errorContainer.textContent=null!=e?e:"",this.errorContainer.classList.toggle("auth-form__error--visible",Boolean(e))}}}])&&Dt(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Se);function Vt(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return Ht(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Ht(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Ht(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,Ht(f,"constructor",c),Ht(c,"constructor",u),u.displayName="GeneratorFunction",Ht(c,o,"GeneratorFunction"),Ht(f),Ht(f,o,"Generator"),Ht(f,r,function(){return this}),Ht(f,"toString",function(){return"[object Generator]"}),(Vt=function(){return{w:i,m:p}})()}function Ht(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Ht=function(e,t,n,r){function i(t,n){Ht(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Ht(e,t,n,r)}function Qt(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function $t(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Qt(i,r,o,a,l,"next",e)}function l(e){Qt(i,r,o,a,l,"throw",e)}a(void 0)})}}function Kt(e){return Jt.apply(this,arguments)}function Jt(){return(Jt=$t(Vt().m(function e(t){return Vt().w(function(e){for(;;)if(0===e.n)return e.a(2,A.request("/auth/login",{method:"POST",body:t,skipAuthRefresh:!0}))},e)}))).apply(this,arguments)}function Zt(){return Xt.apply(this,arguments)}function Xt(){return(Xt=$t(Vt().m(function e(){return Vt().w(function(e){for(;;)if(0===e.n)return e.a(2,A.request("/auth/logout",{method:"POST",skipAuthRefresh:!0}))},e)}))).apply(this,arguments)}function en(e){return tn.apply(this,arguments)}function tn(){return(tn=$t(Vt().m(function e(t){return Vt().w(function(e){for(;;)if(0===e.n)return e.a(2,A.request("/auth/signup",{method:"POST",body:t,skipAuthRefresh:!0}))},e)}))).apply(this,arguments)}function nn(e,t){if(e instanceof Error){var n,r=null===(n=e.message)||void 0===n?void 0:n.trim();if(r){var o=function(e){try{var t=JSON.parse(e);if("string"==typeof(null==t?void 0:t.message)){var n=t.message.trim();return n.length>0?n:null}}catch(e){}return null}(r);return null!=o?o:r}}return"string"==typeof e&&e.trim()?e.trim():t}function rn(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return on(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(on(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,on(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,on(f,"constructor",c),on(c,"constructor",u),u.displayName="GeneratorFunction",on(c,o,"GeneratorFunction"),on(f),on(f,o,"Generator"),on(f,r,function(){return this}),on(f,"toString",function(){return"[object Generator]"}),(rn=function(){return{w:i,m:p}})()}function on(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}on=function(e,t,n,r){function i(t,n){on(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},on(e,t,n,r)}function an(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function ln(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){an(i,r,o,a,l,"next",e)}function l(e){an(i,r,o,a,l,"throw",e)}a(void 0)})}}function un(e){return cn.apply(this,arguments)}function cn(){return(cn=ln(rn().m(function e(t){var n;return rn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,Kt(t);case 1:return e.a(2,{success:!0});case 2:return e.p=2,n=e.v,e.a(2,{success:!1,message:nn(n,"   .     .")})}},e,null,[[0,2]])}))).apply(this,arguments)}function sn(e){return fn.apply(this,arguments)}function fn(){return(fn=ln(rn().m(function e(t){var n;return rn().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,en(t);case 1:return e.a(2,{success:!0});case 2:return e.p=2,n=e.v,e.a(2,{success:!1,message:nn(n,"   .   .")})}},e,null,[[0,2]])}))).apply(this,arguments)}function pn(){return dn.apply(this,arguments)}function dn(){return(dn=ln(rn().m(function e(){return rn().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Zt();case 1:return e.a(2)}},e)}))).apply(this,arguments)}var An=n(6562),hn={};function mn(e){return mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mn(e)}function yn(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return vn(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(vn(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,vn(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,vn(f,"constructor",c),vn(c,"constructor",u),u.displayName="GeneratorFunction",vn(c,o,"GeneratorFunction"),vn(f),vn(f,o,"Generator"),vn(f,r,function(){return this}),vn(f,"toString",function(){return"[object Generator]"}),(yn=function(){return{w:i,m:p}})()}function vn(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}vn=function(e,t,n,r){function i(t,n){vn(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},vn(e,t,n,r)}function bn(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function gn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cn(r.key),r)}}function Cn(e){var t=function(e){if("object"!=mn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=mn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==mn(t)?t:t+""}function wn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(wn=function(){return!!e})()}function _n(e){return _n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_n(e)}function xn(e,t){return xn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xn(e,t)}hn.styleTagTransform=ot(),hn.setAttributes=et(),hn.insert=Ze().bind(null,"head"),hn.domAPI=Ke(),hn.insertStyleElement=nt(),Qe()(An.A,hn),An.A&&An.A.locals&&An.A.locals;var On=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=_n(t),function(e,t){if(t&&("object"==mn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wn()?Reflect.construct(t,n||[],_n(e).constructor):t.apply(e,n))}(this,t)).form=new zt({onSubmit:function(t){return e.handleSubmit(t)},onForgotPassword:function(){return e.handleForgotPassword()}}),e.registerButton=new Ut({variant:"secondary",label:"",onClick:function(){return e.router.navigate("/register")},fullWidth:!0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xn(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){return'<div class="auth-page"></div>'}},{key:"getSlotContent",value:function(){var e=document.createElement("div");e.className="auth-page";var t=document.createElement("h1");t.className="auth-page__title",t.textContent="  ",e.appendChild(t);var n=document.createElement("div");n.className="auth-page__form",this.form.render(),this.form.mount(n).then(),e.appendChild(n);var r=document.createElement("div");return r.className="auth-page__actions",this.registerButton.render(),this.registerButton.mount(r).then(),e.appendChild(r),{content:e}}},{key:"handleSubmit",value:(o=yn().m(function e(t){var n;return yn().w(function(e){for(;;)switch(e.n){case 0:return this.form.clearErrors(),this.form.setFormError(null),e.n=1,un(t);case 1:if(n=e.v,le.setAuthenticated(n.success),!n.success){e.n=2;break}return this.router.navigate("/inbox"),e.a(2);case 2:this.form.setFormError(n.message);case 3:return e.a(2)}},e,this)}),i=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=o.apply(e,t);function a(e){bn(i,n,r,a,l,"next",e)}function l(e){bn(i,n,r,a,l,"throw",e)}a(void 0)})},function(e){return i.apply(this,arguments)})},{key:"handleForgotPassword",value:function(){console.log("Reset password flow is not implemented yet.")}}],r&&gn(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i}(We),jn=n(60),Bn=n.n(jn),kn=n(3245),Pn={};Pn.styleTagTransform=ot(),Pn.setAttributes=et(),Pn.insert=Ze().bind(null,"head"),Pn.domAPI=Ke(),Pn.insertStyleElement=nt(),Qe()(kn.A,Pn),kn.A&&kn.A.locals&&kn.A.locals;var Sn=n(7867),En=n.n(Sn),Tn=n(2708),Fn={};function Rn(e){return Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rn(e)}function In(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?In(Object(n),!0).forEach(function(t){Un(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):In(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Un(e,t,n){return(t=Dn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Dn(r.key),r)}}function Dn(e){var t=function(e){if("object"!=Rn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Rn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Rn(t)?t:t+""}function Gn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Gn=function(){return!!e})()}function qn(e){return qn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qn(e)}function Ln(e,t){return Ln=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ln(e,t)}Fn.styleTagTransform=ot(),Fn.setAttributes=et(),Fn.insert=Ze().bind(null,"head"),Fn.domAPI=Ke(),Fn.insertStyleElement=nt(),Qe()(Tn.A,Fn),Tn.A&&Tn.A.locals&&Tn.A.locals;var Yn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=qn(t),function(e,t){if(t&&("object"==Rn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Gn()?Reflect.construct(t,n||[],qn(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ln(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){var e=this.props,t=e.name,n=e.label,r=e.options,o=e.value;return En()({name:t,label:n,options:r.map(function(e){return Mn(Mn({},e),{},{checked:e.value===o})})})}},{key:"afterRender",value:function(){var e,t,n=this;Array.from(null!==(e=null===(t=this.element)||void 0===t?void 0:t.querySelectorAll('input[type="radio"]'))&&void 0!==e?e:[]).forEach(function(e){e.addEventListener("change",function(){var t,r;e.checked&&(null===(t=(r=n.props).onChange)||void 0===t||t.call(r,e.value))})})}},{key:"getValue",value:function(){var e,t,n=null===(e=this.element)||void 0===e?void 0:e.querySelector('input[type="radio"]:checked');return null!==(t=null==n?void 0:n.value)&&void 0!==t?t:this.props.value}},{key:"setValue",value:function(e){var t,n;this.props=Mn(Mn({},this.props),{},{value:e}),Array.from(null!==(t=null===(n=this.element)||void 0===n?void 0:n.querySelectorAll('input[type="radio"]'))&&void 0!==t?t:[]).forEach(function(t){t.checked=void 0!==e&&t.value===e})}}],r&&Nn(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Se);function Wn(e){return Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wn(e)}function zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Kn(r.key),r)}}function Vn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Vn=function(){return!!e})()}function Hn(e){return Hn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hn(e)}function Qn(e,t){return Qn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qn(e,t)}function $n(e,t,n){return(t=Kn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kn(e){var t=function(e){if("object"!=Wn(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Wn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Wn(t)?t:t+""}var Jn=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$n(e=function(e,t,n){return t=Hn(t),function(e,t){if(t&&("object"==Wn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Vn()?Reflect.construct(t,n||[],Hn(e).constructor):t.apply(e,n))}(this,t,[n]),"errorContainer",null),$n(e,"generalError",null),e.nameField=new _t({name:"name",placeholder:"",autocomplete:"name",required:!0,variant:"underline",onInput:function(){return e.clearFieldError("name")}}),e.loginField=new _t({name:"login",placeholder:"login@flintmail.ru",required:!0,variant:"underline",onInput:function(){return e.clearFieldError("login")}}),e.birthdateField=new _t({name:"birthdate",type:"date",variant:"underline",onInput:function(){return e.clearFieldError("birthdate")}}),e.genderGroup=new Yn({name:"gender",label:"",options:[{label:lt,value:"male"},{label:ut,value:"female"}]}),e.passwordField=new _t({name:"password",type:"password",placeholder:"",required:!0,autocomplete:"new-password",variant:"underline",onInput:function(){return e.clearFieldError("password")}}),e.passwordRepeatField=new _t({name:"passwordRepeat",type:"password",placeholder:" ",required:!0,autocomplete:"new-password",variant:"underline",onInput:function(){return e.clearFieldError("passwordRepeat")}}),e.submitButton=new Ut({type:"submit",label:"",variant:"primary",fullWidth:!0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qn(e,t)}(t,e),n=t,(r=[{key:"renderTemplate",value:function(){return Bn()({})}},{key:"afterRender",value:function(){var e,t=this,n=function(e,n){var r,o=null===(r=t.element)||void 0===r?void 0:r.querySelector('[data-slot="'.concat(e,'"]'));o&&(n.render(),n.mount(o).then())};n("name",this.nameField),n("login",this.loginField),n("birthdate",this.birthdateField),n("gender",this.genderGroup),n("password",this.passwordField),n("passwordRepeat",this.passwordRepeatField),n("submit",this.submitButton);var r=this.element;null==r||r.addEventListener("submit",function(e){var n,r;e.preventDefault();var o={name:t.nameField.getValue(),login:t.loginField.getValue(),birthdate:t.birthdateField.getValue(),gender:t.genderGroup.getValue(),password:t.passwordField.getValue(),passwordRepeat:t.passwordRepeatField.getValue()};null===(n=(r=t.props).onSubmit)||void 0===n||n.call(r,o)}),this.errorContainer=null===(e=this.element)||void 0===e?void 0:e.querySelector('[data-slot="error"]'),this.updateGeneralError()}},{key:"applyErrors",value:function(e){var t,n,r,o,i;this.setFormError(null);var a=new Map;e.forEach(function(e){return a.set(e.field,e.message)}),this.setFieldError("name",null!==(t=a.get("name"))&&void 0!==t?t:null),this.setFieldError("login",null!==(n=a.get("login"))&&void 0!==n?n:null),this.setFieldError("birthdate",null!==(r=a.get("birthdate"))&&void 0!==r?r:null),this.setFieldError("password",null!==(o=a.get("password"))&&void 0!==o?o:null),this.setFieldError("passwordRepeat",null!==(i=a.get("passwordRepeat"))&&void 0!==i?i:null),0===e.length&&this.setFormError(null)}},{key:"clearErrors",value:function(){this.setFieldError("name",null),this.setFieldError("login",null),this.setFieldError("birthdate",null),this.setFieldError("password",null),this.setFieldError("passwordRepeat",null),this.setFormError(null)}},{key:"setFormError",value:function(e){this.generalError=(null==e?void 0:e.trim())||null,this.updateGeneralError()}},{key:"setFieldError",value:function(e,t){switch(e){case"name":this.nameField.setError(t);break;case"login":this.loginField.setError(t);break;case"birthdate":this.birthdateField.setError(t);break;case"password":this.passwordField.setError(t);break;case"passwordRepeat":this.passwordRepeatField.setError(t)}}},{key:"clearFieldError",value:function(e){this.setFieldError(e,null)}},{key:"updateGeneralError",value:function(){if(this.errorContainer){var e=this.generalError;this.errorContainer.textContent=null!=e?e:"",this.errorContainer.classList.toggle("register-form__error--visible",Boolean(e))}}}])&&zn(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Se),Zn=n(8200),Xn={};function er(e){return er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},er(e)}function tr(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return nr(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(nr(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,nr(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,nr(f,"constructor",c),nr(c,"constructor",u),u.displayName="GeneratorFunction",nr(c,o,"GeneratorFunction"),nr(f),nr(f,o,"Generator"),nr(f,r,function(){return this}),nr(f,"toString",function(){return"[object Generator]"}),(tr=function(){return{w:i,m:p}})()}function nr(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}nr=function(e,t,n,r){function i(t,n){nr(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},nr(e,t,n,r)}function rr(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ir(r.key),r)}}function ir(e){var t=function(e){if("object"!=er(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=er(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==er(t)?t:t+""}function ar(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ar=function(){return!!e})()}function lr(e){return lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lr(e)}function ur(e,t){return ur=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ur(e,t)}Xn.styleTagTransform=ot(),Xn.setAttributes=et(),Xn.insert=Ze().bind(null,"head"),Xn.domAPI=Ke(),Xn.insertStyleElement=nt(),Qe()(Zn.A,Xn),Zn.A&&Zn.A.locals&&Zn.A.locals;var cr=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=lr(t),function(e,t){if(t&&("object"==er(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ar()?Reflect.construct(t,n||[],lr(e).constructor):t.apply(e,n))}(this,t)).form=new Jn({onSubmit:function(t){return e.handleSubmit(t)}}),e.authButton=new Ut({variant:"secondary",label:"    ",onClick:function(){return e.router.navigate("/auth")},fullWidth:!0}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ur(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){return'<div class="register-page"></div>'}},{key:"getSlotContent",value:function(){var e=document.createElement("div");e.className="register-page";var t=document.createElement("h1");t.className="register-page__title",t.textContent="",e.appendChild(t);var n=document.createElement("div");n.className="register-page__form",this.form.render(),this.form.mount(n).then(),e.appendChild(n);var r=document.createElement("div");return r.className="register-page__actions",this.authButton.render(),this.authButton.mount(r).then(),e.appendChild(r),{content:e}}},{key:"handleSubmit",value:(o=tr().m(function e(t){var n,r,o,i;return tr().w(function(e){for(;;)switch(e.n){case 0:if(r=U(t),this.form.applyErrors(r),!(r.length>0)){e.n=1;break}return e.a(2);case 1:return this.form.clearErrors(),this.form.setFormError(null),o={name:t.name.trim(),username:v(t.login),birthday:y(t.birthdate),gender:null!==(n=t.gender)&&void 0!==n?n:"male",password:t.password},e.n=2,sn(o);case 2:if((i=e.v).success){e.n=3;break}return this.form.setFormError(i.message),e.a(2);case 3:this.router.navigate("/auth");case 4:return e.a(2)}},e,this)}),i=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=o.apply(e,t);function a(e){rr(i,n,r,a,l,"next",e)}function l(e){rr(i,n,r,a,l,"throw",e)}a(void 0)})},function(e){return i.apply(this,arguments)})}],r&&or(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i}(We),sr=n(5342),fr=n.n(sr),pr=n(9783),dr={};dr.styleTagTransform=ot(),dr.setAttributes=et(),dr.insert=Ze().bind(null,"head"),dr.domAPI=Ke(),dr.insertStyleElement=nt(),Qe()(pr.A,dr),pr.A&&pr.A.locals&&pr.A.locals;var Ar=n(8561),hr=n.n(Ar),mr=n(5462),yr={};function vr(e){return vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vr(e)}function br(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return gr(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(gr(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,gr(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,gr(f,"constructor",c),gr(c,"constructor",u),u.displayName="GeneratorFunction",gr(c,o,"GeneratorFunction"),gr(f),gr(f,o,"Generator"),gr(f,r,function(){return this}),gr(f,"toString",function(){return"[object Generator]"}),(br=function(){return{w:i,m:p}})()}function gr(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}gr=function(e,t,n,r){function i(t,n){gr(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},gr(e,t,n,r)}function Cr(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wr(Object(n),!0).forEach(function(t){Sr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Er(r.key),r)}}function Or(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Or=function(){return!!e})()}function jr(e,t,n,r){var o=Br(kr(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function Br(){return Br="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=kr(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Br.apply(null,arguments)}function kr(e){return kr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kr(e)}function Pr(e,t){return Pr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pr(e,t)}function Sr(e,t,n){return(t=Er(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Er(e){var t=function(e){if("object"!=vr(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=vr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==vr(t)?t:t+""}yr.styleTagTransform=ot(),yr.setAttributes=et(),yr.insert=Ze().bind(null,"head"),yr.domAPI=Ke(),yr.insertStyleElement=nt(),Qe()(mr.A,yr),mr.A&&mr.A.locals&&mr.A.locals;var Tr=function(e){function t(){var e,n,r,o,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Sr(o=function(e,t,n){return t=kr(t),function(e,t){if(t&&("object"==vr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Or()?Reflect.construct(t,n||[],kr(e).constructor):t.apply(e,n))}(this,t,[{placeholder:null!==(e=i.placeholder)&&void 0!==e?e:"",value:null!==(n=i.value)&&void 0!==n?n:"",debounce:null!==(r=i.debounce)&&void 0!==r?r:0,onInput:i.onInput}]),"inputEl",null),Sr(o,"debounceTimer",null),Sr(o,"handleInput",function(){var e;if(o.inputEl){var t,n,r=o.inputEl.value,i=null!==(e=o.props.debounce)&&void 0!==e?e:0;o.debounceTimer&&window.clearTimeout(o.debounceTimer),i>0?o.debounceTimer=window.setTimeout(function(){var e,t;null===(e=(t=o.props).onInput)||void 0===e||e.call(t,r)},i):null===(t=(n=o.props).onInput)||void 0===t||t.call(n,r)}}),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pr(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){var e,t;return hr()({placeholder:null!==(e=this.props.placeholder)&&void 0!==e?e:"",value:null!==(t=this.props.value)&&void 0!==t?t:""})}},{key:"afterRender",value:function(){var e;this.inputEl=null===(e=this.element)||void 0===e?void 0:e.querySelector("input"),this.inputEl&&this.inputEl.addEventListener("input",this.handleInput)}},{key:"setProps",value:function(e){var t,n;this.props=_r(_r({},this.props),e),this.inputEl&&(void 0!==e.placeholder&&(this.inputEl.placeholder=null!==(t=e.placeholder)&&void 0!==t?t:""),void 0!==e.value&&(this.inputEl.value=null!==(n=e.value)&&void 0!==n?n:""))}},{key:"unmount",value:(o=br().m(function e(){return br().w(function(e){for(;;)switch(e.n){case 0:return this.inputEl&&this.inputEl.removeEventListener("input",this.handleInput),this.debounceTimer&&(window.clearTimeout(this.debounceTimer),this.debounceTimer=null),this.inputEl=null,e.n=1,jr(t,"unmount",this,3)([]);case 1:return e.a(2)}},e,this)}),i=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=o.apply(e,t);function a(e){Cr(i,n,r,a,l,"next",e)}function l(e){Cr(i,n,r,a,l,"throw",e)}a(void 0)})},function(){return i.apply(this,arguments)})}],r&&xr(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i}(Se),Fr=n(81),Rr=n.n(Fr),Ir=n(878),Mr={};function Ur(e){return Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ur(e)}function Nr(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return Dr(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Dr(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Dr(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,Dr(f,"constructor",c),Dr(c,"constructor",u),u.displayName="GeneratorFunction",Dr(c,o,"GeneratorFunction"),Dr(f),Dr(f,o,"Generator"),Dr(f,r,function(){return this}),Dr(f,"toString",function(){return"[object Generator]"}),(Nr=function(){return{w:i,m:p}})()}function Dr(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Dr=function(e,t,n,r){function i(t,n){Dr(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Dr(e,t,n,r)}function Gr(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function qr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qr(Object(n),!0).forEach(function(t){$r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Yr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Kr(r.key),r)}}function Wr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Wr=function(){return!!e})()}function zr(e,t,n,r){var o=Vr(Hr(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function Vr(){return Vr="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Hr(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Vr.apply(null,arguments)}function Hr(e){return Hr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hr(e)}function Qr(e,t){return Qr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qr(e,t)}function $r(e,t,n){return(t=Kr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kr(e){var t=function(e){if("object"!=Ur(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ur(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ur(t)?t:t+""}Mr.styleTagTransform=ot(),Mr.setAttributes=et(),Mr.insert=Ze().bind(null,"head"),Mr.domAPI=Ke(),Mr.insertStyleElement=nt(),Qe()(Ir.A,Mr),Ir.A&&Ir.A.locals&&Ir.A.locals;var Jr=function(e){return(null!=e?e:"").slice(0,2).toUpperCase()},Zr=function(e){function t(){var e,n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$r(r=function(e,t,n){return t=Hr(t),function(e,t){if(t&&("object"==Ur(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Wr()?Reflect.construct(t,n||[],Hr(e).constructor):t.apply(e,n))}(this,t,[{label:null!==(e=o.label)&&void 0!==e?e:"AK",imageUrl:null!==(n=o.imageUrl)&&void 0!==n?n:null,onClick:o.onClick}]),"buttonEl",null),$r(r,"handleClick",function(e){var t,n;null===(t=(n=r.props).onClick)||void 0===t||t.call(n,e)}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qr(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){var e,t;return Rr()({label:Jr(null!==(e=this.props.label)&&void 0!==e?e:""),imageUrl:null!==(t=this.props.imageUrl)&&void 0!==t?t:null})}},{key:"afterRender",value:function(){this.buttonEl=this.element,this.buttonEl&&this.buttonEl.addEventListener("click",this.handleClick)}},{key:"setProps",value:function(e){if(this.props=Lr(Lr({},this.props),e),this.buttonEl){var t,n,r,o=this.buttonEl.querySelector(".header__avatar"),i=this.buttonEl.querySelector(".header__avatar--image");if(void 0!==e.imageUrl)if(e.imageUrl){if(!i&&this.buttonEl)this.buttonEl.innerHTML='<img class="header__avatar header__avatar--image" src="'.concat(e.imageUrl,'" alt="').concat(null!==(t=null!==(n=e.label)&&void 0!==n?n:this.props.label)&&void 0!==t?t:"",'" loading="lazy" decoding="async" />');else if(i){var a,l;i.src=e.imageUrl,i.alt=null!==(a=null!==(l=e.label)&&void 0!==l?l:this.props.label)&&void 0!==a?a:""}}else i&&(i.remove(),this.props.label&&(this.buttonEl.innerHTML='<span class="header__avatar">'.concat(Jr(this.props.label),"</span>")));void 0!==e.label&&(i?i.alt=null!==(r=e.label)&&void 0!==r?r:"":o&&(o.textContent=Jr(e.label)))}}},{key:"unmount",value:(o=Nr().m(function e(){return Nr().w(function(e){for(;;)switch(e.n){case 0:return this.buttonEl&&this.buttonEl.removeEventListener("click",this.handleClick),this.buttonEl=null,e.n=1,zr(t,"unmount",this,3)([]);case 1:return e.a(2)}},e,this)}),i=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=o.apply(e,t);function a(e){Gr(i,n,r,a,l,"next",e)}function l(e){Gr(i,n,r,a,l,"throw",e)}a(void 0)})},function(){return i.apply(this,arguments)})}],r&&Yr(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i}(Se),Xr=n(9204),eo=n.n(Xr),to=n(8441),no={};no.styleTagTransform=ot(),no.setAttributes=et(),no.insert=Ze().bind(null,"head"),no.domAPI=Ke(),no.insertStyleElement=nt(),Qe()(to.A,no),to.A&&to.A.locals&&to.A.locals;var ro="",oo="",io="",ao="",lo={composeButton:" ",defaultFolders:[{id:"inbox",name:"",count:0,icon:"/img/folder-inbox.svg"},{id:"conversations",name:"",icon:"/img/folder-dialog.svg"},{id:"sent",name:"",icon:"/img/folder-sent.svg"},{id:"drafts",name:"",icon:"/img/folder-drafts.svg"},{id:"spam",name:"",icon:"/img/folder-spam.svg"},{id:"trash",name:"",icon:"/img/folder-trash.svg"},{id:"custom",name:" ",icon:"/img/folder-add.svg"}]},uo="No_emails_text";function co(e){return co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},co(e)}function so(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return fo(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(fo(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,fo(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,fo(f,"constructor",c),fo(c,"constructor",u),u.displayName="GeneratorFunction",fo(c,o,"GeneratorFunction"),fo(f),fo(f,o,"Generator"),fo(f,r,function(){return this}),fo(f,"toString",function(){return"[object Generator]"}),(so=function(){return{w:i,m:p}})()}function fo(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}fo=function(e,t,n,r){function i(t,n){fo(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},fo(e,t,n,r)}function po(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function Ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ho(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ao(Object(n),!0).forEach(function(t){mo(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ao(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function mo(e,t,n){return(t=vo(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vo(r.key),r)}}function vo(e){var t=function(e){if("object"!=co(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=co(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==co(t)?t:t+""}function bo(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(bo=function(){return!!e})()}function go(e,t,n,r){var o=Co(wo(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function Co(){return Co="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=wo(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Co.apply(null,arguments)}function wo(e){return wo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wo(e)}function _o(e,t){return _o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_o(e,t)}var xo=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=wo(t),function(e,t){if(t&&("object"==co(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,bo()?Reflect.construct(t,n||[],wo(e).constructor):t.apply(e,n))}(this,t,[n])).profileButton=new Ut({label:oo,variant:"link",fullWidth:!0,icon:'<img src="/img/menu-profile-logo.svg" alt="" aria-hidden="true" />',onClick:function(){var t,n;return null===(t=(n=e.props).onProfile)||void 0===t?void 0:t.call(n)}}),e.settingsButton=new Ut({label:io,variant:"link",fullWidth:!0,icon:'<img src="/img/menu-settings-logo.svg" alt="" aria-hidden="true" />',onClick:function(){var t,n;return null===(t=(n=e.props).onSettings)||void 0===t?void 0:t.call(n)}}),e.logoutButton=new Ut({label:ao,variant:"link",fullWidth:!0,icon:'<img src="/img/menu-logout-logo.svg" alt="" aria-hidden="true" />',onClick:function(){var t,n;return null===(t=(n=e.props).onLogout)||void 0===t?void 0:t.call(n)}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_o(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){return eo()({})}},{key:"afterRender",value:function(){this.mountButton("profile",this.profileButton),this.mountButton("settings",this.settingsButton),this.mountButton("logout",this.logoutButton)}},{key:"setProps",value:function(e){var t=this;this.props=ho(ho({},this.props),e),this.profileButton.setProps({label:oo,onClick:function(){var e,n;return null===(e=(n=t.props).onProfile)||void 0===e?void 0:e.call(n)}}),this.settingsButton.setProps({label:io,onClick:function(){var e,n;return null===(e=(n=t.props).onSettings)||void 0===e?void 0:e.call(n)}}),this.logoutButton.setProps({label:ao,onClick:function(){var e,n;return null===(e=(n=t.props).onLogout)||void 0===e?void 0:e.call(n)}})}},{key:"unmount",value:(o=so().m(function e(){return so().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.profileButton.unmount();case 1:return e.n=2,this.settingsButton.unmount();case 2:return e.n=3,this.logoutButton.unmount();case 3:return e.n=4,go(t,"unmount",this,3)([]);case 4:return e.a(2)}},e,this)}),i=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=o.apply(e,t);function a(e){po(i,n,r,a,l,"next",e)}function l(e){po(i,n,r,a,l,"throw",e)}a(void 0)})},function(){return i.apply(this,arguments)})},{key:"mountButton",value:function(e,t){var n,r=null===(n=this.element)||void 0===n?void 0:n.querySelector('[data-slot="'.concat(e,'"]'));if(r){r.innerHTML="";var o=t.render();r.appendChild(o),t.mount(r).then()}}}],r&&yo(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i}(Se);function Oo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"--";return e&&e.split(" ").map(function(e){return e.trim()}).filter(Boolean).map(function(e){return e[0]}).join("").slice(0,2).toUpperCase()||t}function jo(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return Bo(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Bo(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Bo(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,Bo(f,"constructor",c),Bo(c,"constructor",u),u.displayName="GeneratorFunction",Bo(c,o,"GeneratorFunction"),Bo(f),Bo(f,o,"Generator"),Bo(f,r,function(){return this}),Bo(f,"toString",function(){return"[object Generator]"}),(jo=function(){return{w:i,m:p}})()}function Bo(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Bo=function(e,t,n,r){function i(t,n){Bo(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Bo(e,t,n,r)}function ko(e){return ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ko(e)}function Po(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function So(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Eo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?So(Object(n),!0).forEach(function(t){To(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):So(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function To(e,t,n){return(t=function(e){var t=function(e){if("object"!=ko(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ko(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ko(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fo=null,Ro=null;function Io(e){var t,n=(e.fullName||e.username).trim()||e.username;return{avatarUrl:null!==(t=e.avatarUrl)&&void 0!==t?t:null,initials:Oo(n),fullName:n,email:e.email}}function Mo(e){Fo={data:Eo({},e),expiresAt:Date.now()+84e4},Ro=Promise.resolve(Eo({},e))}function Uo(){var e=Go();return e?Eo({},e.data):null}function No(){return Do.apply(this,arguments)}function Do(){var e;return e=jo().m(function e(){var t;return jo().w(function(e){for(;;)switch(e.n){case 0:if(!(t=Go())){e.n=1;break}return e.a(2,Eo({},t.data));case 1:return Ro||(Ro=Q().then(function(e){var t=Io(e);return Mo(t),t}).catch(function(e){throw Ro=null,e})),e.a(2,Ro.then(function(e){return Eo({},e)}))}},e)}),Do=function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Po(i,r,o,a,l,"next",e)}function l(e){Po(i,r,o,a,l,"throw",e)}a(void 0)})},Do.apply(this,arguments)}function Go(){return Fo?Fo.expiresAt<=Date.now()?(Fo=null,Ro=null,null):Fo:null}function qo(e){return qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qo(e)}function Lo(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return Yo(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Yo(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Yo(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,Yo(f,"constructor",c),Yo(c,"constructor",u),u.displayName="GeneratorFunction",Yo(c,o,"GeneratorFunction"),Yo(f),Yo(f,o,"Generator"),Yo(f,r,function(){return this}),Yo(f,"toString",function(){return"[object Generator]"}),(Lo=function(){return{w:i,m:p}})()}function Yo(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Yo=function(e,t,n,r){function i(t,n){Yo(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Yo(e,t,n,r)}function Wo(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function zo(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Wo(i,r,o,a,l,"next",e)}function l(e){Wo(i,r,o,a,l,"throw",e)}a(void 0)})}}function Vo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ho(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vo(Object(n),!0).forEach(function(t){ei(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vo(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Qo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ti(r.key),r)}}function $o(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return($o=function(){return!!e})()}function Ko(e,t,n,r){var o=Jo(Zo(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function Jo(){return Jo="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Zo(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Jo.apply(null,arguments)}function Zo(e){return Zo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zo(e)}function Xo(e,t){return Xo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xo(e,t)}function ei(e,t,n){return(t=ti(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ti(e){var t=function(e){if("object"!=qo(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=qo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==qo(t)?t:t+""}var ni=function(e){function t(){var e,n,r,o,i,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),ei(o=function(e,t,n){return t=Zo(t),function(e,t){if(t&&("object"==qo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,$o()?Reflect.construct(t,n||[],Zo(e).constructor):t.apply(e,n))}(this,t,[a]),"router",ye.getInstance()),ei(o,"hasRequestedProfile",!1),ei(o,"outsideClickHandler",function(e){var t=e.target;if(o.menuElement){var n=!!t&&o.menuElement.contains(t),r=!(!t||!o.avatarButtonElement)&&o.avatarButtonElement.contains(t);n||r||o.closeMenu()}}),o.showSearch=null===(e=a.showSearch)||void 0===e||e,o.showSearch&&(o.searchInput=new Tr({placeholder:null!==(i=a.searchPlaceholder)&&void 0!==i?i:ro,debounce:300,onInput:function(e){var t,n;return null===(t=(n=o.props).onSearch)||void 0===t?void 0:t.call(n,e)}})),o.avatarButton=new Zr({label:null!==(n=a.avatarLabel)&&void 0!==n?n:" ",imageUrl:null!==(r=a.avatarImageUrl)&&void 0!==r?r:null,onClick:function(e){return o.toggleMenu(e)}}),o.avatarMenu=new xo({onProfile:function(){return o.handleMenuSelect(function(){var e,t;o.router.navigate("/profile"),null===(e=(t=o.props).onProfile)||void 0===e||e.call(t)})},onSettings:function(){return o.handleMenuSelect(o.props.onSettings)},onLogout:function(){return o.handleMenuSelect(o.props.onLogout)}});var l=o.extractProfileInfo();return l&&(Mo(l),o.hasRequestedProfile=!0),o.ensureProfileInfo(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xo(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){return fr()({})}},{key:"afterRender",value:function(){var e=this.element,t=e.querySelector('[data-slot="search"]');if(t&&(t.innerHTML="",this.showSearch&&this.searchInput)){this.searchInput.unmount().then();var n=this.searchInput.render();t.appendChild(n),this.searchInput.mount(t).then()}var r=e.querySelector('[data-slot="avatar"]');if(r){this.avatarButton.unmount().then();var o=this.avatarButton.render();r.innerHTML="",r.appendChild(o),this.avatarButton.mount(r).then(),this.avatarButtonElement=r.querySelector("[data-avatar-button]")}var i=e.querySelector('[data-slot="menu"]');if(i){var a=this.avatarMenu.render();i.innerHTML="",i.appendChild(a),this.avatarMenu.mount(i).then(),this.menuElement=i,this.menuElement.setAttribute("aria-hidden","true"),this.menuElement.style.display="none"}this.ensureProfileInfo()}},{key:"setProps",value:function(e){var t,n,r,o,i=this;this.props=Ho(Ho({},this.props),e),void 0!==e.showSearch&&(this.showSearch=e.showSearch),null===(t=this.searchInput)||void 0===t||t.setProps({placeholder:null!==(n=this.props.searchPlaceholder)&&void 0!==n?n:ro,onInput:function(e){var t,n;return null===(t=(n=i.props).onSearch)||void 0===t?void 0:t.call(n,e)}}),this.avatarButton.setProps({label:null!==(r=this.props.avatarLabel)&&void 0!==r?r:" ",imageUrl:null!==(o=this.props.avatarImageUrl)&&void 0!==o?o:null,onClick:function(e){return i.toggleMenu(e)}}),this.avatarMenu.setProps({onProfile:function(){return i.handleMenuSelect(function(){var e,t;i.router.navigate("/profile"),null===(e=(t=i.props).onProfile)||void 0===e||e.call(t)})},onSettings:function(){return i.handleMenuSelect(i.props.onSettings)},onLogout:function(){return i.handleMenuSelect(i.props.onLogout)}});var a=this.extractProfileInfo();a&&(Mo(a),this.hasRequestedProfile=!0),this.ensureProfileInfo()}},{key:"toggleMenu",value:function(e){if(e.stopPropagation(),this.menuElement){var t=!this.menuElement.classList.contains("open");this.menuElement.classList.toggle("open",t),this.menuElement.setAttribute("aria-hidden",t?"false":"true"),this.menuElement.style.display=t?"block":"none",t?document.addEventListener("pointerdown",this.outsideClickHandler):document.removeEventListener("pointerdown",this.outsideClickHandler)}}},{key:"closeMenu",value:function(){this.menuElement&&this.menuElement.classList.contains("open")&&(this.menuElement.classList.remove("open"),this.menuElement.setAttribute("aria-hidden","true"),this.menuElement.style.display="none",document.removeEventListener("pointerdown",this.outsideClickHandler))}},{key:"handleMenuSelect",value:function(e){this.closeMenu(),null==e||e()}},{key:"unmount",value:(i=zo(Lo().m(function e(){var n;return Lo().w(function(e){for(;;)switch(e.n){case 0:return document.removeEventListener("pointerdown",this.outsideClickHandler),e.n=1,null===(n=this.searchInput)||void 0===n?void 0:n.unmount();case 1:return e.n=2,this.avatarButton.unmount();case 2:return e.n=3,this.avatarMenu.unmount();case 3:return e.n=4,Ko(t,"unmount",this,3)([]);case 4:return e.a(2)}},e,this)})),function(){return i.apply(this,arguments)})},{key:"ensureProfileInfo",value:(o=zo(Lo().m(function e(){var t,n,r;return Lo().w(function(e){for(;;)switch(e.p=e.n){case 0:if(this.element){e.n=1;break}return e.a(2);case 1:if(!(t=Uo())){e.n=2;break}return this.hasRequestedProfile||(this.applyProfilePreview(t),this.hasRequestedProfile=!0),e.a(2);case 2:return e.p=2,this.hasRequestedProfile=!0,e.n=3,No();case 3:n=e.v,this.applyProfilePreview(n),e.n=5;break;case 4:e.p=4,r=e.v,this.hasRequestedProfile=!1,console.error("Failed to load profile data for header",r);case 5:return e.a(2)}},e,this,[[2,4]])})),function(){return o.apply(this,arguments)})},{key:"applyProfilePreview",value:function(e){this.setProps({avatarImageUrl:e.avatarUrl,avatarLabel:e.initials,userName:e.fullName,userEmail:e.email})}},{key:"extractProfileInfo",value:function(){var e,t,n,r,o=(null!==(e=this.props.userName)&&void 0!==e?e:"").trim(),i=(null!==(t=this.props.userEmail)&&void 0!==t?t:"").trim(),a=null!==(n=this.props.avatarImageUrl)&&void 0!==n?n:null;if(!o&&!i&&!a)return null;var l=(null!==(r=this.props.avatarLabel)&&void 0!==r?r:"").trim()||(o?Oo(o):"--");return{avatarUrl:a,initials:l,fullName:o||l,email:i}}}],r&&Qo(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i}(Se),ri=n(2122),oi=n.n(ri),ii=n(9683),ai={};ai.styleTagTransform=ot(),ai.setAttributes=et(),ai.insert=Ze().bind(null,"head"),ai.domAPI=Ke(),ai.insertStyleElement=nt(),Qe()(ii.A,ai),ii.A&&ii.A.locals&&ii.A.locals;var li=n(3505),ui=n.n(li),ci=n(4190),si={};function fi(e){return fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fi(e)}function pi(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return di(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(di(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,di(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,di(f,"constructor",c),di(c,"constructor",u),u.displayName="GeneratorFunction",di(c,o,"GeneratorFunction"),di(f),di(f,o,"Generator"),di(f,r,function(){return this}),di(f,"toString",function(){return"[object Generator]"}),(pi=function(){return{w:i,m:p}})()}function di(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}di=function(e,t,n,r){function i(t,n){di(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},di(e,t,n,r)}function Ai(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function hi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function mi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hi(Object(n),!0).forEach(function(t){_i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hi(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function yi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xi(r.key),r)}}function vi(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(vi=function(){return!!e})()}function bi(e,t,n,r){var o=gi(Ci(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function gi(){return gi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Ci(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},gi.apply(null,arguments)}function Ci(e){return Ci=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ci(e)}function wi(e,t){return wi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wi(e,t)}function _i(e,t,n){return(t=xi(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xi(e){var t=function(e){if("object"!=fi(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=fi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==fi(t)?t:t+""}si.styleTagTransform=ot(),si.setAttributes=et(),si.insert=Ze().bind(null,"head"),si.domAPI=Ke(),si.insertStyleElement=nt(),Qe()(ci.A,si),ci.A&&ci.A.locals&&ci.A.locals;var Oi={inbox:"/img/folder-inbox.svg",sent:"/img/folder-sent.svg",drafts:"/img/folder-drafts.svg"},ji=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return _i(e=function(e,t,n){return t=Ci(t),function(e,t){if(t&&("object"==fi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,vi()?Reflect.construct(t,n||[],Ci(e).constructor):t.apply(e,n))}(this,t,[].concat(r)),"handleClick",function(){var t,n;null===(t=(n=e.props).onSelect)||void 0===t||t.call(n,e.props.id)}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wi(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){return ui()({id:this.props.id,name:this.props.name,count:this.props.count,active:this.props.active})}},{key:"afterRender",value:function(){var e;null===(e=this.element)||void 0===e||e.addEventListener("click",this.handleClick),this.applyIcon()}},{key:"setProps",value:function(e){if(this.props=mi(mi({},this.props),e),this.element){this.element.classList.toggle("sidebar-folder--active",!!this.props.active);var t=this.element.querySelector(".sidebar-folder__name");t&&(t.textContent=this.props.name);var n=this.element.querySelector(".sidebar-folder__count");if(this.props.count)if(n)n.textContent=String(this.props.count);else{var r=document.createElement("span");r.className="sidebar-folder__count",r.textContent=String(this.props.count),this.element.appendChild(r)}else n&&n.remove();this.applyIcon()}}},{key:"applyIcon",value:function(){var e,t;if(this.element){var n=this.element.querySelector(".sidebar-folder__icon");if(n){var r=null!==(e=null!==(t=this.props.icon)&&void 0!==t?t:Oi[this.props.id])&&void 0!==e?e:"/img/folder-default.svg";n.style.backgroundImage="url(".concat(r,")")}}}},{key:"unmount",value:(o=pi().m(function e(){var n;return pi().w(function(e){for(;;)switch(e.n){case 0:return null===(n=this.element)||void 0===n||n.removeEventListener("click",this.handleClick),e.n=1,bi(t,"unmount",this,3)([]);case 1:return e.a(2)}},e,this)}),i=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=o.apply(e,t);function a(e){Ai(i,n,r,a,l,"next",e)}function l(e){Ai(i,n,r,a,l,"throw",e)}a(void 0)})},function(){return i.apply(this,arguments)})}],r&&yi(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i}(Se);function Bi(e){return Bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bi(e)}function ki(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return Pi(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Pi(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Pi(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,Pi(f,"constructor",c),Pi(c,"constructor",u),u.displayName="GeneratorFunction",Pi(c,o,"GeneratorFunction"),Pi(f),Pi(f,o,"Generator"),Pi(f,r,function(){return this}),Pi(f,"toString",function(){return"[object Generator]"}),(ki=function(){return{w:i,m:p}})()}function Pi(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Pi=function(e,t,n,r){function i(t,n){Pi(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Pi(e,t,n,r)}function Si(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function Ei(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||Fi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ti(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Fi(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function Fi(e,t){if(e){if("string"==typeof e)return Ri(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ri(e,t):void 0}}function Ri(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ii(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Mi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ii(Object(n),!0).forEach(function(t){Yi(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ii(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ui(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Wi(r.key),r)}}function Ni(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ni=function(){return!!e})()}function Di(e,t,n,r){var o=Gi(qi(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function Gi(){return Gi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=qi(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Gi.apply(null,arguments)}function qi(e){return qi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qi(e)}function Li(e,t){return Li=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Li(e,t)}function Yi(e,t,n){return(t=Wi(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wi(e){var t=function(e){if("object"!=Bi(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Bi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Bi(t)?t:t+""}var zi=function(e){function t(){var e,n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Yi(r=function(e,t,n){return t=qi(t),function(e,t){if(t&&("object"==Bi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ni()?Reflect.construct(t,n||[],qi(e).constructor):t.apply(e,n))}(this,t,[{folders:null!==(e=o.folders)&&void 0!==e?e:lo.defaultFolders,activeFolderId:null!==(n=o.activeFolderId)&&void 0!==n?n:lo.defaultFolders[0].id,onCompose:o.onCompose,onFolderSelect:o.onFolderSelect}]),"folderItems",new Map),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Li(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){return oi()({composeButtonText:lo.composeButton})}},{key:"afterRender",value:function(){var e=this,t=this.element,n=t.querySelector("[data-compose]");this.foldersRoot=t.querySelector('[data-slot="folders"]'),n&&(this.composeHandler=function(t){var n,r;t.preventDefault(),null===(n=(r=e.props).onCompose)||void 0===n||n.call(r)},n.addEventListener("click",this.composeHandler)),this.renderFolders()}},{key:"setProps",value:function(e){this.props=Mi(Mi({},this.props),e),this.renderFolders()}},{key:"renderFolders",value:function(){var e,t=this;if(this.foldersRoot){var n,r=null!==(e=this.props.folders)&&void 0!==e?e:lo.defaultFolders,o=Ti(this.folderItems);try{for(o.s();!(n=o.n()).done;)Ei(n.value,2)[1].unmount().then()}catch(e){o.e(e)}finally{o.f()}this.folderItems.clear(),this.foldersRoot.innerHTML="",r.forEach(function(e){var n=Mi(Mi({},e),{},{active:e.id===t.props.activeFolderId,onSelect:function(e){var n,r;null===(n=(r=t.props).onFolderSelect)||void 0===n||n.call(r,e)}}),r=new ji(n);r.render(),r.mount(t.foldersRoot).then(),t.folderItems.set(e.id,r)})}}},{key:"unmount",value:(o=ki().m(function e(){var n,r,o,i,a,l,u;return ki().w(function(e){for(;;)switch(e.p=e.n){case 0:n=this.element,(r=null==n?void 0:n.querySelector("[data-compose]"))&&this.composeHandler&&(r.removeEventListener("click",this.composeHandler),this.composeHandler=void 0),o=Ti(this.folderItems),e.p=1,o.s();case 2:if((i=o.n()).done){e.n=4;break}return a=Ei(i.value,2),l=a[1],e.n=3,l.unmount();case 3:e.n=2;break;case 4:e.n=6;break;case 5:e.p=5,u=e.v,o.e(u);case 6:return e.p=6,o.f(),e.f(6);case 7:return this.folderItems.clear(),e.n=8,Di(t,"unmount",this,3)([]);case 8:return e.a(2)}},e,this,[[1,5,6,7]])}),i=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=o.apply(e,t);function a(e){Si(i,n,r,a,l,"next",e)}function l(e){Si(i,n,r,a,l,"throw",e)}a(void 0)})},function(){return i.apply(this,arguments)})}],r&&Ui(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i}(Se),Vi=n(8238),Hi=n.n(Vi),Qi=n(7135),$i={};$i.styleTagTransform=ot(),$i.setAttributes=et(),$i.insert=Ze().bind(null,"head"),$i.domAPI=Ke(),$i.insertStyleElement=nt(),Qe()(Qi.A,$i),Qi.A&&Qi.A.locals&&Qi.A.locals;var Ki=n(9407),Ji=n.n(Ki),Zi=n(192),Xi={};function ea(e){return ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ea(e)}function ta(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return na(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(na(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,na(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,na(f,"constructor",c),na(c,"constructor",u),u.displayName="GeneratorFunction",na(c,o,"GeneratorFunction"),na(f),na(f,o,"Generator"),na(f,r,function(){return this}),na(f,"toString",function(){return"[object Generator]"}),(ta=function(){return{w:i,m:p}})()}function na(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}na=function(e,t,n,r){function i(t,n){na(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},na(e,t,n,r)}function ra(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function oa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sa(r.key),r)}}function ia(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ia=function(){return!!e})()}function aa(e,t,n,r){var o=la(ua(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function la(){return la="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=ua(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},la.apply(null,arguments)}function ua(e){return ua=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ua(e)}function ca(e,t){return ca=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ca(e,t)}function sa(e){var t=function(e){if("object"!=ea(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ea(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ea(t)?t:t+""}Xi.styleTagTransform=ot(),Xi.setAttributes=et(),Xi.insert=Ze().bind(null,"head"),Xi.domAPI=Ke(),Xi.insertStyleElement=nt(),Qe()(Zi.A,Xi),Zi.A&&Zi.A.locals&&Zi.A.locals;var fa=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return e=function(e,t,n){return t=ua(t),function(e,t){if(t&&("object"==ea(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ia()?Reflect.construct(t,n||[],ua(e).constructor):t.apply(e,n))}(this,t,[].concat(a)),n=e,o=function(){if(e.avatarImg){var t=document.createElement("div");t.className="mail-item__avatar mail-item__avatar--placeholder",t.textContent=e.getInitials(),e.avatarImg.replaceWith(t),e.avatarImg=null}},(r=sa(r="handleAvatarError"))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ca(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){var e=this.props.mail,t=this.getInitials();return Ji()({id:e.id,from:e.from,subject:e.subject,preview:e.preview,time:e.time,avatarUrl:e.avatarUrl,isRead:!!e.isRead,initials:t})}},{key:"afterRender",value:function(){var e=this,t=this.element;this.openHandler=function(t){var n,r;t.target.closest("[data-action]")||null===(n=(r=e.props).onOpen)||void 0===n||n.call(r,e.props.mail.id)},t.addEventListener("click",this.openHandler),this.avatarImg=t.querySelector(".mail-item__avatar-image"),this.avatarImg&&this.avatarImg.addEventListener("error",this.handleAvatarError,{once:!0})}},{key:"getInitials",value:function(){var e,t=Oo(null!==(e=this.props.mail.from)&&void 0!==e?e:"","?");return t?t[0]:"?"}},{key:"unmount",value:(o=ta().m(function e(){var n;return ta().w(function(e){for(;;)switch(e.n){case 0:return(n=this.element)&&this.openHandler&&n.removeEventListener("click",this.openHandler),this.avatarImg&&(this.avatarImg.removeEventListener("error",this.handleAvatarError),this.avatarImg=null),e.n=1,aa(t,"unmount",this,3)([]);case 1:return e.a(2)}},e,this)}),i=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=o.apply(e,t);function a(e){ra(i,n,r,a,l,"next",e)}function l(e){ra(i,n,r,a,l,"throw",e)}a(void 0)})},function(){return i.apply(this,arguments)})}],r&&oa(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i}(Se);function pa(e){return pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pa(e)}function da(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return Aa(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Aa(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Aa(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,Aa(f,"constructor",c),Aa(c,"constructor",u),u.displayName="GeneratorFunction",Aa(c,o,"GeneratorFunction"),Aa(f),Aa(f,o,"Generator"),Aa(f,r,function(){return this}),Aa(f,"toString",function(){return"[object Generator]"}),(da=function(){return{w:i,m:p}})()}function Aa(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Aa=function(e,t,n,r){function i(t,n){Aa(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Aa(e,t,n,r)}function ha(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function ma(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ya(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ma(Object(n),!0).forEach(function(t){ka(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ma(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function va(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||ga(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ba(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ga(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function ga(e,t){if(e){if("string"==typeof e)return Ca(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ca(e,t):void 0}}function Ca(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function wa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pa(r.key),r)}}function _a(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_a=function(){return!!e})()}function xa(e,t,n,r){var o=Oa(ja(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function Oa(){return Oa="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=ja(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Oa.apply(null,arguments)}function ja(e){return ja=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ja(e)}function Ba(e,t){return Ba=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ba(e,t)}function ka(e,t,n){return(t=Pa(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pa(e){var t=function(e){if("object"!=pa(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=pa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==pa(t)?t:t+""}var Sa=function(e){function t(){var e,n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ka(r=function(e,t,n){return t=ja(t),function(e,t){if(t&&("object"==pa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_a()?Reflect.construct(t,n||[],ja(e).constructor):t.apply(e,n))}(this,t,[{items:null!==(e=o.items)&&void 0!==e?e:[],onOpen:o.onOpen,emptyMessage:null!==(n=o.emptyMessage)&&void 0!==n?n:uo}]),"childItems",new Map),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ba(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){return Hi()({})}},{key:"afterRender",value:function(){this.renderItems()}},{key:"renderItems",value:function(){var e,t,n=null===(e=this.element)||void 0===e?void 0:e.querySelector(".mail-list__items");if(n){var r,o=ba(this.childItems);try{for(o.s();!(r=o.n()).done;)va(r.value,2)[1].unmount()}catch(e){o.e(e)}finally{o.f()}n.innerHTML="",this.childItems.clear();var i=null!==(t=this.props.items)&&void 0!==t?t:[];if(0===i.length){var a,l=document.createElement("div");return l.className="mail-list__empty",l.textContent=null!==(a=this.props.emptyMessage)&&void 0!==a?a:uo,void n.appendChild(l)}var u,c=ba(i);try{for(c.s();!(u=c.n()).done;){var s=u.value,f=new fa({mail:s,onOpen:this.props.onOpen}),p=f.render();n.appendChild(p),this.childItems.set(s.id,f)}}catch(e){c.e(e)}finally{c.f()}}}},{key:"setProps",value:function(e){this.props=ya(ya({},this.props),e),(Object.prototype.hasOwnProperty.call(e,"items")||Object.prototype.hasOwnProperty.call(e,"emptyMessage"))&&this.renderItems()}},{key:"unmount",value:(o=da().m(function e(){var n,r,o,i,a;return da().w(function(e){for(;;)switch(e.p=e.n){case 0:n=ba(this.childItems),e.p=1,n.s();case 2:if((r=n.n()).done){e.n=4;break}return o=va(r.value,2),i=o[1],e.n=3,i.unmount();case 3:e.n=2;break;case 4:e.n=6;break;case 5:e.p=5,a=e.v,n.e(a);case 6:return e.p=6,n.f(),e.f(6);case 7:return this.childItems.clear(),e.n=8,xa(t,"unmount",this,3)([]);case 8:return e.a(2)}},e,this,[[1,5,6,7]])}),i=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=o.apply(e,t);function a(e){ha(i,n,r,a,l,"next",e)}function l(e){ha(i,n,r,a,l,"throw",e)}a(void 0)})},function(){return i.apply(this,arguments)})}],r&&wa(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i}(Se),Ea=n(9166),Ta=n.n(Ea),Fa=n(6594),Ra={};function Ia(e){return Ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ia(e)}function Ma(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return Ua(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Ua(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Ua(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,Ua(f,"constructor",c),Ua(c,"constructor",u),u.displayName="GeneratorFunction",Ua(c,o,"GeneratorFunction"),Ua(f),Ua(f,o,"Generator"),Ua(f,r,function(){return this}),Ua(f,"toString",function(){return"[object Generator]"}),(Ma=function(){return{w:i,m:p}})()}function Ua(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Ua=function(e,t,n,r){function i(t,n){Ua(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Ua(e,t,n,r)}function Na(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function Da(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||qa(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ga(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=qa(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function qa(e,t){if(e){if("string"==typeof e)return La(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?La(e,t):void 0}}function La(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ya(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Wa(r.key),r)}}function Wa(e){var t=function(e){if("object"!=Ia(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ia(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ia(t)?t:t+""}function za(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(za=function(){return!!e})()}function Va(e,t,n,r){var o=Ha(Qa(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function Ha(){return Ha="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Qa(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Ha.apply(null,arguments)}function Qa(e){return Qa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qa(e)}function $a(e,t){return $a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$a(e,t)}Ra.styleTagTransform=ot(),Ra.setAttributes=et(),Ra.insert=Ze().bind(null,"head"),Ra.domAPI=Ke(),Ra.insertStyleElement=nt(),Qe()(Fa.A,Ra),Fa.A&&Fa.A.locals&&Fa.A.locals;var Ka=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t,n){return t=Qa(t),function(e,t){if(t&&("object"==Ia(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,za()?Reflect.construct(t,n||[],Qa(e).constructor):t.apply(e,n))}(this,t,[e])).toolbarButtons=new Map([["back",n.createToolbarButton({icon:'<img src="/img/message-back.svg" alt="" aria-hidden="true" />',ariaLabel:"",onClick:function(){var e,t;return null===(e=(t=n.props).onBack)||void 0===e?void 0:e.call(t)}})],["delete",n.createToolbarButton({label:"",icon:'<img src="/img/message-delete.svg" alt="" aria-hidden="true" />'})],["folder",n.createToolbarButton({label:" ",icon:'<img src="/img/message-in-folder.svg" alt="" aria-hidden="true" />'})],["spam",n.createToolbarButton({label:"",icon:'<img src="/img/message-to-spam.svg" alt="" aria-hidden="true" />'})],["reply",n.createToolbarButton({label:"",icon:'<img src="/img/message-reply.svg" alt="" aria-hidden="true" />',onClick:function(){var e,t;return null===(e=(t=n.props).onReply)||void 0===e?void 0:e.call(t)}})],["forward",n.createToolbarButton({label:"",icon:'<img src="/img/message-forward.svg" alt="" aria-hidden="true" />',onClick:function(){var e,t;return null===(e=(t=n.props).onForward)||void 0===e?void 0:e.call(t)}})]]),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$a(e,t)}(t,e),n=t,r=[{key:"createToolbarButton",value:function(e){var t=e.label,n=e.icon,r=e.onClick,o=e.ariaLabel,i={icon:n,variant:"link",type:"button"};return t&&(i.label=t),r&&(i.onClick=function(){return r()}),o&&(i.ariaLabel=o),new Ut(i)}},{key:"renderTemplate",value:function(){var e,t,n=this.props,r=n.from,o=n.subject,i=n.time,a=n.body,l=n.avatarUrl,u=((null==r?void 0:r[0])||"").toUpperCase();return Ta()({from:r,subject:o,time:i,body:a,initials:u,avatarUrl:null!=l?l:null,fromEmail:null!==(e=this.props.fromEmail)&&void 0!==e?e:r,recipient:null!==(t=this.props.recipient)&&void 0!==t?t:""})}},{key:"afterRender",value:function(){if(this.element){var e,t=Ga(this.toolbarButtons.entries());try{for(t.s();!(e=t.n()).done;){var n=Da(e.value,2),r=n[0],o=n[1],i=this.element.querySelector('[data-slot="'.concat(r,'"]'));i&&(i.innerHTML="",o.render(),o.mount(i).then())}}catch(e){t.e(e)}finally{t.f()}}}},{key:"unmount",value:(o=Ma().m(function e(){var n,r,o,i;return Ma().w(function(e){for(;;)switch(e.p=e.n){case 0:n=Ga(this.toolbarButtons.values()),e.p=1,n.s();case 2:if((r=n.n()).done){e.n=4;break}return o=r.value,e.n=3,o.unmount();case 3:e.n=2;break;case 4:e.n=6;break;case 5:e.p=5,i=e.v,n.e(i);case 6:return e.p=6,n.f(),e.f(6);case 7:return e.n=8,Va(t,"unmount",this,3)([]);case 8:return e.a(2)}},e,this,[[1,5,6,7]])}),i=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=o.apply(e,t);function a(e){Na(i,n,r,a,l,"next",e)}function l(e){Na(i,n,r,a,l,"throw",e)}a(void 0)})},function(){return i.apply(this,arguments)})}],r&&Ya(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i}(Se),Ja=n(6271),Za=n.n(Ja),Xa=n(6212),el={};function tl(e){return tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tl(e)}function nl(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return rl(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(rl(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,rl(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,rl(f,"constructor",c),rl(c,"constructor",u),u.displayName="GeneratorFunction",rl(c,o,"GeneratorFunction"),rl(f),rl(f,o,"Generator"),rl(f,r,function(){return this}),rl(f,"toString",function(){return"[object Generator]"}),(nl=function(){return{w:i,m:p}})()}function rl(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}rl=function(e,t,n,r){function i(t,n){rl(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},rl(e,t,n,r)}function ol(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function il(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pl(r.key),r)}}function al(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(al=function(){return!!e})()}function ll(e,t,n,r){var o=ul(cl(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function ul(){return ul="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=cl(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},ul.apply(null,arguments)}function cl(e){return cl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},cl(e)}function sl(e,t){return sl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sl(e,t)}function fl(e,t,n){return(t=pl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pl(e){var t=function(e){if("object"!=tl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=tl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==tl(t)?t:t+""}el.styleTagTransform=ot(),el.setAttributes=et(),el.insert=Ze().bind(null,"head"),el.domAPI=Ke(),el.insertStyleElement=nt(),Qe()(Xa.A,el),Xa.A&&Xa.A.locals&&Xa.A.locals;var dl=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),fl(e=function(e,t,n){return t=cl(t),function(e,t){if(t&&("object"==tl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,al()?Reflect.construct(t,n||[],cl(e).constructor):t.apply(e,n))}(this,t,[n]),"toInput",null),fl(e,"toErrorEl",null),fl(e,"subjectInput",null),fl(e,"bodyTextarea",null),e.attachButton=new Ut({label:" ",variant:"link",icon:'<img src="/img/modal-attach-file.svg" alt="" aria-hidden="true" />',onClick:function(){return e.handleAttach()}}),e.draftButton=new Ut({label:" ",variant:"link",icon:'<img src="/img/modal-to-draft.svg" alt="" aria-hidden="true" />',onClick:function(){return e.handleSaveDraft()}}),e.sendButton=new Ut({label:"",variant:"primary",onClick:function(){return e.handleSend()}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sl(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){return Za()({})}},{key:"afterRender",value:function(){var e=this,t=this.element;t.addEventListener("click",function(t){var n,r;t.target.classList.contains("compose-overlay")&&(null===(n=(r=e.props).onClose)||void 0===n||n.call(r))});var n=t.querySelector('[data-action="close"]');null==n||n.addEventListener("click",function(){var t,n;return null===(t=(n=e.props).onClose)||void 0===t?void 0:t.call(n)}),this.mountButton(t,"attach",this.attachButton),this.mountButton(t,"draft",this.draftButton),this.mountButton(t,"send",this.sendButton),this.toInput=t.querySelector('[data-field="to"]'),this.toErrorEl=t.querySelector('[data-error="to"]'),this.subjectInput=t.querySelector('[data-field="subject"]'),this.bodyTextarea=t.querySelector('[data-field="body"]'),this.toInput&&this.toInput.addEventListener("input",function(){return e.setRecipientError(null)}),this.toErrorEl&&(this.toErrorEl.classList.remove("compose-modal__error--visible"),this.toErrorEl.textContent=""),this.applyInitialValues(),this.focusInitialField()}},{key:"mountButton",value:function(e,t,n){var r=e.querySelector('[data-slot="'.concat(t,'"]'));r&&(n.render(),n.mount(r).then())}},{key:"handleSend",value:function(){var e,t,n,r,o,i,a,l,u,c,s=null!==(e=null===(t=this.toInput)||void 0===t?void 0:t.value)&&void 0!==e?e:"",f=null!==(n=null===(r=this.subjectInput)||void 0===r?void 0:r.value)&&void 0!==n?n:"",p=null!==(o=null===(i=this.bodyTextarea)||void 0===i?void 0:i.value)&&void 0!==o?o:"",d=(u=s.trim())?E.test(u)&&T.test(u)?null:" email":" email ";this.setRecipientError(d),d?null===(c=this.toInput)||void 0===c||c.focus():null===(a=(l=this.props).onSend)||void 0===a||a.call(l,{to:s,subject:f,body:p})}},{key:"applyInitialValues",value:function(){var e,t,n;this.toInput&&(this.toInput.value=null!==(e=this.props.initialTo)&&void 0!==e?e:""),this.setRecipientError(null),this.subjectInput&&(this.subjectInput.value=null!==(t=this.props.initialSubject)&&void 0!==t?t:""),this.bodyTextarea&&(this.bodyTextarea.value=null!==(n=this.props.initialBody)&&void 0!==n?n:"")}},{key:"focusInitialField",value:function(){var e,t,n=null!==(e=this.props.focusField)&&void 0!==e?e:"to";if(null===(t="subject"===n?this.subjectInput:"body"===n?this.bodyTextarea:this.toInput)||void 0===t||t.focus(),"body"===n&&this.bodyTextarea){var r=this.bodyTextarea.value.length;this.bodyTextarea.setSelectionRange(r,r)}}},{key:"handleAttach",value:function(){var e,t;null===(e=(t=this.props).onAttachFile)||void 0===e||e.call(t)}},{key:"handleSaveDraft",value:function(){var e,t;null===(e=(t=this.props).onSaveDraft)||void 0===e||e.call(t)}},{key:"setRecipientError",value:function(e){this.toErrorEl&&(e?(this.toErrorEl.textContent=e,this.toErrorEl.classList.add("compose-modal__error--visible")):(this.toErrorEl.textContent="",this.toErrorEl.classList.remove("compose-modal__error--visible")))}},{key:"unmount",value:(o=nl().m(function e(){return nl().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.attachButton.unmount();case 1:return e.n=2,this.draftButton.unmount();case 2:return e.n=3,this.sendButton.unmount();case 3:return this.toInput=null,this.toErrorEl=null,this.subjectInput=null,this.bodyTextarea=null,e.n=4,ll(t,"unmount",this,3)([]);case 4:return e.a(2)}},e,this)}),i=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=o.apply(e,t);function a(e){ol(i,n,r,a,l,"next",e)}function l(e){ol(i,n,r,a,l,"throw",e)}a(void 0)})},function(){return i.apply(this,arguments)})}],r&&il(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i}(Se),Al=n(139),hl=n.n(Al),ml=n(5240),yl={};function vl(e){return vl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(e)}function bl(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ol(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function gl(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return Cl(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Cl(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Cl(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,Cl(f,"constructor",c),Cl(c,"constructor",u),u.displayName="GeneratorFunction",Cl(c,o,"GeneratorFunction"),Cl(f),Cl(f,o,"Generator"),Cl(f,r,function(){return this}),Cl(f,"toString",function(){return"[object Generator]"}),(gl=function(){return{w:i,m:p}})()}function Cl(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Cl=function(e,t,n,r){function i(t,n){Cl(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Cl(e,t,n,r)}function wl(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function _l(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){wl(i,r,o,a,l,"next",e)}function l(e){wl(i,r,o,a,l,"throw",e)}a(void 0)})}}function xl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||Ol(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ol(e,t){if(e){if("string"==typeof e)return jl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jl(e,t):void 0}}function jl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Bl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rl(r.key),r)}}function kl(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(kl=function(){return!!e})()}function Pl(e,t,n,r){var o=Sl(El(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function Sl(){return Sl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=El(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Sl.apply(null,arguments)}function El(e){return El=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},El(e)}function Tl(e,t){return Tl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Tl(e,t)}function Fl(e,t,n){return(t=Rl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rl(e){var t=function(e){if("object"!=vl(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=vl(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==vl(t)?t:t+""}yl.styleTagTransform=ot(),yl.setAttributes=et(),yl.insert=Ze().bind(null,"head"),yl.domAPI=Ke(),yl.insertStyleElement=nt(),Qe()(ml.A,yl),ml.A&&ml.A.locals&&ml.A.locals;var Il=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Fl(e=function(e,t,n){return t=El(t),function(e,t){if(t&&("object"==vl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,kl()?Reflect.construct(t,n||[],El(e).constructor):t.apply(e,n))}(this,t,[].concat(r)),"slots",new Map),Fl(e,"slotComponents",new Map),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tl(e,t)}(t,e),n=t,r=[{key:"render",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.renderTemplate();return this.element=this.createElement(n),this.slots.clear(),this.slotComponents.clear(),this.element.querySelectorAll("[data-slot]").forEach(function(t){var n=t,r=n.getAttribute("data-slot");r&&e.slots.set(r,n)}),Object.entries(t).forEach(function(t){var n=xl(t,2),r=n[0],o=n[1],i=e.slots.get(r);if(i)if(o instanceof Se){var a=o.render();i.appendChild(a),o.mount(i).then(),e.slotComponents.set(r,o)}else i.appendChild(o),e.slotComponents.delete(r)}),this.element}},{key:"updateSlot",value:(a=_l(gl().m(function e(t,n){var r,o,i,a;return gl().w(function(e){for(;;)switch(e.n){case 0:if(!(o=null!==(r=this.slots.get(t))&&void 0!==r?r:null)&&this.element&&(o=this.element.querySelector('[data-slot="'.concat(t,'"]')))&&this.slots.set(t,o),o){e.n=1;break}return console.warn("Slot ".concat(t," not found")),e.a(2);case 1:if(!(i=this.slotComponents.get(t))){e.n=3;break}return e.n=2,i.unmount();case 2:this.slotComponents.delete(t);case 3:if(o.innerHTML="",!(n instanceof Se)){e.n=5;break}return a=n.render(),o.appendChild(a),e.n=4,n.mount(o);case 4:this.slotComponents.set(t,n),e.n=6;break;case 5:o.appendChild(n);case 6:return e.a(2)}},e,this)})),function(e,t){return a.apply(this,arguments)})},{key:"fillSlots",value:(i=_l(gl().m(function e(t){var n,r,o,i,a;return gl().w(function(e){for(;;)switch(e.n){case 0:n=0,r=Object.entries(t);case 1:if(!(n<r.length)){e.n=3;break}return o=xl(r[n],2),i=o[0],a=o[1],e.n=2,this.updateSlot(i,a);case 2:n++,e.n=1;break;case 3:return e.a(2)}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"unmount",value:(o=_l(gl().m(function e(){var n,r,o,i,a;return gl().w(function(e){for(;;)switch(e.p=e.n){case 0:n=bl(this.slotComponents),e.p=1,n.s();case 2:if((r=n.n()).done){e.n=4;break}return o=xl(r.value,2),i=o[1],e.n=3,i.unmount();case 3:e.n=2;break;case 4:e.n=6;break;case 5:e.p=5,a=e.v,n.e(a);case 6:return e.p=6,n.f(),e.f(6);case 7:return this.slotComponents.clear(),e.n=8,Pl(t,"unmount",this,3)([]);case 8:this.slots.clear();case 9:return e.a(2)}},e,this,[[1,5,6,7]])})),function(){return o.apply(this,arguments)})}],r&&Bl(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i,a}(Se);function Ml(e){return Ml="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(e)}function Ul(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return Nl(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Nl(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Nl(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,Nl(f,"constructor",c),Nl(c,"constructor",u),u.displayName="GeneratorFunction",Nl(c,o,"GeneratorFunction"),Nl(f),Nl(f,o,"Generator"),Nl(f,r,function(){return this}),Nl(f,"toString",function(){return"[object Generator]"}),(Ul=function(){return{w:i,m:p}})()}function Nl(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Nl=function(e,t,n,r){function i(t,n){Nl(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Nl(e,t,n,r)}function Dl(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function Gl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hl(r.key),r)}}function ql(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ql=function(){return!!e})()}function Ll(e,t,n,r){var o=Yl(Wl(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function Yl(){return Yl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Wl(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Yl.apply(null,arguments)}function Wl(e){return Wl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wl(e)}function zl(e,t){return zl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},zl(e,t)}function Vl(e,t,n){return(t=Hl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hl(e){var t=function(e){if("object"!=Ml(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Ml(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ml(t)?t:t+""}var Ql=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return Vl(e=function(e,t,n){return t=Wl(t),function(e,t){if(t&&("object"==Ml(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ql()?Reflect.construct(t,n||[],Wl(e).constructor):t.apply(e,n))}(this,t,[].concat(r)),"mainElement",null),Vl(e,"sidebarElement",null),Vl(e,"contentBackgroundEnabled",!0),Vl(e,"sidebarWidth",null),Vl(e,"loadingElement",null),Vl(e,"isLoading",!1),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zl(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){return hl()({})}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Ll(t,"render",this,3)([e]);return this.mainElement=n.querySelector(".main-layout__main"),this.sidebarElement=n.querySelector(".main-layout__sidebar"),this.loadingElement=n.querySelector(".main-layout__loading"),this.applyMainBackground(),this.applySidebarWidth(),this.applyLoadingState(),this.updateModalState(),this.triggerTransition(),n}},{key:"updateSlot",value:(o=Ul().m(function e(n,r){return Ul().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Ll(t,"updateSlot",this,3)([n,r]);case 1:"modal"===n&&this.updateModalState(),"main"===n&&this.triggerTransition();case 2:return e.a(2)}},e,this)}),i=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=o.apply(e,t);function a(e){Dl(i,n,r,a,l,"next",e)}function l(e){Dl(i,n,r,a,l,"throw",e)}a(void 0)})},function(e,t){return i.apply(this,arguments)})},{key:"setContentBackground",value:function(e){this.contentBackgroundEnabled=e,this.applyMainBackground()}},{key:"setSidebarWidth",value:function(e){this.sidebarWidth=e,this.applySidebarWidth()}},{key:"setLoading",value:function(e){this.isLoading=e,this.applyLoadingState()}},{key:"triggerTransition",value:function(){this.mainElement&&(this.mainElement.classList.remove("main-layout__main--transition"),this.mainElement.offsetWidth,this.mainElement.classList.add("main-layout__main--transition"))}},{key:"applyMainBackground",value:function(){this.mainElement&&this.mainElement.classList.toggle("main-layout__main--no-bg",!this.contentBackgroundEnabled)}},{key:"applySidebarWidth",value:function(){this.sidebarElement&&(this.sidebarWidth?this.sidebarElement.style.setProperty("--main-layout-sidebar-width",this.sidebarWidth):this.sidebarElement.style.removeProperty("--main-layout-sidebar-width"))}},{key:"applyLoadingState",value:function(){this.loadingElement&&this.loadingElement.classList.toggle("main-layout__loading--active",this.isLoading)}},{key:"updateModalState",value:function(){var e,t=null===(e=this.getElement())||void 0===e?void 0:e.querySelector(".main-layout__modal-root");if(t){var n=Array.from(t.children).some(function(e){var t,n,r=e;return r.childElementCount>0||(null!==(t=null===(n=r.textContent)||void 0===n?void 0:n.trim())&&void 0!==t?t:"").length>0});n||(t.innerHTML=""),t.classList.toggle("main-layout__modal-root--active",n)}}}],r&&Gl(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i}(Il),$l=n(1258),Kl={};Kl.styleTagTransform=ot(),Kl.setAttributes=et(),Kl.insert=Ze().bind(null,"head"),Kl.domAPI=Ke(),Kl.insertStyleElement=nt(),Qe()($l.A,Kl),$l.A&&$l.A.locals&&$l.A.locals;var Jl=n(3957),Zl=n.n(Jl);function Xl(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return eu(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(eu(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,eu(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,eu(f,"constructor",c),eu(c,"constructor",u),u.displayName="GeneratorFunction",eu(c,o,"GeneratorFunction"),eu(f),eu(f,o,"Generator"),eu(f,r,function(){return this}),eu(f,"toString",function(){return"[object Generator]"}),(Xl=function(){return{w:i,m:p}})()}function eu(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}eu=function(e,t,n,r){function i(t,n){eu(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},eu(e,t,n,r)}function tu(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function nu(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){tu(i,r,o,a,l,"next",e)}function l(e){tu(i,r,o,a,l,"throw",e)}a(void 0)})}}var ru=function(e){return"/messages/".concat(e)};function ou(){return iu.apply(this,arguments)}function iu(){return(iu=nu(Xl().m(function e(){var t;return Xl().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,A.request("/messages/inbox");case 1:return t=e.v,e.a(2,{total:t.body.message_total,unread:t.body.message_unread,items:t.body.messages.map(pu),pagination:t.body.pagination})}},e)}))).apply(this,arguments)}function au(e){return lu.apply(this,arguments)}function lu(){return(lu=nu(Xl().m(function e(t){var n;return Xl().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,A.request(ru(t));case 1:return n=e.v,e.a(2,du(t,n.body))}},e)}))).apply(this,arguments)}function uu(e){return cu.apply(this,arguments)}function cu(){return(cu=nu(Xl().m(function e(t){var n,r;return Xl().w(function(e){for(;;)switch(e.n){case 0:if(n=t.to.trim()){e.n=1;break}throw new Error("Recipient email is required");case 1:return r={topic:t.subject.trim(),text:t.body,receivers:[{email:n}],files:[]},e.n=2,A.request("/messages/send",{method:"POST",body:r});case 2:return e.a(2)}},e)}))).apply(this,arguments)}function su(e){return fu.apply(this,arguments)}function fu(){return(fu=nu(Xl().m(function e(t){var n,r;return Xl().w(function(e){for(;;)switch(e.n){case 0:if(n=t.to.trim()){e.n=1;break}throw new Error("Recipient email is required");case 1:return r={root_message_id:t.rootMessageId,topic:t.subject.trim(),text:t.body,thread_root:t.threadRoot,receivers:[{email:n}],files:[]},e.n=2,A.request("/messages/reply",{method:"POST",body:r});case 2:return e.a(2)}},e)}))).apply(this,arguments)}function pu(e){var t;return{id:e.id,from:e.sender.username||e.sender.email,subject:e.topic,preview:e.snippet,time:g(e.datetime),avatarUrl:null!==(t=e.sender.avatar)&&void 0!==t?t:null,isRead:e.is_read}}function du(e,t){var n,r,o,i,a,l,u,c,s,f,p=null!==(n=null!==(r=null===(o=t.sender)||void 0===o?void 0:o.email)&&void 0!==r?r:t.email)&&void 0!==n?n:"",d=null!==(i=null!==(a=null===(l=t.sender)||void 0===l?void 0:l.username)&&void 0!==a?a:t.username)&&void 0!==i?i:"";return{id:e,from:d.trim().length>0?d.trim():p.trim()||" ",fromEmail:p.trim()||void 0,subject:t.topic,preview:t.text.slice(0,120),time:g(t.datetime),avatarUrl:null!==(u=null!==(c=null===(s=t.sender)||void 0===s?void 0:s.avatar)&&void 0!==c?c:t.avatar)&&void 0!==u?u:null,isRead:!0,body:t.text.replace(/\n/g,"<br>"),threadId:t.thread_id,attachments:Au(null!==(f=t.files)&&void 0!==f?f:t.Files)}}function Au(e){if(null!=e&&e.length)return e.map(function(e){var t;return{name:e.name,fileType:e.file_type,size:e.size,storagePath:null!==(t=e.storage_path)&&void 0!==t?t:null}})}function hu(e){return hu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(e)}function mu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function yu(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return vu(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(vu(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,vu(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,vu(f,"constructor",c),vu(c,"constructor",u),u.displayName="GeneratorFunction",vu(c,o,"GeneratorFunction"),vu(f),vu(f,o,"Generator"),vu(f,r,function(){return this}),vu(f,"toString",function(){return"[object Generator]"}),(yu=function(){return{w:i,m:p}})()}function vu(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}vu=function(e,t,n,r){function i(t,n){vu(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},vu(e,t,n,r)}function bu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function gu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bu(Object(n),!0).forEach(function(t){xu(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Cu(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function wu(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Cu(i,r,o,a,l,"next",e)}function l(e){Cu(i,r,o,a,l,"throw",e)}a(void 0)})}}function _u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ou(r.key),r)}}function xu(e,t,n){return(t=Ou(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ou(e){var t=function(e){if("object"!=hu(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=hu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==hu(t)?t:t+""}var ju={mails:[],selectedMailId:void 0,selectedMail:null,total:0,unread:0,loadingList:!1,loadingSelection:!1,mutating:!1,error:null},Bu=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),xu(this,"state",ju),xu(this,"subscribers",new Set)},t=[{key:"subscribe",value:function(e){var t=this;return this.subscribers.add(e),e(this.state),function(){t.subscribers.delete(e)}}},{key:"getState",value:function(){return this.state}},{key:"loadList",value:(l=wu(yu().m(function e(){var t,n;return yu().w(function(e){for(;;)switch(e.p=e.n){case 0:return this.setState(function(e){return gu(gu({},e),{},{loadingList:!0,error:null})}),e.p=1,e.n=2,ou();case 2:t=e.v,this.setState(function(e){var n=e.selectedMailId,r=n?t.items.find(function(e){return e.id===n}):void 0,o=r&&e.selectedMail?gu(gu({},e.selectedMail),{},{subject:r.subject,time:r.time,from:r.from,avatarUrl:r.avatarUrl}):r?e.selectedMail:null;return gu(gu({},e),{},{mails:t.items,total:t.total,unread:t.unread,loadingList:!1,selectedMailId:r?e.selectedMailId:void 0,selectedMail:r?o:null})}),e.n=4;break;case 3:throw e.p=3,n=e.v,this.setState(function(e){return gu(gu({},e),{},{loadingList:!1,error:ku(n)})}),n;case 4:return e.a(2)}},e,this,[[1,3]])})),function(){return l.apply(this,arguments)})},{key:"openMail",value:(a=wu(yu().m(function e(t){var n,r;return yu().w(function(e){for(;;)switch(e.p=e.n){case 0:return this.setState(function(e){return gu(gu({},e),{},{selectedMailId:t,loadingSelection:!0,error:null})}),e.p=1,e.n=2,au(t);case 2:return n=e.v,this.setState(function(e){if(e.selectedMailId!==t)return e;var r=e.mails.some(function(e){return e.id===t&&!e.isRead}),o=e.mails.map(function(e){return e.id===t?gu(gu({},e),{},{isRead:!0}):e});return gu(gu({},e),{},{selectedMail:n,loadingSelection:!1,mails:o,unread:r?Math.max(0,e.unread-1):e.unread})}),e.a(2,n);case 3:throw e.p=3,r=e.v,this.setState(function(e){return e.selectedMailId!==t?e:gu(gu({},e),{},{loadingSelection:!1,error:ku(r)})}),r;case 4:return e.a(2)}},e,this,[[1,3]])})),function(e){return a.apply(this,arguments)})},{key:"clearSelection",value:function(){this.setState(function(e){return gu(gu({},e),{},{selectedMailId:void 0,selectedMail:null})})}},{key:"sendMail",value:(i=wu(yu().m(function e(t){var n=this;return yu().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.runMutation(wu(yu().m(function e(){return yu().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,uu(t);case 1:return e.n=2,n.loadList();case 2:return e.a(2)}},e)})));case 1:return e.a(2)}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"replyToMail",value:(o=wu(yu().m(function e(t){var n=this;return yu().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,this.runMutation(wu(yu().m(function e(){return yu().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,su(t);case 1:return e.n=2,n.loadList();case 2:return e.a(2)}},e)})));case 1:return e.a(2)}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"refreshSelectedMail",value:(r=wu(yu().m(function e(){var t;return yu().w(function(e){for(;;)switch(e.n){case 0:if(t=this.state.selectedMailId){e.n=1;break}return e.a(2);case 1:return e.n=2,this.openMail(t);case 2:return e.a(2)}},e,this)})),function(){return r.apply(this,arguments)})},{key:"runMutation",value:(n=wu(yu().m(function e(t){var n;return yu().w(function(e){for(;;)switch(e.p=e.n){case 0:return this.setState(function(e){return gu(gu({},e),{},{mutating:!0,error:null})}),e.p=1,e.n=2,t();case 2:e.n=4;break;case 3:throw e.p=3,n=e.v,this.setState(function(e){return gu(gu({},e),{},{error:ku(n)})}),n;case 4:return e.p=4,this.setState(function(e){return gu(gu({},e),{},{mutating:!1})}),e.f(4);case 5:return e.a(2)}},e,this,[[1,3,4,5]])})),function(e){return n.apply(this,arguments)})},{key:"setState",value:function(e){this.state=e(this.state),this.notify()}},{key:"notify",value:function(){var e,t=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return mu(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mu(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}(this.subscribers);try{for(t.s();!(e=t.n()).done;)(0,e.value)(this.state)}catch(e){t.e(e)}finally{t.f()}}}],t&&_u(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r,o,i,a,l}();function ku(e){return e instanceof Error&&e.message?e.message:"string"==typeof e?e:"Unexpected error"}function Pu(e,t){var n=(null!=e?e:"").trim();return n?n.toLowerCase().startsWith(t.toLowerCase())?n:"".concat(t," ").concat(n):t}function Su(e){var t=e.fromEmail?"".concat(e.from," <").concat(e.fromEmail,">"):e.from,n=["----------   ---------"," : ".concat(t)];e.time&&n.push(": ".concat(e.time)),e.subject&&n.push(": ".concat(e.subject));var r=Eu(e.body),o="\n\n".concat(n.join("\n"),"\n\n");return r&&(o+=r),o}function Eu(e){var t,n=document.createElement("div");n.innerHTML=e;for(var r=0,o=Array.from(n.querySelectorAll("br"));r<o.length;r++)o[r].replaceWith("\n");return(null!==(t=n.textContent)&&void 0!==t?t:"").split("\r").join("").split("").join(" ").trimEnd()}function Tu(e){return Tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(e)}function Fu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Iu(r.key),r)}}function Ru(e,t,n){return(t=Iu(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iu(e){var t=function(e){if("object"!=Tu(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Tu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Tu(t)?t:t+""}var Mu=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ru(this,"counter",0),Ru(this,"manualOverride",!1),this.layoutGetter=t},(t=[{key:"begin",value:function(){this.counter+=1,this.apply()}},{key:"end",value:function(){0!==this.counter&&(this.counter-=1,this.apply())}},{key:"setBusy",value:function(e){this.manualOverride=e,this.apply()}},{key:"reset",value:function(){this.counter=0,this.manualOverride=!1,this.apply()}},{key:"apply",value:function(){var e,t=function(e){return e&&"function"==typeof e.setLoading?e:null}(this.layoutGetter());if(t){var n=this.manualOverride||this.counter>0;null===(e=t.setLoading)||void 0===e||e.call(t,n)}}}])&&Fu(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function Uu(e){return Uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(e)}function Nu(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return Du(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Du(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Du(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,Du(f,"constructor",c),Du(c,"constructor",u),u.displayName="GeneratorFunction",Du(c,o,"GeneratorFunction"),Du(f),Du(f,o,"Generator"),Du(f,r,function(){return this}),Du(f,"toString",function(){return"[object Generator]"}),(Nu=function(){return{w:i,m:p}})()}function Du(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Du=function(e,t,n,r){function i(t,n){Du(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Du(e,t,n,r)}function Gu(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function qu(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Gu(i,r,o,a,l,"next",e)}function l(e){Gu(i,r,o,a,l,"throw",e)}a(void 0)})}}function Lu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$u(r.key),r)}}function Yu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Yu=function(){return!!e})()}function Wu(e,t,n,r){var o=zu(Vu(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function zu(){return zu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Vu(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},zu.apply(null,arguments)}function Vu(e){return Vu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Vu(e)}function Hu(e,t){return Hu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Hu(e,t)}function Qu(e,t,n){return(t=$u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $u(e){var t=function(e){if("object"!=Uu(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Uu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Uu(t)?t:t+""}var Ku=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Qu(e=function(e,t,n){return t=Vu(t),function(e,t){if(t&&("object"==Uu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Yu()?Reflect.construct(t,n||[],Vu(e).constructor):t.apply(e,n))}(this,t),"store",new Bu),Qu(e,"loadingManager",new Mu(function(){return e.layout})),Qu(e,"mailView",null),Qu(e,"composeModal",null),Qu(e,"showingList",!0),Qu(e,"lastRenderedMail",null),Qu(e,"lastErrorMessage",null),e.initialMessageId=n.messageId,e.header=new ni({onSearch:function(e){return console.log("search",e)},onLogout:function(){return e.handleLogout()}}),e.sidebar=new zi({onCompose:function(){return e.openCompose()},onFolderSelect:function(e){return console.log("folder",e)}}),e.mailList=new Sa({items:[],onOpen:function(t){return e.handleOpenMail(t)},emptyMessage:"  ."}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hu(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){return Zl().toString()}},{key:"getSlotContent",value:function(){return{header:this.header,sidebar:this.sidebar,main:this.mailList}}},{key:"init",value:(s=qu(Nu().m(function e(){var t,n=this;return Nu().w(function(e){for(;;)switch(e.p=e.n){case 0:return this.layout instanceof Ql&&(this.layout.setContentBackground(!0),this.layout.setSidebarWidth(null)),this.unsubscribeFromStore=this.store.subscribe(function(e){return n.applyState(e)}),e.p=1,e.n=2,this.store.loadList();case 2:if(!this.initialMessageId){e.n=3;break}return e.n=3,this.store.openMail(this.initialMessageId);case 3:e.n=5;break;case 4:e.p=4,t=e.v,console.error("Failed to initialise inbox",t);case 5:return e.a(2)}},e,this,[[1,4]])})),function(){return s.apply(this,arguments)})},{key:"update",value:(c=qu(Nu().m(function e(t){var n,r,o,i,a;return Nu().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n=t.messageId,r=this.store.getState(),o=r.selectedMailId,i=r.selectedMail,!n){e.n=5;break}if(o===n&&i){e.n=4;break}return e.p=1,e.n=2,this.store.openMail(n);case 2:e.n=4;break;case 3:e.p=3,a=e.v,console.error("Failed to open message",a);case 4:return e.a(2);case 5:o&&this.store.clearSelection();case 6:return e.a(2)}},e,this,[[1,3]])})),function(e){return c.apply(this,arguments)})},{key:"unmount",value:(u=qu(Nu().m(function e(){var n;return Nu().w(function(e){for(;;)switch(e.n){case 0:return null===(n=this.unsubscribeFromStore)||void 0===n||n.call(this),this.unsubscribeFromStore=void 0,this.loadingManager.reset(),this.composeModal=null,this.lastRenderedMail=null,this.showingList=!0,this.lastErrorMessage=null,e.n=1,Wu(t,"unmount",this,3)([]);case 1:return e.a(2)}},e,this)})),function(){return u.apply(this,arguments)})},{key:"applyState",value:function(e){var t=e.loadingList||e.loadingSelection||e.mutating;this.loadingManager.setBusy(t),e.error&&e.error!==this.lastErrorMessage?(this.lastErrorMessage=e.error,console.error(e.error)):e.error||(this.lastErrorMessage=null),this.mailList.setProps({items:e.mails}),e.selectedMail&&e.selectedMailId?(this.showingList||this.lastRenderedMail!==e.selectedMail)&&this.renderMailView(e.selectedMail):this.showingList||e.loadingSelection||(this.showingList=!0,this.mailView=null,this.lastRenderedMail=null,this.updateSlot("main",this.mailList).then())}},{key:"renderMailView",value:function(e){this.mailView=this.createMailView(e),this.lastRenderedMail=e,this.showingList=!1,this.updateSlot("main",this.mailView).then()}},{key:"createMailView",value:function(e){var t,n,r=this;return new Ka({id:e.id,from:e.from,subject:e.subject,time:e.time,body:e.body,avatarUrl:null!==(t=e.avatarUrl)&&void 0!==t?t:null,fromEmail:null!==(n=e.fromEmail)&&void 0!==n?n:e.from,onBack:function(){return r.handleBackToList()},onReply:function(){return r.handleReply(e)},onForward:function(){return r.handleForward(e)}})}},{key:"handleOpenMail",value:function(e){(this.store.getState().selectedMailId!==e||this.showingList)&&this.router.navigate("/inbox/".concat(e)).then()}},{key:"handleBackToList",value:function(){this.store.clearSelection(),this.router.navigate("/inbox").then()}},{key:"handleReply",value:function(e){var t=this,n=function(e){var t,n=(null!==(t=e.fromEmail)&&void 0!==t?t:"").trim(),r=Pu(e.subject,"Re:"),o=function(e){var t=function(e){if(!e)return[];for(var t=[],n="",r=0;r<e.length;r+=1){var o=e[r];"\n"!==o?"\r"!==o?n+=o:(t.push(n),n="","\n"===e[r+1]&&(r+=1)):(t.push(n),n="")}return t.push(n),t}(Eu(e.body)).map(function(e){return e.length>0?"> ".concat(e):">"}).join("\n"),n=e.fromEmail?"".concat(e.from," <").concat(e.fromEmail,">"):e.from,r=["","",e.time?"On ".concat(e.time,", ").concat(n," wrote:"):"".concat(n," wrote:")];return t.length>0&&r.push(t),r.join("\n")}(e);return{initialTo:n,initialSubject:r,initialBody:o,focusField:n?"body":"to"}}(e);this.openCompose(n,function(n){return t.handleReplySubmit(e,n)})}},{key:"handleForward",value:function(e){var t=this,n=function(e){return{initialSubject:Pu(e.subject,"Fwd:"),initialBody:Su(e),focusField:"to"}}(e);this.openCompose(n,function(e){return t.handleForwardSubmit(e)})}},{key:"openCompose",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=new dl({initialTo:t.initialTo,initialSubject:t.initialSubject,initialBody:t.initialBody,focusField:t.focusField,onClose:function(){return e.closeCompose()},onSend:function(t){var r=null!=n?n:function(t){return e.handleSendMail(t)};e.handleComposeSubmit(r,t)}});this.composeModal=r,this.updateSlot("modal",r).then()}},{key:"closeCompose",value:function(){this.composeModal=null;var e=document.createElement("div");this.updateSlot("modal",e).then()}},{key:"handleComposeSubmit",value:function(e,t){var n=this;e(t).then(function(){return n.closeCompose()}).catch(function(e){console.error("Failed to send message",e)})}},{key:"handleSendMail",value:(l=qu(Nu().m(function e(t){var n,r,o;return Nu().w(function(e){for(;;)switch(e.n){case 0:if(o=t.to.trim()){e.n=1;break}return console.warn("Recipient email is required"),e.a(2);case 1:return e.n=2,this.store.sendMail({to:o,subject:null!==(n=t.subject)&&void 0!==n?n:"",body:null!==(r=t.body)&&void 0!==r?r:""});case 2:this.store.clearSelection(),this.router.navigate("/inbox").then();case 3:return e.a(2)}},e,this)})),function(e){return l.apply(this,arguments)})},{key:"handleReplySubmit",value:(a=qu(Nu().m(function e(t,n){var r,o,i,a,l,u;return Nu().w(function(e){for(;;)switch(e.n){case 0:if(a=n.to.trim()){e.n=1;break}return console.warn("Recipient email is required"),e.a(2);case 1:if(null!==(l=this.parseNumericId(t.id))){e.n=2;break}return console.error("Unable to determine message id for reply"),e.a(2);case 2:return u=null!==(r=this.parseNumericId(t.threadId))&&void 0!==r?r:l,e.n=3,this.store.replyToMail({to:a,subject:null!==(o=n.subject)&&void 0!==o?o:"",body:null!==(i=n.body)&&void 0!==i?i:"",rootMessageId:l,threadRoot:u});case 3:return e.n=4,this.store.refreshSelectedMail();case 4:return e.a(2)}},e,this)})),function(e,t){return a.apply(this,arguments)})},{key:"handleForwardSubmit",value:(i=qu(Nu().m(function e(t){var n,r,o;return Nu().w(function(e){for(;;)switch(e.n){case 0:if(o=t.to.trim()){e.n=1;break}return console.warn("Recipient email is required"),e.a(2);case 1:return e.n=2,this.store.sendMail({to:o,subject:null!==(n=t.subject)&&void 0!==n?n:"",body:null!==(r=t.body)&&void 0!==r?r:""});case 2:return e.n=3,this.store.refreshSelectedMail();case 3:return e.a(2)}},e,this)})),function(e){return i.apply(this,arguments)})},{key:"handleLogout",value:(o=qu(Nu().m(function e(){var t;return Nu().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,pn();case 1:e.n=3;break;case 2:e.p=2,t=e.v,console.error("Failed to logout",t);case 3:return e.p=3,le.setAuthenticated(!1),this.router.navigate("/auth").then(),e.f(3);case 4:return e.a(2)}},e,this,[[0,2,3,4]])})),function(){return o.apply(this,arguments)})},{key:"parseNumericId",value:function(e){if(!e)return null;var t=Number(e);return Number.isFinite(t)?t:null}}],r&&Lu(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i,a,l,u,c,s}(We),Ju=n(2602),Zu=n.n(Ju),Xu=n(1255),ec={};ec.styleTagTransform=ot(),ec.setAttributes=et(),ec.insert=Ze().bind(null,"head"),ec.domAPI=Ke(),ec.insertStyleElement=nt(),Qe()(Xu.A,ec),Xu.A&&Xu.A.locals&&Xu.A.locals;var tc=n(2511),nc=n.n(tc),rc=n(3956),oc={};function ic(e){return ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(e)}function ac(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return lc(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(lc(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,lc(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,lc(f,"constructor",c),lc(c,"constructor",u),u.displayName="GeneratorFunction",lc(c,o,"GeneratorFunction"),lc(f),lc(f,o,"Generator"),lc(f,r,function(){return this}),lc(f,"toString",function(){return"[object Generator]"}),(ac=function(){return{w:i,m:p}})()}function lc(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}lc=function(e,t,n,r){function i(t,n){lc(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},lc(e,t,n,r)}function uc(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function cc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cc(Object(n),!0).forEach(function(t){yc(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function fc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vc(r.key),r)}}function pc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(pc=function(){return!!e})()}function dc(e,t,n,r){var o=Ac(hc(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function Ac(){return Ac="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=hc(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Ac.apply(null,arguments)}function hc(e){return hc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hc(e)}function mc(e,t){return mc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mc(e,t)}function yc(e,t,n){return(t=vc(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vc(e){var t=function(e){if("object"!=ic(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ic(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ic(t)?t:t+""}oc.styleTagTransform=ot(),oc.setAttributes=et(),oc.insert=Ze().bind(null,"head"),oc.domAPI=Ke(),oc.insertStyleElement=nt(),Qe()(rc.A,oc),rc.A&&rc.A.locals&&rc.A.locals;var bc=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return yc(e=function(e,t,n){return t=hc(t),function(e,t){if(t&&("object"==ic(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,pc()?Reflect.construct(t,n||[],hc(e).constructor):t.apply(e,n))}(this,t,[].concat(r)),"handleClick",function(){var t,n;null===(t=(n=e.props).onSelect)||void 0===t||t.call(n,e.props.id)}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mc(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){return nc()({id:this.props.id,label:this.props.label,active:this.props.active})}},{key:"afterRender",value:function(){this.element&&(this.element.addEventListener("click",this.handleClick),this.applyIcon())}},{key:"setProps",value:function(e){if(this.props=sc(sc({},this.props),e),this.element){this.element.classList.toggle("profile-sidebar-tab--active",!!this.props.active);var t=this.element.querySelector(".profile-sidebar-tab__label");t&&(t.textContent=this.props.label),this.applyIcon()}}},{key:"unmount",value:(o=ac().m(function e(){var n;return ac().w(function(e){for(;;)switch(e.n){case 0:return null===(n=this.element)||void 0===n||n.removeEventListener("click",this.handleClick),e.n=1,dc(t,"unmount",this,3)([]);case 1:return e.a(2)}},e,this)}),i=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=o.apply(e,t);function a(e){uc(i,n,r,a,l,"next",e)}function l(e){uc(i,n,r,a,l,"throw",e)}a(void 0)})},function(){return i.apply(this,arguments)})},{key:"applyIcon",value:function(){if(this.element){var e=this.element.querySelector("[data-icon]");e&&(e.style.backgroundImage="url(".concat(this.props.icon,")"))}}}],r&&fc(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i}(Se);function gc(e){return gc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(e)}function Cc(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return wc(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(wc(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,wc(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,wc(f,"constructor",c),wc(c,"constructor",u),u.displayName="GeneratorFunction",wc(c,o,"GeneratorFunction"),wc(f),wc(f,o,"Generator"),wc(f,r,function(){return this}),wc(f,"toString",function(){return"[object Generator]"}),(Cc=function(){return{w:i,m:p}})()}function wc(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}wc=function(e,t,n,r){function i(t,n){wc(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},wc(e,t,n,r)}function _c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],u=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(e){c=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||Oc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xc(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Oc(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function Oc(e,t){if(e){if("string"==typeof e)return jc(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jc(e,t):void 0}}function jc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Bc(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function kc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Pc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kc(Object(n),!0).forEach(function(t){Mc(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Sc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Uc(r.key),r)}}function Ec(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Ec=function(){return!!e})()}function Tc(e,t,n,r){var o=Fc(Rc(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function Fc(){return Fc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Rc(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Fc.apply(null,arguments)}function Rc(e){return Rc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rc(e)}function Ic(e,t){return Ic=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ic(e,t)}function Mc(e,t,n){return(t=Uc(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uc(e){var t=function(e){if("object"!=gc(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=gc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==gc(t)?t:t+""}var Nc=function(e){function t(e){var n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Mc(r=function(e,t,n){return t=Rc(t),function(e,t){if(t&&("object"==gc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ec()?Reflect.construct(t,n||[],Rc(e).constructor):t.apply(e,n))}(this,t,[Pc(Pc({},e),{},{activeTab:null!==(n=e.activeTab)&&void 0!==n?n:"personal"})]),"tabs",new Map),r.backButton=new Ut({label:ct.backButtonLabel,variant:"link",icon:'<img src="/img/arrow-left.svg" alt="" aria-hidden="true" />',onClick:function(){var e,t;return null===(e=(t=r.props).onNavigateInbox)||void 0===e?void 0:e.call(t)}}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ic(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){var e;return Zu()({name:this.props.name,email:this.props.email,avatarUrl:null!==(e=this.props.avatarUrl)&&void 0!==e?e:null,initials:Oo(this.props.name,"--")})}},{key:"afterRender",value:function(){var e,t,n=this,r=null===(e=this.element)||void 0===e?void 0:e.querySelector('[data-slot="tabs"]');r&&(r.innerHTML="",ct.tabs.forEach(function(e){var t=new bc({id:e.id,label:e.label,icon:e.icon,active:n.props.activeTab===e.id,onSelect:function(e){return n.handleTabSelect(e)}});t.render(),t.mount(r).then(),n.tabs.set(e.id,t)}));var o=null===(t=this.element)||void 0===t?void 0:t.querySelector('[data-slot="back"]');o&&(this.backButton.render(),this.backButton.mount(o).then()),this.updateAvatar()}},{key:"setProps",value:function(e){var t,n,r;this.props=Pc(Pc({},this.props),e);var o=null===(t=this.element)||void 0===t?void 0:t.querySelector(".profile-sidebar__name");o&&(o.textContent=this.props.name);var i=null===(n=this.element)||void 0===n?void 0:n.querySelector(".profile-sidebar__email");i&&(i.textContent=this.props.email),this.updateAvatar();var a=null!==(r=this.props.activeTab)&&void 0!==r?r:"personal";this.tabs.forEach(function(e,t){e.setProps({active:t===a})})}},{key:"unmount",value:(o=Cc().m(function e(){var n,r,o,i,a;return Cc().w(function(e){for(;;)switch(e.p=e.n){case 0:n=xc(this.tabs),e.p=1,n.s();case 2:if((r=n.n()).done){e.n=4;break}return o=_c(r.value,2),i=o[1],e.n=3,i.unmount();case 3:e.n=2;break;case 4:e.n=6;break;case 5:e.p=5,a=e.v,n.e(a);case 6:return e.p=6,n.f(),e.f(6);case 7:return this.tabs.clear(),e.n=8,this.backButton.unmount();case 8:return e.n=9,Tc(t,"unmount",this,3)([]);case 9:return e.a(2)}},e,this,[[1,5,6,7]])}),i=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=o.apply(e,t);function a(e){Bc(i,n,r,a,l,"next",e)}function l(e){Bc(i,n,r,a,l,"throw",e)}a(void 0)})},function(){return i.apply(this,arguments)})},{key:"handleTabSelect",value:function(e){this.props.activeTab!==e&&(this.props.onTabChange?this.props.onTabChange(e):this.setProps({activeTab:e}))}},{key:"updateAvatar",value:function(){var e,t,n=null===(e=this.element)||void 0===e?void 0:e.querySelector(".profile-sidebar__avatar");if(n){var r=Oo(this.props.name,"--"),o=null!==(t=this.props.avatarUrl)&&void 0!==t?t:null;if(n.innerHTML="",o){var i=document.createElement("img");i.src=o,i.alt=this.props.name,n.appendChild(i)}else{var a=document.createElement("span");a.textContent=r,n.appendChild(a)}}}}],r&&Sc(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i}(Se),Dc=n(9882),Gc=n.n(Dc),qc=n(4143),Lc={};function Yc(e){return Yc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(e)}function Wc(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return zc(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(zc(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,zc(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,zc(f,"constructor",c),zc(c,"constructor",u),u.displayName="GeneratorFunction",zc(c,o,"GeneratorFunction"),zc(f),zc(f,o,"Generator"),zc(f,r,function(){return this}),zc(f,"toString",function(){return"[object Generator]"}),(Wc=function(){return{w:i,m:p}})()}function zc(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}zc=function(e,t,n,r){function i(t,n){zc(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},zc(e,t,n,r)}function Vc(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function Hc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Qc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hc(Object(n),!0).forEach(function(t){ts(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ns(r.key),r)}}function Kc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Kc=function(){return!!e})()}function Jc(e,t,n,r){var o=Zc(Xc(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function Zc(){return Zc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Xc(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Zc.apply(null,arguments)}function Xc(e){return Xc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xc(e)}function es(e,t){return es=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},es(e,t)}function ts(e,t,n){return(t=ns(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ns(e){var t=function(e){if("object"!=Yc(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Yc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Yc(t)?t:t+""}Lc.styleTagTransform=ot(),Lc.setAttributes=et(),Lc.insert=Ze().bind(null,"head"),Lc.domAPI=Ke(),Lc.insertStyleElement=nt(),Qe()(qc.A,Lc),qc.A&&qc.A.locals&&qc.A.locals;var rs=" ",os=function(e){function t(e){var n,r,o,i,a,l,u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ts(u=function(e,t,n){return t=Xc(t),function(e,t){if(t&&("object"==Yc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Kc()?Reflect.construct(t,n||[],Xc(e).constructor):t.apply(e,n))}(this,t,[Qc(Qc({},e),{},{avatarUrl:null!==(n=e.avatarUrl)&&void 0!==n?n:null,gender:null!==(r=e.gender)&&void 0!==r?r:"",birthDate:null!==(o=e.birthDate)&&void 0!==o?o:"",isAvatarUploading:null!==(i=e.isAvatarUploading)&&void 0!==i&&i,isSubmitting:null!==(a=e.isSubmitting)&&void 0!==a&&a})]),"fileInput",null),ts(u,"fieldErrors",{}),ts(u,"handleFileChange",function(){var e,t,n,r=null===(e=u.fileInput)||void 0===e||null===(e=e.files)||void 0===e?void 0:e[0];if(r){if(r.size>5242880)return console.warn("   5 "),void(u.fileInput.value="");null===(t=(n=u.props).onAvatarSelect)||void 0===t||t.call(n,r),u.fileInput.value=""}}),u.initialValues=u.pickEditableValues(u.props),u.currentValues=Qc({},u.initialValues),u.firstNameField=new _t({label:"",name:"firstName",variant:"filled",onInput:function(e){return u.handleInputChange("firstName",e)}}),u.lastNameField=new _t({label:"",name:"lastName",variant:"filled",onInput:function(e){return u.handleInputChange("lastName",e)}}),u.middleNameField=new _t({label:"",name:"middleName",variant:"filled",onInput:function(e){return u.handleInputChange("middleName",e)}}),u.birthDateField=new _t({label:" ",name:"birthDate",type:"date",variant:"filled",onInput:function(e){return u.handleInputChange("birthDate",e)}}),u.genderField=new Yn({name:"gender",label:"",options:[{label:"",value:"male"},{label:"",value:"female"}],value:null!==(l=u.props.gender)&&void 0!==l?l:"",onChange:function(e){return u.handleInputChange("gender",e)}}),u.uploadButton=new Ut({label:rs,variant:"secondary",onClick:function(){return u.handleUploadClick()}}),u.saveButton=new Ut({label:"",variant:"primary",onClick:function(){return u.handleSave()}}),u.cancelButton=new Ut({label:"",variant:"secondary",onClick:function(){return u.handleCancel()}}),u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&es(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){var e;return Gc()({fullName:this.props.fullName,avatarUrl:null!==(e=this.props.avatarUrl)&&void 0!==e?e:null,initials:Oo(this.props.fullName)})}},{key:"afterRender",value:function(){this.mountField("firstName",this.firstNameField),this.mountField("lastName",this.lastNameField),this.mountField("middleName",this.middleNameField),this.mountField("birthDate",this.birthDateField),this.mountField("gender",this.genderField),this.mountField("upload",this.uploadButton),this.mountField("save",this.saveButton),this.mountField("cancel",this.cancelButton),this.ensureFileInput(),this.setFieldValues(this.currentValues),this.updateFullNameFromValues(this.currentValues),this.updateAvatar(),this.updateUploadButton(),this.updateButtons()}},{key:"setProfile",value:function(e){this.props=Qc(Qc({},this.props),e),this.initialValues=this.pickEditableValues(this.props),this.currentValues=Qc({},this.initialValues),this.clearErrors(),this.setFieldValues(this.currentValues),this.updateFullNameFromValues(this.currentValues),this.updateAvatar(),this.updateUploadButton(),this.updateButtons()}},{key:"setAvatarUrl",value:function(e){this.props=Qc(Qc({},this.props),{},{avatarUrl:e}),this.updateAvatar()}},{key:"setAvatarUploading",value:function(e){this.props=Qc(Qc({},this.props),{},{isAvatarUploading:e}),this.updateUploadButton(),this.updateButtons()}},{key:"setSubmitting",value:function(e){this.props=Qc(Qc({},this.props),{},{isSubmitting:e}),this.updateButtons()}},{key:"unmount",value:(o=Wc().m(function e(){return Wc().w(function(e){for(;;)switch(e.n){case 0:return this.fileInput&&(this.fileInput.removeEventListener("change",this.handleFileChange),this.fileInput=null),e.n=1,Promise.all([this.firstNameField.unmount(),this.lastNameField.unmount(),this.middleNameField.unmount(),this.birthDateField.unmount(),this.genderField.unmount(),this.uploadButton.unmount(),this.saveButton.unmount(),this.cancelButton.unmount()]);case 1:return e.n=2,Jc(t,"unmount",this,3)([]);case 2:return e.a(2)}},e,this)}),i=function(){var e=this,t=arguments;return new Promise(function(n,r){var i=o.apply(e,t);function a(e){Vc(i,n,r,a,l,"next",e)}function l(e){Vc(i,n,r,a,l,"throw",e)}a(void 0)})},function(){return i.apply(this,arguments)})},{key:"mountField",value:function(e,t){var n,r=null===(n=this.element)||void 0===n?void 0:n.querySelector('[data-slot="'.concat(e,'"]'));if(r){r.innerHTML="";var o=t.render();r.appendChild(o),t.mount(r).then()}}},{key:"pickEditableValues",value:function(e){var t,n,r,o;return{firstName:null!==(t=e.firstName)&&void 0!==t?t:"",lastName:null!==(n=e.lastName)&&void 0!==n?n:"",middleName:null!==(r=e.middleName)&&void 0!==r?r:"",birthDate:null!==(o=e.birthDate)&&void 0!==o?o:"",gender:this.normalizeGender(e.gender)}}},{key:"setFieldValues",value:function(e){var t,n,r,o;this.firstNameField.setValue(null!==(t=e.firstName)&&void 0!==t?t:""),this.lastNameField.setValue(null!==(n=e.lastName)&&void 0!==n?n:""),this.middleNameField.setValue(null!==(r=e.middleName)&&void 0!==r?r:""),this.birthDateField.setValue(null!==(o=e.birthDate)&&void 0!==o?o:""),this.genderField.setValue(e.gender||"")}},{key:"handleInputChange",value:function(e,t){this.currentValues=Qc(Qc({},this.currentValues),{},"gender"===e?{gender:this.normalizeGender(t)}:ts({},e,t)),this.clearFieldError(e),this.updateFullNameFromValues(this.currentValues),this.updateUploadButton(),this.updateButtons()}},{key:"handleSave",value:function(){var e,t;this.props.isSubmitting||this.props.isAvatarUploading||!this.isDirty()||null===(e=(t=this.props).onSubmit)||void 0===e||e.call(t,Qc({},this.currentValues))}},{key:"handleCancel",value:function(){var e,t;this.currentValues=Qc({},this.initialValues),this.setFieldValues(this.currentValues),this.updateFullNameFromValues(this.currentValues),this.updateButtons(),null===(e=(t=this.props).onCancel)||void 0===e||e.call(t)}},{key:"ensureFileInput",value:function(){this.element&&(this.fileInput||(this.fileInput=document.createElement("input"),this.fileInput.type="file",this.fileInput.accept="image/*",this.fileInput.style.display="none",this.fileInput.addEventListener("change",this.handleFileChange)),this.fileInput.isConnected||this.element.appendChild(this.fileInput))}},{key:"updateAvatar",value:function(){var e,t=null===(e=this.element)||void 0===e?void 0:e.querySelector(".profile-form__avatar");if(t){var n,r=Oo(this.props.fullName),o=t.querySelector('[data-slot="upload"]'),i=t.querySelector("img"),a=t.querySelector("span");this.props.avatarUrl?(i||(i=document.createElement("img"),o?t.insertBefore(i,o):t.appendChild(i)),i.src=this.props.avatarUrl,i.alt=this.props.fullName,i.style.display="block",null===(n=a)||void 0===n||n.remove()):(i&&i.remove(),a||(a=document.createElement("span"),o?t.insertBefore(a,o):t.appendChild(a)),a.textContent=r)}}},{key:"updateUploadButton",value:function(){var e=this,t=Boolean(this.props.isAvatarUploading);this.uploadButton.setProps({label:this.getUploadButtonLabel(),disabled:t,variant:"secondary",onClick:function(){return e.handleUploadClick()}})}},{key:"getUploadButtonLabel",value:function(){return this.props.isAvatarUploading?"...":rs}},{key:"updateButtons",value:function(){var e=this,t=Boolean(this.props.isSubmitting),n=Boolean(this.props.isAvatarUploading),r=this.isDirty();this.saveButton.setProps({label:t?"...":"",disabled:t||n||!r,variant:"primary",onClick:function(){return e.handleSave()}}),this.cancelButton.setProps({label:"",disabled:t,variant:"secondary",onClick:function(){return e.handleCancel()}})}},{key:"setErrors",value:function(e){var t,n,r,o,i,a=new Map;e.forEach(function(e){return a.set(e.field,e.message)}),this.setFieldError("firstName",null!==(t=a.get("firstName"))&&void 0!==t?t:null),this.setFieldError("lastName",null!==(n=a.get("lastName"))&&void 0!==n?n:null),this.setFieldError("middleName",null!==(r=a.get("middleName"))&&void 0!==r?r:null),this.setFieldError("birthDate",null!==(o=a.get("birthDate"))&&void 0!==o?o:null),this.setFieldError("gender",null!==(i=a.get("gender"))&&void 0!==i?i:null)}},{key:"clearErrors",value:function(){this.setFieldError("firstName",null),this.setFieldError("lastName",null),this.setFieldError("middleName",null),this.setFieldError("birthDate",null),this.setFieldError("gender",null)}},{key:"setFieldError",value:function(e,t){switch(this.fieldErrors[e]=null!=t?t:void 0,e){case"firstName":this.firstNameField.setError(t);break;case"lastName":this.lastNameField.setError(t);break;case"middleName":this.middleNameField.setError(t);break;case"birthDate":this.birthDateField.setError(t)}}},{key:"clearFieldError",value:function(e){this.fieldErrors[e]&&this.setFieldError(e,null)}},{key:"handleUploadClick",value:function(){var e;this.props.isAvatarUploading||null===(e=this.fileInput)||void 0===e||e.click()}},{key:"updateFullNameFromValues",value:function(e){var t=this.buildFullName(e);this.props=Qc(Qc({},this.props),{},{fullName:t}),this.updateAvatar()}},{key:"buildFullName",value:function(e){var t,n,r=[e.firstName,e.lastName,e.middleName].map(function(e){return e.trim()}).filter(Boolean);return r.length>0?r.join(" "):(null===(t=this.props.username)||void 0===t?void 0:t.trim())||(null===(n=this.props.email)||void 0===n?void 0:n.trim())||this.props.fullName||"--"}},{key:"isDirty",value:function(){return this.initialValues.firstName!==this.currentValues.firstName||this.initialValues.lastName!==this.currentValues.lastName||this.initialValues.middleName!==this.currentValues.middleName||(this.initialValues.birthDate||"")!==(this.currentValues.birthDate||"")||(this.initialValues.gender||"")!==(this.currentValues.gender||"")}},{key:"normalizeGender",value:function(e){return"male"===e||"female"===e?e:""}}],r&&$c(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i}(Se),is=n(3714),as={};function ls(e){return ls="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ls(e)}function us(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return cs(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(cs(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,cs(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,cs(f,"constructor",c),cs(c,"constructor",u),u.displayName="GeneratorFunction",cs(c,o,"GeneratorFunction"),cs(f),cs(f,o,"Generator"),cs(f,r,function(){return this}),cs(f,"toString",function(){return"[object Generator]"}),(us=function(){return{w:i,m:p}})()}function cs(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}cs=function(e,t,n,r){function i(t,n){cs(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},cs(e,t,n,r)}function ss(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function fs(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){ss(i,r,o,a,l,"next",e)}function l(e){ss(i,r,o,a,l,"throw",e)}a(void 0)})}}function ps(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ds(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ps(Object(n),!0).forEach(function(t){gs(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ps(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function As(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cs(r.key),r)}}function hs(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(hs=function(){return!!e})()}function ms(e,t,n,r){var o=ys(vs(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function ys(){return ys="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=vs(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},ys.apply(null,arguments)}function vs(e){return vs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vs(e)}function bs(e,t){return bs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bs(e,t)}function gs(e,t,n){return(t=Cs(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cs(e){var t=function(e){if("object"!=ls(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ls(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ls(t)?t:t+""}as.styleTagTransform=ot(),as.setAttributes=et(),as.insert=Ze().bind(null,"head"),as.domAPI=Ke(),as.insertStyleElement=nt(),Qe()(is.A,as),is.A&&is.A.locals&&is.A.locals;var ws={fullName:"",email:"",username:"",firstName:"",lastName:"",middleName:"",birthDate:"",gender:"",avatarUrl:null},_s=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),gs(e=function(e,t,n){return t=vs(t),function(e,t){if(t&&("object"==ls(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,hs()?Reflect.construct(t,n||[],vs(e).constructor):t.apply(e,n))}(this,t),"profile",null),gs(e,"globalLoadingDepth",0),e.sidebar=new Nc({name:ws.fullName,email:ws.email,avatarUrl:ws.avatarUrl,onNavigateInbox:function(){return e.router.navigate("/inbox")}}),e.form=new os(ds(ds({},ws),{},{onAvatarSelect:function(t){return e.handleAvatarSelect(t)},onSubmit:function(t){return e.handleProfileSubmit(t)},onCancel:function(){return e.handleProfileCancel()}})),e.header=new ni({showSearch:!1,avatarLabel:"--",avatarImageUrl:ws.avatarUrl,userName:ws.fullName,userEmail:ws.email,onLogout:function(){return e.handleLogout()}}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bs(e,t)}(t,e),n=t,r=[{key:"renderTemplate",value:function(){return'<div class="profile-page"></div>'}},{key:"getSlotContent",value:function(){return{header:this.header,sidebar:this.sidebar,main:this.form}}},{key:"init",value:(c=fs(us().m(function e(){return us().w(function(e){for(;;)switch(e.n){case 0:return this.layout instanceof Ql&&(this.layout.setContentBackground(!1),this.layout.setSidebarWidth("240px")),e.n=1,this.loadProfile();case 1:return e.a(2)}},e,this)})),function(){return c.apply(this,arguments)})},{key:"unmount",value:(u=fs(us().m(function e(){return us().w(function(e){for(;;)switch(e.n){case 0:return this.layout instanceof Ql&&(this.layout.setContentBackground(!0),this.layout.setSidebarWidth(null)),e.n=1,ms(t,"unmount",this,3)([]);case 1:return e.a(2)}},e,this)})),function(){return u.apply(this,arguments)})},{key:"loadProfile",value:(l=fs(us().m(function e(){var t,n,r;return us().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,this.beginGlobalLoading(),e.n=1,Q();case 1:t=e.v,n=this.normalizeProfile(t),this.applyProfile(n),e.n=3;break;case 2:e.p=2,r=e.v,console.error("Failed to load profile",r);case 3:return e.p=3,this.endGlobalLoading(),e.f(3);case 4:return e.a(2)}},e,this,[[0,2,3,4]])})),function(){return l.apply(this,arguments)})},{key:"handleAvatarSelect",value:(a=fs(us().m(function e(t){var n,r,o;return us().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t){e.n=1;break}return e.a(2);case 1:return e.p=1,this.beginGlobalLoading(),this.form.setAvatarUploading(!0),e.n=2,K(t);case 2:n=e.v,r=n||null,this.profile&&(this.profile.avatarUrl=r,this.applyProfile(this.profile)),e.n=4;break;case 3:e.p=3,o=e.v,console.error("Failed to upload avatar",o);case 4:return e.p=4,this.form.setAvatarUploading(!1),this.endGlobalLoading(),e.f(4);case 5:return e.a(2)}},e,this,[[1,3,4,5]])})),function(e){return a.apply(this,arguments)})},{key:"handleProfileSubmit",value:(i=fs(us().m(function e(t){var n,r,o,i,a;return us().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=N({firstName:t.firstName,lastName:t.lastName,middleName:t.middleName,birthDate:t.birthDate,gender:null!==(n=t.gender)&&void 0!==n?n:""}),this.form.setErrors(r),!(r.length>0)){e.n=1;break}return e.a(2);case 1:return this.beginGlobalLoading(),this.form.setSubmitting(!0),e.p=2,e.n=3,Z({firstName:t.firstName,lastName:t.lastName,middleName:t.middleName,birthday:t.birthDate,gender:t.gender});case 3:o=e.v,i=this.normalizeProfile(o),this.applyProfile(i),this.form.clearErrors(),e.n=5;break;case 4:e.p=4,a=e.v,console.error("Failed to update profile",a);case 5:return e.p=5,this.form.setSubmitting(!1),this.endGlobalLoading(),e.f(5);case 6:return e.a(2)}},e,this,[[2,4,5,6]])})),function(e){return i.apply(this,arguments)})},{key:"handleProfileCancel",value:function(){this.profile?this.applyProfile(this.profile):this.form.setProfile(ds({},ws))}},{key:"handleLogout",value:(o=fs(us().m(function e(){var t;return us().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,pn();case 1:e.n=3;break;case 2:e.p=2,t=e.v,console.error("Failed to logout",t);case 3:return e.p=3,le.setAuthenticated(!1),this.router.navigate("/auth").then(),e.f(3);case 4:return e.a(2)}},e,this,[[0,2,3,4]])})),function(){return o.apply(this,arguments)})},{key:"applyProfile",value:function(e){var t=e.fullName,n=e.email,r=e.username,o=e.firstName,i=e.lastName,a=e.middleName,l=e.birthday,u=e.gender,c=e.avatarUrl,s=null!=c?c:null;this.profile=e,this.sidebar.setProps({name:t,email:n,avatarUrl:s}),this.form.clearErrors(),this.form.setProfile({fullName:t,email:n,username:r,firstName:o,lastName:i,middleName:a,birthDate:l,gender:u,avatarUrl:s});var f=Io(e);this.header.setProps({avatarLabel:f.initials,avatarImageUrl:f.avatarUrl,userName:f.fullName,userEmail:f.email}),Mo(f)}},{key:"normalizeProfile",value:function(e){var t=(e.fullName||e.username).trim();return ds(ds({},e),{},{fullName:t||e.username})}},{key:"beginGlobalLoading",value:function(){this.globalLoadingDepth+=1,this.updateLayoutLoadingState()}},{key:"endGlobalLoading",value:function(){0!==this.globalLoadingDepth&&(this.globalLoadingDepth-=1,this.updateLayoutLoadingState())}},{key:"updateLayoutLoadingState",value:function(){this.layout instanceof Ql&&this.layout.setLoading(this.globalLoadingDepth>0)}}],r&&As(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o,i,a,l,u,c}(We),xs=n(6265),Os=n.n(xs),js=n(218),Bs={};function ks(e){return ks="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ks(e)}function Ps(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ss(r.key),r)}}function Ss(e){var t=function(e){if("object"!=ks(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=ks(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ks(t)?t:t+""}function Es(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(Es=function(){return!!e})()}function Ts(e){return Ts=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ts(e)}function Fs(e,t){return Fs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Fs(e,t)}Bs.styleTagTransform=ot(),Bs.setAttributes=et(),Bs.insert=Ze().bind(null,"head"),Bs.domAPI=Ke(),Bs.insertStyleElement=nt(),Qe()(js.A,Bs),js.A&&js.A.locals&&js.A.locals;var Rs=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=Ts(t),function(e,t){if(t&&("object"==ks(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Es()?Reflect.construct(t,n||[],Ts(e).constructor):t.apply(e,n))}(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fs(e,t)}(t,e),n=t,(r=[{key:"renderTemplate",value:function(){return Os()({})}}])&&Ps(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(Il);function Is(e){return Is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Is(e)}function Ms(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Us(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ms(Object(n),!0).forEach(function(t){Ns(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ms(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ns(e,t,n){return(t=function(e){var t=function(e){if("object"!=Is(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=Is(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Is(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ds={auth:function(){return new Rs},main:function(){return new Ql}},Gs=[{path:"/auth",layoutKey:"auth",createPage:function(){return new On},guestOnly:!0},{path:"/register",layoutKey:"auth",createPage:function(){return new cr},guestOnly:!0},{path:"/inbox/:messageId?",layoutKey:"main",createPage:function(e){return new Ku({messageId:e.messageId})},requiresAuth:!0},{path:"/profile",layoutKey:"main",createPage:function(){return new _s},requiresAuth:!0}].map(function(e){return Us(Us({},e),{},{createLayout:Ds[e.layoutKey]})});function qs(e){return qs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qs(e)}function Ls(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof l?r:l,c=Object.create(u.prototype);return Ys(c,"_invoke",function(n,r,o){var i,l,u,c=0,s=o||[],f=!1,p={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,n){return i=t,l=0,u=e,p.n=n,a}};function d(n,r){for(l=n,u=r,t=0;!f&&c&&!o&&t<s.length;t++){var o,i=s[t],d=p.p,A=i[2];n>3?(o=A===r)&&(u=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=n<2&&d<i[1])?(l=0,p.v=r,p.n=i[1]):d<A&&(o=n<3||i[0]>r||r>A)&&(i[4]=n,i[5]=r,p.n=A,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,s,A){if(c>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,A),l=s,u=A;(t=l<2?e:u)||!f;){i||(l?l<3?(l>1&&(p.n=-1),d(l,u)):p.n=u:p.v=u);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=p.n<0)?u:n.call(r,p))!==a)break}catch(t){i=e,l=1,u=t}finally{c=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function u(){}function c(){}t=Object.getPrototypeOf;var s=[][r]?t(t([][r]())):(Ys(t={},r,function(){return this}),t),f=c.prototype=l.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,Ys(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=c,Ys(f,"constructor",c),Ys(c,"constructor",u),u.displayName="GeneratorFunction",Ys(c,o,"GeneratorFunction"),Ys(f),Ys(f,o,"Generator"),Ys(f,r,function(){return this}),Ys(f,"toString",function(){return"[object Generator]"}),(Ls=function(){return{w:i,m:p}})()}function Ys(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}Ys=function(e,t,n,r){function i(t,n){Ys(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},Ys(e,t,n,r)}function Ws(e,t,n,r,o,i,a){try{var l=e[i](a),u=l.value}catch(e){return void n(e)}l.done?t(u):Promise.resolve(u).then(r,o)}function zs(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){Ws(i,r,o,a,l,"next",e)}function l(e){Ws(i,r,o,a,l,"throw",e)}a(void 0)})}}function Vs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qs(r.key),r)}}function Hs(e,t,n){return(t=Qs(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qs(e){var t=function(e){if("object"!=qs(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=qs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==qs(t)?t:t+""}var $s=function(){return e=function e(){var t,n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),Hs(this,"activePage",null),Hs(this,"activeLayout",null),Hs(this,"activeRouteConfig",null),this.rootElement=document.getElementById("app"),this.rootElement?(this.router=ye.getInstance(),t=this.router,Gs.forEach(function(e){t.addRoute(e)}),this.router.onNavigate(function(){var e=zs(Ls().m(function e(t){return Ls().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,n.handleNavigate(t);case 1:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}()),this.router.start()):console.error("Root element #app not found. Check your index.html")},t=[{key:"init",value:(r=zs(Ls().m(function e(){return Ls().w(function(e){for(;;)if(0===e.n)return e.a(2)},e)})),function(){return r.apply(this,arguments)})},{key:"handleNavigate",value:(n=zs(Ls().m(function e(t){var n,r,o,i,a,l;return Ls().w(function(e){for(;;)switch(e.n){case 0:if(r=t.layout,o=t.params,i=t.config,this.rootElement){e.n=1;break}return e.a(2);case 1:if(a=this.activeLayout===r&&!!r.getElement(),!this.activePage||this.activeRouteConfig!==i){e.n=3;break}return e.n=2,this.activePage.update(o);case 2:return this.activeLayout=r,this.activeRouteConfig=i,e.a(2);case 3:if(l=i.createPage(o),!this.activePage||a){e.n=4;break}return e.n=4,this.activePage.unmount();case 4:return e.n=5,l.renderWithLayout(r,a);case 5:if(a&&null!==(n=r.getElement())&&void 0!==n&&n.isConnected){e.n=7;break}return this.rootElement.innerHTML="",e.n=6,l.mount(this.rootElement);case 6:e.n=8;break;case 7:return e.n=8,l.mount(this.rootElement,{skipAppend:!0});case 8:if(!(Object.keys(o).length>0)){e.n=9;break}return e.n=9,l.update(o);case 9:this.activePage=l,this.activeLayout=r,this.activeRouteConfig=i;case 10:return e.a(2)}},e,this)})),function(e){return n.apply(this,arguments)})}],t&&Vs(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n,r}();if(!document.getElementById("app"))throw new Error("Root element #app not found");var Ks=new $s;document.addEventListener("DOMContentLoaded",function(){Ks.init()})})()})();