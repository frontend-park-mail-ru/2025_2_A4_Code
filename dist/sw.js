/*! For license information please see sw.js.LICENSE.txt */
(()=>{"use strict";var e="flintmail-data-",n="".concat("flintmail-app-shell-").concat("v2"),t="".concat(e).concat("v2"),r=["/","/index.html","/bundle.js","/css/normalize.css","/img/arrow-left.svg","/img/background.jpg","/img/close-modal.svg","/img/folder-add.svg","/img/folder-dialog.svg","/img/folder-drafts.svg","/img/folder-inbox.svg","/img/folder-sent.svg","/img/folder-spam.svg","/img/folder-trash.svg","/img/logo.svg","/img/menu-logout-logo.svg","/img/menu-profile-logo.svg","/img/menu-settings-logo.svg","/img/message-back.svg","/img/message-delete.svg","/img/message-forward.svg","/img/message-in-folder.svg","/img/message-reply.svg","/img/message-to-spam.svg","/img/modal-attach-file.svg","/img/modal-to-draft.svg","/img/profile-sidebar-interface-logo.svg","/img/profile-sidebar-personal-logo.svg","/img/search-logo.svg","/img/search-normal.png","/img/working-offline.svg"];function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return i(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,u=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return c=e.done,e},e:function(e){u=!0,o=e},f:function(){try{c||null==t.return||t.return()}finally{if(u)throw o}}}}function i(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function c(){var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",a=t.toStringTag||"@@toStringTag";function o(t,r,a,o){var c=r&&r.prototype instanceof s?r:s,l=Object.create(c.prototype);return u(l,"_invoke",function(t,r,a){var o,c,u,s=0,l=a||[],f=!1,p={p:0,n:0,v:e,a:h,f:h.bind(e,4),d:function(n,t){return o=n,c=0,u=e,p.n=t,i}};function h(t,r){for(c=t,u=r,n=0;!f&&s&&!a&&n<l.length;n++){var a,o=l[n],h=p.p,m=o[2];t>3?(a=m===r)&&(u=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=h&&((a=t<2&&h<o[1])?(c=0,p.v=r,p.n=o[1]):h<m&&(a=t<3||o[0]>r||r>m)&&(o[4]=t,o[5]=r,p.n=m,c=0))}if(a||t>1)return i;throw f=!0,r}return function(a,l,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&h(l,m),c=l,u=m;(n=c<2?e:u)||!f;){o||(c?c<3?(c>1&&(p.n=-1),h(c,u)):p.n=u:p.v=u);try{if(s=2,o){if(c||(a="next"),n=o[a]){if(!(n=n.call(o,u)))throw TypeError("iterator result is not an object");if(!n.done)return n;u=n.value,c<2&&(c=0)}else 1===c&&(n=o.return)&&n.call(o),c<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=e}else if((n=(f=p.n<0)?u:t.call(r,p))!==i)break}catch(n){o=e,c=1,u=n}finally{s=1}}return{value:n,done:f}}}(t,a,o),!0),l}var i={};function s(){}function l(){}function f(){}n=Object.getPrototypeOf;var p=[][r]?n(n([][r]())):(u(n={},r,function(){return this}),n),h=f.prototype=s.prototype=Object.create(p);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,u(e,a,"GeneratorFunction")),e.prototype=Object.create(h),e}return l.prototype=f,u(h,"constructor",f),u(f,"constructor",l),l.displayName="GeneratorFunction",u(f,a,"GeneratorFunction"),u(h),u(h,a,"Generator"),u(h,r,function(){return this}),u(h,"toString",function(){return"[object Generator]"}),(c=function(){return{w:o,m}})()}function u(e,n,t,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}u=function(e,n,t,r){function o(n,t){u(e,n,function(e){return this._invoke(n,t,e)})}n?a?a(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t:(o("next",0),o("throw",1),o("return",2))},u(e,n,t,r)}function s(e,n,t,r,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void t(e)}c.done?n(u):Promise.resolve(u).then(r,a)}function l(e){return function(){var n=this,t=arguments;return new Promise(function(r,a){var o=e.apply(n,t);function i(e){s(o,r,a,i,c,"next",e)}function c(e){s(o,r,a,i,c,"throw",e)}i(void 0)})}}function f(e){var n=function(e){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=a(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(n)?n:n+""}function p(e){var n="function"==typeof Map?new Map:void 0;return p=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(n){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return function(e,n,t){if(h())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,n);var a=new(e.bind.apply(e,r));return t&&m(a,t.prototype),a}(e,arguments,v(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),m(t,e)},p(e)}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(h=function(){return!!e})()}function m(e,n){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},m(e,n)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var d="[sw]",g="X-Flintmail-Offline",y=["/messages","/profile","/auth"],b=["217.16.16.26","localhost","127.0.0.1"],w=["/messages/inbox"],k=["/index.html","/"],j=new Set(["style","script","image","font","worker","manifest"]),O=new Set(["http:","https:"]),S=function(e){function n(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,n,t){return n=v(n),function(e,n){if(n&&("object"==a(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,h()?Reflect.construct(n,t||[],v(e).constructor):n.apply(e,t))}(this,n,["Server requested offline mode"])}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&m(e,n)}(n,e),t=n,Object.defineProperty(t,"prototype",{writable:!1}),t;var t}(p(Error));function x(e){var n=b.includes(e.hostname),t=y.some(function(n){return e.pathname.startsWith(n)});return n&&t}function E(e){return"document"===e.destination||j.has(e.destination)}function P(){return(P=l(c().m(function e(t,r){var a,o;return c().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,caches.open(n);case 1:return a=e.v,e.n=2,a.match(r,{ignoreSearch:!0});case 2:if(!(o=e.v)){e.n=3;break}return V("document:cache-hit",r.url),t.waitUntil(T(a,r)),e.a(2,o);case 3:return V("document:cache-miss",r.url),e.a(2,_(a,r))}},e)}))).apply(this,arguments)}function T(e,n){return A.apply(this,arguments)}function A(){return(A=l(c().m(function e(n,t){var r,a;return c().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,fetch(t);case 1:if(null==(r=e.v)||!r.ok){e.n=3;break}return e.n=2,n.put(K(t,!0),r.clone());case 2:V("document:refreshed",t.url),e.n=4;break;case 3:Y("document:refresh-status",t.url,null==r?void 0:r.status);case 4:e.n=6;break;case 5:e.p=5,a=e.v,Y("document:refresh-error",t.url,a);case 6:return e.a(2)}},e,null,[[0,5]])}))).apply(this,arguments)}function _(e,n){return W.apply(this,arguments)}function W(){return(W=l(c().m(function e(n,t){var r,a,o;return c().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,fetch(t);case 1:if(null==(r=e.v)||!r.ok){e.n=3;break}return e.n=2,n.put(K(t,!0),r.clone());case 2:e.n=4;break;case 3:Y("document:network-status",t.url,null==r?void 0:r.status);case 4:return e.a(2,r);case 5:if(e.p=5,o=e.v,Y("document:network-failed",t.url,o),!Q(o)){e.n=6;break}return V("document:offline-page",t.url),e.a(2,D());case 6:return e.n=7,q(n);case 7:if(!(a=e.v)){e.n=8;break}return V("document:shell-fallback",t.url),e.a(2,a);case 8:return e.a(2,D())}},e,null,[[0,5]])}))).apply(this,arguments)}function R(){return(R=l(c().m(function e(n,r){var a,o,i,u;return c().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,caches.open(t);case 1:return a=e.v,e.n=2,a.match(r);case 2:if(!(o=e.v)){e.n=3;break}return V("api:cache-hit",r.url),n.waitUntil(I(r,a).catch(function(e){Y("api:refresh-failed",r.url,e)})),e.a(2,o);case 3:return V("api:cache-miss",r.url),e.p=4,e.n=5,I(r,a);case 5:return e.a(2,e.v);case 6:if(e.p=6,!((u=e.v)instanceof S)){e.n=9;break}return e.n=7,a.match(r);case 7:if(!(i=e.v)){e.n=8;break}return V("api:offline-cache",r.url),e.a(2,i);case 8:return e.a(2,B());case 9:throw u;case 10:return e.a(2)}},e,null,[[4,6]])}))).apply(this,arguments)}function U(){return(U=l(c().m(function e(n){var r,a,o,i;return c().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,caches.open(t);case 1:return r=e.v,e.p=2,e.n=3,I(n,r);case 3:return a=e.v,V("messages:network",n.url),e.a(2,a);case 4:return e.p=4,i=e.v,e.n=5,r.match(n);case 5:if(!(o=e.v)){e.n=6;break}return Y("messages:fallback-cache",n.url,i),e.a(2,o);case 6:if(!(i instanceof S)){e.n=7;break}return e.a(2,B());case 7:throw i;case 8:return e.a(2)}},e,null,[[2,4]])}))).apply(this,arguments)}function L(e,n){return C.apply(this,arguments)}function C(){return(C=l(c().m(function e(t,r){var a,o,i,u,s;return c().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.n=1,caches.open(n);case 1:return a=e.v,o=E(r),e.n=2,a.match(r,{ignoreSearch:o});case 2:if(!(i=e.v)){e.n=3;break}return V("asset:cache-hit",r.url),t.waitUntil(F(a,r,o).catch(function(e){Y("asset:refresh-error",r.url,e)})),e.a(2,i);case 3:return V("asset:cache-miss",r.url),e.p=4,e.n=5,fetch(r);case 5:if(null==(u=e.v)||!u.ok){e.n=7;break}return e.n=6,a.put(K(r,o),u.clone());case 6:V("asset:cached",r.url),e.n=8;break;case 7:Y("asset:network-status",r.url,null==u?void 0:u.status);case 8:return e.a(2,u);case 9:throw e.p=9,s=e.v,Y("asset:network-error",r.url,s),s;case 10:return e.a(2)}},e,null,[[4,9]])}))).apply(this,arguments)}function F(e,n,t){return G.apply(this,arguments)}function G(){return(G=l(c().m(function e(n,t,r){var a;return c().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,fetch(t);case 1:if(null==(a=e.v)||!a.ok){e.n=3;break}return e.n=2,n.put(K(t,r),a.clone());case 2:V("asset:refreshed",t.url),e.n=4;break;case 3:Y("asset:refresh-status",t.url,null==a?void 0:a.status);case 4:return e.a(2)}},e)}))).apply(this,arguments)}function I(e,n){return M.apply(this,arguments)}function M(){return(M=l(c().m(function e(n,t){var r,a;return c().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,fetch(n);case 1:if("1"!==(r=e.v).headers.get(g)){e.n=2;break}throw V("api:offline-header",n.url),new S;case 2:if(!r.ok){e.n=4;break}return e.n=3,t.put(n,r.clone());case 3:V("api:cached",n.url),e.n=5;break;case 4:Y("api:network-status",n.url,r.status);case 5:return e.a(2,r);case 6:if(e.p=6,!((a=e.v)instanceof S)){e.n=7;break}throw a;case 7:throw Y("api:network-error",n.url,a),new S;case 8:return e.a(2)}},e,null,[[0,6]])}))).apply(this,arguments)}function q(e){return z.apply(this,arguments)}function z(){return(z=l(c().m(function e(n){var t,r,a,i,u;return c().w(function(e){for(;;)switch(e.p=e.n){case 0:t=o(k),e.p=1,t.s();case 2:if((r=t.n()).done){e.n=5;break}return a=r.value,e.n=3,n.match(a);case 3:if(!(i=e.v)){e.n=4;break}return V("document:shell-hit",a),e.a(2,i);case 4:e.n=2;break;case 5:e.n=7;break;case 6:e.p=6,u=e.v,t.e(u);case 7:return e.p=7,t.f(),e.f(7);case 8:return V("document:no-shell"),e.a(2,void 0)}},e,null,[[1,6,7,8]])}))).apply(this,arguments)}function B(){return new Response(JSON.stringify({message:"offline",offline:!0}),{status:503,statusText:"Offline",headers:(e={"Content-Type":"application/json"},n=g,(n=f(n))in e?Object.defineProperty(e,n,{value:"1",enumerable:!0,configurable:!0,writable:!0}):e[n]="1",e)});var e,n}function D(){return new Response('\n<!doctype html>\n<html lang="ru">\n    <head>\n        <meta charset="utf-8" />\n        <title>Flintmail вЂ” РѕС„Р»Р°Р№РЅ</title>\n        <meta name="viewport" content="width=device-width, initial-scale=1" />\n        <style>\n            * {\n                box-sizing: border-box;\n            }\n            body {\n                margin: 0;\n                font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Inter", Arial, sans-serif;\n                background: #f5f6fb;\n                color: #1f2544;\n                min-height: 100vh;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                padding: 32px;\n            }\n            .offline-card {\n                max-width: 360px;\n                text-align: center;\n            }\n            .offline-card img {\n                width: 104px;\n                height: 104px;\n                margin-bottom: 20px;\n            }\n            h1 {\n                font-size: 22px;\n                margin: 0 0 12px;\n            }\n            p {\n                margin: 0;\n                color: #5d6381;\n                line-height: 1.4;\n            }\n        </style>\n    </head>\n    <body>\n        <div class="offline-card">\n            Working offline\n        </div>\n    </body>\n</html>\n',{status:200,headers:{"Content-Type":"text/html; charset=utf-8"}})}function N(){return H.apply(this,arguments)}function H(){return(H=l(c().m(function e(){var r,a,o;return c().w(function(e){for(;;)switch(e.n){case 0:return r=new Set([n,t]),e.n=1,caches.keys();case 1:if(a=e.v,0!==(o=a.filter(function(e){return!r.has(e)})).length){e.n=2;break}return V("activate:no-stale-caches"),e.a(2);case 2:return e.n=3,Promise.all(o.map(function(e){return caches.delete(e)}));case 3:V("activate:removed-caches",o);case 4:return e.a(2)}},e)}))).apply(this,arguments)}function J(){return(J=l(c().m(function e(n){var t,r;return c().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,caches.keys();case 1:if(t=e.v,0!==(r=t.filter(function(e){return e.startsWith(n)})).length){e.n=2;break}return V("cache:clear-prefix-skip",n),e.a(2);case 2:return e.n=3,Promise.all(r.map(function(e){return caches.delete(e)}));case 3:V("cache:cleared-prefix",n,r);case 4:return e.a(2)}},e)}))).apply(this,arguments)}function X(e){return $.apply(this,arguments)}function $(){return($=l(c().m(function e(n){var t,r,a;return c().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,fetch("/public-assets-manifest.json",{cache:"no-store"});case 1:if(null!=(t=e.v)&&t.ok){e.n=2;break}return V("precache:manifest-miss",null==t?void 0:t.status),e.a(2);case 2:return e.n=3,t.json();case 3:if(r=e.v,Array.isArray(r.images)){e.n=4;break}return V("precache:manifest-empty"),e.a(2);case 4:if(0!==(a=r.images.filter(function(e){return"string"==typeof e})).length){e.n=5;break}return V("precache:manifest-no-images"),e.a(2);case 5:return e.n=6,n.addAll(a);case 6:V("precache:images cached",a.length),e.n=8;break;case 7:e.p=7,Y("precache:failed",e.v);case 8:return e.a(2)}},e,null,[[0,7]])}))).apply(this,arguments)}function K(e,n){if(!n)return e;var t=new URL(e.url);return t.search="",new Request(t.toString(),{method:e.method,credentials:e.credentials})}function Q(e){return!("undefined"==typeof self||!self.navigator||self.navigator.onLine)||e instanceof TypeError}function V(){for(var e,n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];(e=console).log.apply(e,[d].concat(t))}function Y(){for(var e,n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];(e=console).warn.apply(e,[d].concat(t))}self.addEventListener("install",function(e){V("install:start"),e.waitUntil(l(c().m(function e(){var t,a;return c().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,caches.open(n);case 1:return t=e.v,e.n=2,t.addAll(r);case 2:return V("install:app-shell cached",r.length,"assets"),e.n=3,X(t);case 3:return e.n=4,self.skipWaiting();case 4:V("install:completed"),e.n=6;break;case 5:throw e.p=5,Y("install:failed",a=e.v),a;case 6:return e.a(2)}},e,null,[[0,5]])}))())}),self.addEventListener("activate",function(e){V("activate:start"),e.waitUntil(l(c().m(function e(){var n;return c().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,N();case 1:return e.n=2,self.clients.claim();case 2:V("activate:completed"),e.n=4;break;case 3:throw e.p=3,Y("activate:failed",n=e.v),n;case 4:return e.a(2)}},e,null,[[0,3]])}))())}),self.addEventListener("message",function(n){var t,r=null!==(t=n.data)&&void 0!==t?t:{};r&&"string"==typeof r.type&&(V("message:received",r.type),"SW_CLEAR_DATA_CACHE"===r.type&&(V("message:clear-data-cache"),n.waitUntil(function(e){return J.apply(this,arguments)}(e))))}),self.addEventListener("fetch",function(e){var n=e.request;if("GET"===n.method){var t=new URL(n.url);O.has(t.protocol)&&(function(e){return"navigate"===e.mode||"document"===e.destination}(n)?e.respondWith(function(e,n){return P.apply(this,arguments)}(e,n)):j.has(n.destination)?e.respondWith(L(e,n)):function(e){return x(e)&&w.some(function(n){return e.pathname.startsWith(n)})}(t)?e.respondWith(function(e){return U.apply(this,arguments)}(n)):x(t)?e.respondWith(function(e,n){return R.apply(this,arguments)}(e,n)):e.respondWith(L(e,n)))}})})();